<!-- Mermaid CDN -->
<script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js" is:inline></script>

<script is:inline>
  document.addEventListener("DOMContentLoaded", function () {
    var blocks = document.querySelectorAll('pre[data-language="mermaid"]');
    if (blocks.length === 0) return;

    mermaid.initialize({
      startOnLoad: false,
      theme: "dark",
      fontFamily: "Inter, sans-serif",
    });

    blocks.forEach(function (pre, i) {
      var text = pre.textContent.trim();
      if (!text) return;

      var div = document.createElement("div");
      div.className = "mermaid";
      div.textContent = text;
      pre.replaceWith(div);
    });

    mermaid.run({ nodes: document.querySelectorAll(".mermaid") });
  });
</script>

<style is:global>
  .mermaid {
    display: flex;
    justify-content: center;
    margin: 1.5rem 0;
    padding: 1.5rem;
    border-radius: 0.75rem;
    background: oklch(0.15 0.03 265 / 0.5);
    border: 1px solid oklch(0.3 0.03 265 / 0.4);
    overflow-x: auto;
  }

  .mermaid svg {
    max-width: 100%;
    height: auto;
  }
</style>
