[["Map",1,2,9,10,956,957],"meta::meta",["Map",3,4,5,6,7,8],"astro-version","5.17.2","content-config-digest","31d955c1f8da23c5","astro-config-digest","{\"root\":{},\"srcDir\":{},\"publicDir\":{},\"outDir\":{},\"cacheDir\":{},\"compressHTML\":true,\"base\":\"/\",\"trailingSlash\":\"ignore\",\"output\":\"static\",\"scopedStyleStrategy\":\"attribute\",\"build\":{\"format\":\"directory\",\"client\":{},\"server\":{},\"assets\":\"_astro\",\"serverEntry\":\"entry.mjs\",\"redirects\":true,\"inlineStylesheets\":\"auto\",\"concurrency\":1},\"server\":{\"open\":false,\"host\":false,\"port\":4321,\"streaming\":true,\"allowedHosts\":[]},\"redirects\":{},\"image\":{\"endpoint\":{\"route\":\"/_image\"},\"service\":{\"entrypoint\":\"astro/assets/services/sharp\",\"config\":{}},\"domains\":[],\"remotePatterns\":[],\"responsiveStyles\":false},\"devToolbar\":{\"enabled\":true},\"markdown\":{\"syntaxHighlight\":{\"type\":\"shiki\",\"excludeLangs\":[\"math\"]},\"shikiConfig\":{\"langs\":[],\"langAlias\":{},\"theme\":\"night-owl\",\"themes\":{},\"wrap\":false,\"transformers\":[]},\"remarkPlugins\":[],\"rehypePlugins\":[],\"remarkRehype\":{},\"gfm\":true,\"smartypants\":true},\"security\":{\"checkOrigin\":true,\"allowedDomains\":[]},\"env\":{\"schema\":{},\"validateSecrets\":false},\"experimental\":{\"clientPrerender\":false,\"contentIntellisense\":false,\"headingIdCompat\":false,\"preserveScriptOrder\":false,\"liveContentCollections\":false,\"csp\":false,\"staticImportMetaEnv\":false,\"chromeDevtoolsWorkspace\":false,\"failOnPrerenderConflict\":false,\"svgo\":false},\"legacy\":{\"collections\":false}}","docs",["Map",11,12,367,368,426,427,519,520,644,645,701,702,792,793,774,887],"api-reference",{"id":11,"data":13,"body":18,"filePath":19,"digest":20,"rendered":21},{"title":14,"description":15,"order":16,"category":17},"API Reference","Complete API documentation for all Oroya Animate packages",6,"reference","# API Reference\r\n\r\nComplete reference for all packages in the Oroya Animate ecosystem.\r\n\r\n---\r\n\r\n## Tabla de contenidos\r\n\r\n- [Visión general de la arquitectura](#visión-general-de-la-arquitectura)\r\n- [`@oroya/core`](#oroyacore)\r\n  - [Scene](#scene)\r\n  - [Node](#node)\r\n  - [Component (base)](#component-base-abstracta)\r\n  - [Transform](#transform-componente)\r\n  - [Geometry](#geometry-componente)\r\n  - [Material](#material-componente)\r\n  - [Camera](#camera-componente)\r\n  - [Interactive](#interactive-componente)\r\n  - [EventEmitter](#eventemitter)\r\n  - [InteractionEvent](#interactionevent)\r\n  - [Factory Functions](#factory-functions)\r\n  - [Serialization](#serialización)\r\n  - [Math — Matrix4](#math--matrix4)\r\n  - [Math — BoundingBox](#math--boundingbox)\r\n- [`@oroya/renderer-three`](#oroyarenderer-three)\r\n  - [ThreeRenderer](#threerenderer)\r\n- [`@oroya/renderer-svg`](#oroyarenderer-svg)\r\n  - [renderToSVG](#rendertosvg)\r\n  - [renderToSVGElement](#rendertosvgelement)\r\n- [`@oroya/loader-gltf`](#oroyaloader-gltf)\r\n  - [loadGLTF](#loadgltf)\r\n- [Mapa completo de tipos](#mapa-completo-de-tipos)\r\n\r\n---\r\n\r\n## Visión general de la arquitectura\r\n\r\n```mermaid\r\ngraph TD\r\n    subgraph \"@oroya/core\"\r\n        Scene --> Node\r\n        Node --> Transform\r\n        Node --> Geometry\r\n        Node --> Material\r\n        Node --> Camera\r\n        Node -->|\"children[]\"| Node\r\n        \r\n        Geometry -.->|\"uses\"| GeometryDef[\"GeometryDef (union)\"]\r\n        Material -.->|\"uses\"| MaterialDef\r\n        Camera -.->|\"uses\"| CameraDef[\"CameraDef (union)\"]\r\n        Transform -.->|\"uses\"| Matrix4\r\n    end\r\n\r\n    subgraph \"@oroya/renderer-three\"\r\n        ThreeRenderer -->|\"reads\"| Scene\r\n        ThreeRenderer -->|\"produces\"| WebGL[\"WebGL Canvas\"]\r\n    end\r\n\r\n    subgraph \"@oroya/renderer-svg\"\r\n        renderToSVG -->|\"reads\"| Scene\r\n        renderToSVG -->|\"produces\"| SVGStr[\"SVG String\"]\r\n    end\r\n\r\n    subgraph \"@oroya/loader-gltf\"\r\n        loadGLTF -->|\"produces\"| Scene\r\n    end\r\n```\r\n\r\n### Flujo de datos\r\n\r\n```mermaid\r\nsequenceDiagram\r\n    participant User as User Code\r\n    participant Scene as Scene Graph\r\n    participant Node as Node + Components\r\n    participant Renderer as Renderer\r\n\r\n    User->>Scene: new Scene()\r\n    User->>Node: new Node('box')\r\n    User->>Node: addComponent(createBox(...))\r\n    User->>Node: addComponent(new Material(...))\r\n    User->>Scene: scene.add(node)\r\n    User->>Renderer: renderer.mount(scene)\r\n    \r\n    loop Animation Frame\r\n        User->>Node: transform.rotation = {...}\r\n        User->>Node: transform.updateLocalMatrix()\r\n        User->>Renderer: renderer.render()\r\n        Renderer->>Scene: scene.updateWorldMatrices()\r\n        Scene->>Node: node.updateWorldMatrix(parentMatrix)\r\n        Renderer->>Renderer: Draw frame\r\n    end\r\n```\r\n\r\n---\r\n\r\n## `@oroya/core`\r\n\r\n### Exports completos\r\n\r\n```typescript\r\n// Scene\r\nexport { Scene } from './scene/Scene';\r\n\r\n// Nodes\r\nexport { Node } from './nodes/Node';\r\n\r\n// Components\r\nexport { Component, ComponentType } from './components/Component';\r\nexport { Transform } from './components/Transform';\r\nexport type { Vec3, Quat } from './components/Transform';\r\nexport { Geometry, GeometryPrimitive } from './components/Geometry';\r\nexport type { BoxGeometryDef, SphereGeometryDef, Path2DGeometryDef, Path2DCommand, GeometryDef } from './components/Geometry';\r\nexport { Material } from './components/Material';\r\nexport type { ColorRGB, MaterialDef } from './components/Material';\r\nexport { Camera, CameraType } from './components/Camera';\r\nexport type { PerspectiveCameraDef, OrthographicCameraDef, CameraDef } from './components/Camera';\r\nexport { Animation } from './components/Animation';\r\nexport type { SvgAnimateDef, SvgAnimateTransformDef, SvgAnimationDef } from './components/Animation';\r\nexport type {\r\n  SvgFilterDef, SvgFilterEffect, SvgBlurEffect, SvgDropShadowEffect,\r\n  SvgClipPathDef, SvgMaskDef,\r\n} from './components/Material';\r\n\r\n// Primitives\r\nexport { createBox, createSphere, createPath2D } from './geometry/primitives';\r\n\r\n// Serialization\r\nexport { serialize, deserialize } from './serialization/json';\r\n\r\n// Math\r\nexport { Matrix4Identity, composeMatrix, multiplyMatrices } from './math/Matrix4';\r\nexport type { Matrix4 } from './math/Matrix4';\r\n```\r\n\r\n---\r\n\r\n### `Scene`\r\n\r\nEl contenedor de nivel superior del scene graph.\r\n\r\n**Archivo fuente:** [Scene.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/scene/Scene.ts)\r\n\r\n```typescript\r\nimport { Scene } from '@oroya/core';\r\nconst scene = new Scene();\r\n```\r\n\r\n#### Constructor\r\n\r\n| Parámetro | Tipo | Descripción |\r\n|-----------|------|-------------|\r\n| *(ninguno)* | — | Crea una escena con un nodo raíz llamado `'root'` |\r\n\r\n#### Propiedades\r\n\r\n| Propiedad | Tipo | Acceso | Descripción |\r\n|-----------|------|--------|-------------|\r\n| `root` | `Node` | `readonly` | El nodo raíz del árbol de escena |\r\n\r\n#### Métodos\r\n\r\n| Método | Firma | Retorno | Descripción |\r\n|--------|-------|---------|-------------|\r\n| `add` | `add(node: Node, parent?: Node)` | `void` | Agrega un nodo. Si no se especifica `parent`, se agrega como hijo del `root` |\r\n| `remove` | `remove(node: Node)` | `void` | Remueve un nodo de su padre |\r\n| `findNodeById` | `findNodeById(id: string)` | `Node \\| undefined` | Busca recursivamente un nodo por su UUID |\r\n| `findNodeByName` | `findNodeByName(name: string)` | `Node \\| undefined` | Busca recursivamente un nodo por su nombre |\r\n| `traverse` | `traverse(callback: (node: Node) => void)` | `void` | Recorre todos los nodos del árbol en profundidad (DFS pre-order) |\r\n| `updateWorldMatrices` | `updateWorldMatrices()` | `void` | Recalcula las matrices del mundo de todos los nodos. Se llama internamente por los renderers |\r\n\r\n#### Ejemplo\r\n\r\n```typescript\r\nconst scene = new Scene();\r\n\r\nconst parent = new Node('group');\r\nconst child = new Node('child');\r\n\r\nscene.add(parent);\r\nscene.add(child, parent); // child es hijo de parent, no del root\r\n\r\nscene.traverse(node => console.log(node.name));\r\n// → 'root', 'group', 'child'\r\n\r\nconst found = scene.findNodeByName('child');\r\nconsole.log(found?.parent?.name); // → 'group'\r\n```\r\n\r\n---\r\n\r\n### `Node`\r\n\r\nUn elemento del scene graph. Soporta jerarquía padre-hijo y un sistema de componentes ECS.\r\n\r\n**Archivo fuente:** [Node.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/nodes/Node.ts)\r\n\r\n```mermaid\r\nclassDiagram\r\n    class Node {\r\n        +readonly id: string\r\n        +name: string\r\n        +parent: Node | null\r\n        +readonly children: Node[]\r\n        +readonly components: Map~ComponentType, Component~\r\n        +get transform(): Transform\r\n        +constructor(name: string, id?: string)\r\n        +addComponent(component: Component): void\r\n        +getComponent~T~(type: ComponentType): T | undefined\r\n        +hasComponent(type: ComponentType): boolean\r\n        +add(node: Node): void\r\n        +remove(node: Node): void\r\n        +updateWorldMatrix(parentMatrix?: Matrix4): void\r\n        +traverse(callback: Function): void\r\n        +findNodeById(id: string): Node | undefined\r\n        +findNodeByName(name: string): Node | undefined\r\n    }\r\n```\r\n\r\n#### Constructor\r\n\r\n| Parámetro | Tipo | Default | Descripción |\r\n|-----------|------|---------|-------------|\r\n| `name` | `string` | *(requerido)* | Nombre legible del nodo |\r\n| `id` | `string` | `uuidv4()` | Identificador único. Se auto-genera si no se provee |\r\n\r\n> **Nota:** Cada nodo recibe automáticamente un componente `Transform` al crearse.\r\n\r\n#### Propiedades\r\n\r\n| Propiedad | Tipo | Acceso | Descripción |\r\n|-----------|------|--------|-------------|\r\n| `id` | `string` | `readonly` | UUID único generado automáticamente |\r\n| `name` | `string` | read/write | Etiqueta legible para humanos |\r\n| `parent` | `Node \\| null` | read/write | Referencia al nodo padre |\r\n| `children` | `Node[]` | `readonly` | Array de nodos hijos |\r\n| `components` | `Map\u003CComponentType, Component>` | `readonly` | Mapa de componentes. Máximo uno por tipo |\r\n| `transform` | `Transform` | getter | Acceso directo al componente Transform |\r\n| `cssClass` | `string \\| undefined` | read/write | Clase(s) CSS que el renderer SVG emite como atributo `class` en el elemento |\r\n| `cssId` | `string \\| undefined` | read/write | ID semántico que el renderer SVG emite como atributo `id` en el elemento |\r\n\r\n#### Métodos\r\n\r\n| Método | Firma | Retorno | Descripción |\r\n|--------|-------|---------|-------------|\r\n| `addComponent` | `addComponent(component: Component)` | `void` | Adjunta un componente. Si ya existe uno del mismo tipo, lo reemplaza. Establece `component.node = this` |\r\n| `getComponent\u003CT>` | `getComponent\u003CT>(type: ComponentType)` | `T \\| undefined` | Obtiene un componente por tipo, casteado al tipo genérico |\r\n| `hasComponent` | `hasComponent(type: ComponentType)` | `boolean` | Verifica si existe un componente de ese tipo |\r\n| `add` | `add(node: Node)` | `void` | Agrega un hijo. Si el nodo ya tiene padre, lo remueve primero (re-parenting) |\r\n| `remove` | `remove(node: Node)` | `void` | Remueve un hijo. Establece `node.parent = null` |\r\n| `updateWorldMatrix` | `updateWorldMatrix(parentMatrix?: Matrix4)` | `void` | Recalcula la world matrix y propaga a los hijos recursivamente |\r\n| `traverse` | `traverse(callback: (node: Node) => void)` | `void` | DFS pre-order sobre este nodo y todos los descendientes |\r\n| `findNodeById` | `findNodeById(id: string)` | `Node \\| undefined` | Búsqueda recursiva por UUID |\r\n| `findNodeByName` | `findNodeByName(name: string)` | `Node \\| undefined` | Búsqueda recursiva por nombre. Retorna el primero encontrado |\r\n\r\n#### Ejemplo completo\r\n\r\n```typescript\r\nconst player = new Node('player');\r\nplayer.addComponent(createBox(0.5, 1, 0.5));\r\nplayer.addComponent(new Material({ color: { r: 0.3, g: 0.8, b: 0.5 } }));\r\n\r\n// Composición jerárquica\r\nconst weapon = new Node('weapon');\r\nweapon.addComponent(createBox(0.1, 0.1, 0.8));\r\nweapon.transform.position = { x: 0.3, y: 0.5, z: 0 };\r\nplayer.add(weapon); // weapon es hijo de player\r\n\r\n// Consultar componentes\r\nconst geo = player.getComponent\u003CGeometry>(ComponentType.Geometry);\r\nconsole.log(geo?.definition); // { type: 'Box', width: 0.5, ... }\r\nconsole.log(player.hasComponent(ComponentType.Camera)); // false\r\n\r\n// Re-parenting: mover weapon a otro nodo\r\nconst chest = new Node('chest');\r\nchest.add(weapon); // se remueve automáticamente de player\r\nconsole.log(weapon.parent?.name); // 'chest'\r\n```\r\n\r\n---\r\n\r\n### `Component` (base abstracta)\r\n\r\nClase base para todos los componentes del sistema ECS.\r\n\r\n**Archivo fuente:** [Component.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Component.ts)\r\n\r\n```mermaid\r\nclassDiagram\r\n    class Component {\r\n        \u003C\u003Cabstract>>\r\n        +abstract readonly type: ComponentType\r\n        +node: Node | null\r\n    }\r\n    class Transform {\r\n        +type = ComponentType.Transform\r\n        +position: Vec3\r\n        +rotation: Quat\r\n        +scale: Vec3\r\n        +localMatrix: Matrix4\r\n        +worldMatrix: Matrix4\r\n        +isDirty: boolean\r\n        +updateLocalMatrix(): void\r\n    }\r\n    class Geometry {\r\n        +type = ComponentType.Geometry\r\n        +definition: GeometryDef\r\n    }\r\n    class Material {\r\n        +type = ComponentType.Material\r\n        +definition: MaterialDef\r\n    }\r\n    class Camera {\r\n        +type = ComponentType.Camera\r\n        +definition: CameraDef\r\n    }\r\n    class Animation {\r\n        +type = ComponentType.Animation\r\n        +animations: SvgAnimationDef[]\r\n    }\r\n    Component \u003C|-- Transform\r\n    Component \u003C|-- Geometry\r\n    Component \u003C|-- Material\r\n    Component \u003C|-- Camera\r\n    Component \u003C|-- Animation\r\n```\r\n\r\n#### `ComponentType` (Enum)\r\n\r\n| Valor | String | Usado por |\r\n|-------|--------|-----------|\r\n| `Transform` | `'Transform'` | `Transform` — automático en cada `Node` |\r\n| `Geometry` | `'Geometry'` | `Geometry` — define la forma |\r\n| `Material` | `'Material'` | `Material` — define la apariencia |\r\n| `Camera` | `'Camera'` | `Camera` — define el punto de vista |\r\n| `Interactive` | `'Interactive'` | `Interactive` — habilita eventos de interacción |\r\n| `Animation` | `'Animation'` | `Animation` — animaciones SVG nativas |\r\n\r\n> **Regla ECS:** Cada nodo puede tener **máximo un componente** de cada tipo. Agregar un segundo componente del mismo tipo reemplaza al anterior.\r\n\r\n---\r\n\r\n### `Transform` (Componente)\r\n\r\nDefine la posición, rotación y escala de un nodo en espacio 3D. Se crea **automáticamente** con cada `Node`.\r\n\r\n**Archivo fuente:** [Transform.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Transform.ts)\r\n\r\n#### Propiedades\r\n\r\n| Propiedad | Tipo | Default | Descripción |\r\n|-----------|------|---------|-------------|\r\n| `position` | `Vec3` | `{ x: 0, y: 0, z: 0 }` | Traslación en espacio local |\r\n| `rotation` | `Quat` | `{ x: 0, y: 0, z: 0, w: 1 }` | Rotación como quaternion (identidad = sin rotación) |\r\n| `scale` | `Vec3` | `{ x: 1, y: 1, z: 1 }` | Escala en espacio local |\r\n| `localMatrix` | `Matrix4` | Identidad | Matriz de transformación local (calculada) |\r\n| `worldMatrix` | `Matrix4` | Identidad | Matriz de transformación en espacio mundo (calculada) |\r\n| `isDirty` | `boolean` | `true` | Indica si la matriz necesita recalcularse |\r\n\r\n#### Métodos\r\n\r\n| Método | Descripción |\r\n|--------|-------------|\r\n| `updateLocalMatrix()` | Recalcula `localMatrix` a partir de `position`, `rotation` y `scale`. Marca `isDirty = true` |\r\n\r\n#### Pipeline de transformación\r\n\r\n```mermaid\r\ngraph LR\r\n    A[\"position + rotation + scale\"] -->|\"updateLocalMatrix()\"| B[\"localMatrix\"]\r\n    B -->|\"× parent.worldMatrix\"| C[\"worldMatrix\"]\r\n    C -->|\"renderer reads\"| D[\"Posición final en pantalla\"]\r\n```\r\n\r\n#### Guía rápida de quaterniones\r\n\r\nLos quaterniones `{ x, y, z, w }` representan rotaciones 3D sin gimbal lock.\r\n\r\n| Rotación deseada | Quaternion |\r\n|-----------------|------------|\r\n| Sin rotación | `{ x: 0, y: 0, z: 0, w: 1 }` |\r\n| 90° en eje Y | `{ x: 0, y: 0.707, z: 0, w: 0.707 }` |\r\n| 180° en eje Y | `{ x: 0, y: 1, z: 0, w: 0 }` |\r\n| θ grados en eje Y | `{ x: 0, y: sin(θ/2), z: 0, w: cos(θ/2) }` |\r\n| θ grados en eje X | `{ x: sin(θ/2), y: 0, z: 0, w: cos(θ/2) }` |\r\n| θ grados en eje Z | `{ x: 0, y: 0, z: sin(θ/2), w: cos(θ/2) }` |\r\n\r\n> **Fórmula:** Para rotar `θ` radianes alrededor del eje unitario `(ax, ay, az)`:\r\n> `{ x: ax * sin(θ/2), y: ay * sin(θ/2), z: az * sin(θ/2), w: cos(θ/2) }`\r\n\r\n---\r\n\r\n### `Geometry` (Componente)\r\n\r\nDefine la forma geométrica de un nodo.\r\n\r\n**Archivo fuente:** [Geometry.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Geometry.ts)\r\n\r\n#### Constructor\r\n\r\n```typescript\r\nnew Geometry(definition: GeometryDef)\r\n```\r\n\r\n#### `GeometryPrimitive` (Enum)\r\n\r\n| Valor | String | Descripción |\r\n|-------|--------|-------------|\r\n| `Box` | `'Box'` | Paralelepípedo (cubo, caja) |\r\n| `Sphere` | `'Sphere'` | Esfera UV |\r\n| `Path2D` | `'Path2D'` | Path vectorial 2D (para SVG) |\r\n| `Text` | `'Text'` | Texto SVG |\r\n\r\n#### `GeometryDef` (Union type)\r\n\r\n```mermaid\r\ngraph TD\r\n    GD[\"GeometryDef\"] -->|\"type = 'Box'\"| Box[\"BoxGeometryDef\"]\r\n    GD -->|\"type = 'Sphere'\"| Sphere[\"SphereGeometryDef\"]\r\n    GD -->|\"type = 'Path2D'\"| Path[\"Path2DGeometryDef\"]\r\n    GD -->|\"type = 'Text'\"| Text[\"TextGeometryDef\"]\r\n```\r\n\r\n#### `BoxGeometryDef`\r\n\r\n| Campo | Tipo | Descripción |\r\n|-------|------|-------------|\r\n| `type` | `GeometryPrimitive.Box` | Discriminante |\r\n| `width` | `number` | Ancho (eje X) |\r\n| `height` | `number` | Alto (eje Y) |\r\n| `depth` | `number` | Profundidad (eje Z) |\r\n\r\n#### `SphereGeometryDef`\r\n\r\n| Campo | Tipo | Descripción |\r\n|-------|------|-------------|\r\n| `type` | `GeometryPrimitive.Sphere` | Discriminante |\r\n| `radius` | `number` | Radio de la esfera |\r\n| `widthSegments` | `number` | Segmentos horizontales (meridianos) |\r\n| `heightSegments` | `number` | Segmentos verticales (paralelos) |\r\n\r\n> **Tip:** Más segmentos = esfera más suave. Valores comunes: 16 (baja calidad), 32 (estándar), 64 (alta calidad).\r\n\r\n#### `Path2DGeometryDef`\r\n\r\n| Campo | Tipo | Descripción |\r\n|-------|------|-------------|\r\n| `type` | `GeometryPrimitive.Path2D` | Discriminante |\r\n| `path` | `Path2DCommand[]` | Array de comandos SVG-like |\r\n\r\n#### `Path2DCommand`\r\n\r\n| Campo | Tipo | Descripción |\r\n|-------|------|-------------|\r\n| `command` | `string` | Comando SVG: `'M'`, `'L'`, `'C'`, `'Q'`, `'Z'`, etc. |\r\n| `args` | `number[]` | Argumentos numéricos del comando |\r\n\r\n**Comandos SVG soportados:**\r\n\r\n| Comando | Argumentos | Descripción |\r\n|---------|-----------|-------------|\r\n| `M` | `[x, y]` | Move to — mover sin dibujar |\r\n| `L` | `[x, y]` | Line to — línea recta |\r\n| `C` | `[cx1, cy1, cx2, cy2, x, y]` | Cubic Bézier |\r\n| `Q` | `[cx, cy, x, y]` | Quadratic Bézier |\r\n| `A` | `[rx, ry, rotation, largeArc, sweep, x, y]` | Arc |\r\n| `Z` | `[]` | Close path — cerrar el camino |\r\n\r\n#### `TextGeometryDef`\r\n\r\n| Campo | Tipo | Default | Descripción |\r\n|-------|------|---------|-------------|\r\n| `type` | `GeometryPrimitive.Text` | — | Discriminante |\r\n| `text` | `string` | — | Contenido del texto |\r\n| `fontSize` | `number` | `16` | Tamaño de fuente (px) |\r\n| `fontFamily` | `string` | `'sans-serif'` | Familia tipográfica |\r\n| `fontWeight` | `string` | `'normal'` | Peso: `'normal'`, `'bold'`, `'100'`–`'900'` |\r\n| `textAnchor` | `string` | `'start'` | Alineación horizontal: `'start'`, `'middle'`, `'end'` |\r\n| `dominantBaseline` | `string` | `'auto'` | Alineación vertical: `'auto'`, `'middle'`, `'hanging'` |\r\n\r\n#### Compatibilidad con renderers\r\n\r\n| GeometryDef | Three.js | SVG |\r\n|------------|----------|-----|\r\n| `BoxGeometryDef` | ✅ → `THREE.BoxGeometry` | ✅ → `\u003Crect>` |\r\n| `SphereGeometryDef` | ✅ → `THREE.SphereGeometry` | ✅ → `\u003Ccircle>` |\r\n| `Path2DGeometryDef` | ❌ ignorado | ✅ → `\u003Cpath d=\"...\">` |\r\n| `TextGeometryDef` | ❌ ignorado | ✅ → `\u003Ctext>` |\r\n\r\n---\r\n\r\n### `Material` (Componente)\r\n\r\nDefine la apariencia visual de un nodo.\r\n\r\n**Archivo fuente:** [Material.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Material.ts)\r\n\r\n#### Constructor\r\n\r\n```typescript\r\nnew Material(definition?: MaterialDef)  // default: {}\r\n```\r\n\r\n#### `ColorRGB`\r\n\r\n| Campo | Tipo | Rango | Descripción |\r\n|-------|------|-------|-------------|\r\n| `r` | `number` | 0.0 – 1.0 | Componente rojo |\r\n| `g` | `number` | 0.0 – 1.0 | Componente verde |\r\n| `b` | `number` | 0.0 – 1.0 | Componente azul |\r\n\r\n> **Conversión:** Para convertir de hex `#3399ff` a RGB normalizado: `{ r: 0x33/255, g: 0x99/255, b: 0xff/255 }` → `{ r: 0.2, g: 0.6, b: 1.0 }`\r\n\r\n#### `MaterialDef`\r\n\r\n| Campo | Tipo | Default | Usado por | Descripción |\r\n|-------|------|---------|-----------|-------------|\r\n| `color` | `ColorRGB` | `undefined` | Three.js | Color de la superficie para renderizado 3D |\r\n| `opacity` | `number` | `undefined` | Three.js, SVG | Opacidad: 0 (transparente) a 1 (opaco). Activa transparencia automáticamente si \u003C 1 |\r\n| `fill` | `ColorRGB` | `undefined` | SVG | Color de relleno para paths 2D |\r\n| `stroke` | `ColorRGB` | `undefined` | SVG | Color del trazo para paths 2D |\r\n| `strokeWidth` | `number` | `undefined` | SVG | Ancho del trazo en píxeles |\r\n| `fillGradient` | `GradientDef` | `undefined` | SVG | Gradiente para relleno. Tiene prioridad sobre `fill` |\r\n| `strokeGradient` | `GradientDef` | `undefined` | SVG | Gradiente para trazo. Tiene prioridad sobre `stroke` |\r\n| `filter` | `SvgFilterDef` | `undefined` | SVG | Filtro SVG (blur, drop-shadow). Genera un `\u003Cfilter>` en `\u003Cdefs>` |\r\n| `clipPath` | `SvgClipPathDef` | `undefined` | SVG | Recorte vectorial. Genera un `\u003CclipPath>` en `\u003Cdefs>` |\r\n| `mask` | `SvgMaskDef` | `undefined` | SVG | Máscara de luminancia. Genera un `\u003Cmask>` en `\u003Cdefs>` |\r\n\r\n#### `GradientDef` (Union type)\r\n\r\n```typescript\r\ntype GradientDef = LinearGradientDef | RadialGradientDef;\r\n```\r\n\r\n#### SVG Filters (`SvgFilterDef`)\r\n\r\nPermite aplicar filtros SVG nativos a un nodo.\r\n\r\n```typescript\r\ninterface SvgFilterDef {\r\n  effects: SvgFilterEffect[];\r\n}\r\n\r\ntype SvgFilterEffect = SvgBlurEffect | SvgDropShadowEffect;\r\n```\r\n\r\n##### `SvgBlurEffect`\r\n\r\n| Campo | Tipo | Descripción |\r\n|-------|------|-------------|\r\n| `type` | `'blur'` | Discriminante |\r\n| `stdDeviation` | `number` | Radio de desenfoque gaussiano |\r\n\r\n##### `SvgDropShadowEffect`\r\n\r\n| Campo | Tipo | Default | Descripción |\r\n|-------|------|---------|-------------|\r\n| `type` | `'dropShadow'` | — | Discriminante |\r\n| `dx` | `number` | — | Desplazamiento horizontal de la sombra |\r\n| `dy` | `number` | — | Desplazamiento vertical de la sombra |\r\n| `stdDeviation` | `number` | — | Radio de desenfoque de la sombra |\r\n| `floodColor` | `string` | `undefined` | Color de la sombra (e.g., `'black'`, `'#333'`) |\r\n| `floodOpacity` | `number` | `undefined` | Opacidad de la sombra (0–1) |\r\n\r\n#### `SvgClipPathDef`\r\n\r\nRecorta el nodo a una región vectorial definida por un path SVG.\r\n\r\n| Campo | Tipo | Descripción |\r\n|-------|------|-------------|\r\n| `path` | `Path2DCommand[]` | Comandos del path de recorte |\r\n\r\n#### `SvgMaskDef`\r\n\r\nAplica una máscara de luminancia al nodo.\r\n\r\n| Campo | Tipo | Default | Descripción |\r\n|-------|------|---------|-------------|\r\n| `path` | `Path2DCommand[]` | — | Comandos del path de la máscara |\r\n| `fill` | `string` | `undefined` | Color de relleno de la máscara (e.g., `'white'`) |\r\n| `opacity` | `number` | `undefined` | Opacidad del path de la máscara |\r\n\r\n#### Ejemplo: Filtros, clip-path y máscara\r\n\r\n```typescript\r\n// Blur\r\nconst blurred = new Material({\r\n  fill: { r: 1, g: 0, b: 0 },\r\n  filter: { effects: [{ type: 'blur', stdDeviation: 3 }] },\r\n});\r\n\r\n// Drop shadow con color personalizado\r\nconst shadowed = new Material({\r\n  fill: { r: 0, g: 0.5, b: 1 },\r\n  filter: {\r\n    effects: [{ type: 'dropShadow', dx: 4, dy: 4, stdDeviation: 2, floodColor: '#333', floodOpacity: 0.6 }],\r\n  },\r\n});\r\n\r\n// Clip path\r\nconst clipped = new Material({\r\n  fill: { r: 0, g: 1, b: 0 },\r\n  clipPath: {\r\n    path: [\r\n      { command: 'M', args: [0, 0] },\r\n      { command: 'L', args: [100, 0] },\r\n      { command: 'L', args: [50, 100] },\r\n      { command: 'Z', args: [] },\r\n    ],\r\n  },\r\n});\r\n```\r\n\r\n#### `LinearGradientDef`\r\n\r\n| Campo | Tipo | Default | Descripción |\r\n|-------|------|---------|-------------|\r\n| `type` | `'linear'` | — | Discriminante |\r\n| `x1` | `number` | `0` | Coordenada X inicio (0–1) |\r\n| `y1` | `number` | `0` | Coordenada Y inicio (0–1) |\r\n| `x2` | `number` | `1` | Coordenada X fin (0–1) |\r\n| `y2` | `number` | `0` | Coordenada Y fin (0–1) |\r\n| `stops` | `GradientStop[]` | — | Paradas de color |\r\n\r\n#### `RadialGradientDef`\r\n\r\n| Campo | Tipo | Default | Descripción |\r\n|-------|------|---------|-------------|\r\n| `type` | `'radial'` | — | Discriminante |\r\n| `cx` | `number` | `0.5` | Centro X (0–1) |\r\n| `cy` | `number` | `0.5` | Centro Y (0–1) |\r\n| `r` | `number` | `0.5` | Radio (0–1) |\r\n| `fx` | `number` | `undefined` | Foco X (0–1), opcional |\r\n| `fy` | `number` | `undefined` | Foco Y (0–1), opcional |\r\n| `stops` | `GradientStop[]` | — | Paradas de color |\r\n\r\n#### `GradientStop`\r\n\r\n| Campo | Tipo | Descripción |\r\n|-------|------|-------------|\r\n| `offset` | `number` | Posición en el gradiente (0–1) |\r\n| `color` | `ColorRGB` | Color en esta parada |\r\n| `opacity` | `number` | *(opcional)* Opacidad de la parada (0–1) |\r\n\r\n#### Ejemplo: Material para ambos renderers\r\n\r\n```typescript\r\n// Material que funciona en 3D y SVG\r\nconst material = new Material({\r\n  color: { r: 0.2, g: 0.6, b: 1.0 },    // Three.js lo usa como diffuse color\r\n  fill: { r: 0.2, g: 0.6, b: 1.0 },      // SVG lo usa como fill\r\n  stroke: { r: 0.1, g: 0.3, b: 0.8 },    // SVG lo usa como stroke\r\n  strokeWidth: 2,\r\n  opacity: 0.9,\r\n});\r\n```\r\n\r\n#### Cómo lo interpretan los renderers\r\n\r\n```mermaid\r\ngraph LR\r\n    MD[\"MaterialDef\"] --> TH{\"Three.js Renderer\"}\r\n    MD --> SV{\"SVG Renderer\"}\r\n    TH --> M1[\"MeshStandardMaterial\"]\r\n    TH -->|\"color\"| M1\r\n    TH -->|\"opacity + transparent\"| M1\r\n    SV --> M2[\"style attributes\"]\r\n    SV -->|\"fill / fillGradient\"| M2\r\n    SV -->|\"stroke / strokeGradient\"| M2\r\n    SV -->|\"opacity\"| M2\r\n```\r\n\r\n---\r\n\r\n### `Camera` (Componente)\r\n\r\nDefine un punto de vista para renderizar la escena. El `ThreeRenderer` busca automáticamente el primer nodo con `Camera` al montar la escena.\r\n\r\n**Archivo fuente:** [Camera.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Camera.ts)\r\n\r\n#### Constructor\r\n\r\n```typescript\r\nnew Camera(definition: CameraDef)\r\n```\r\n\r\n#### `CameraType` (Enum)\r\n\r\n| Valor | String | Estado |\r\n|-------|--------|--------|\r\n| `Perspective` | `'Perspective'` | ✅ Implementado |\r\n| `Orthographic` | `'Orthographic'` | ✅ Implementado |\r\n\r\n#### `PerspectiveCameraDef`\r\n\r\n| Campo | Tipo | Descripción | Valor típico |\r\n|-------|------|-------------|--------------|\r\n| `type` | `CameraType.Perspective` | Discriminante | — |\r\n| `fov` | `number` | Campo de visión en grados | 45 – 90 |\r\n| `aspect` | `number` | Relación de aspecto (ancho / alto) | `window.innerWidth / window.innerHeight` |\r\n| `near` | `number` | Plano de corte cercano | 0.1 |\r\n| `far` | `number` | Plano de corte lejano | 1000 |\r\n\r\n#### Diagrama de frustum (perspectiva)\r\n\r\n```\r\n              far plane\r\n          ┌─────────────────┐\r\n         /                   \\\r\n        /     Visible         \\\r\n       /      Volume           \\\r\n      /      (frustum)          \\\r\n     /                           \\\r\n    └─────────────────────────────┘\r\n     ├── near plane ──┤\r\n              △\r\n           Camera\r\n          position\r\n```\r\n\r\n#### Ejemplo de uso\r\n\r\n```typescript\r\nconst cam = new Node('main-camera');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 75,\r\n  aspect: 16 / 9,\r\n  near: 0.1,\r\n  far: 1000,\r\n}));\r\ncam.transform.position = { x: 0, y: 5, z: 10 };\r\nscene.add(cam);\r\n```\r\n\r\n#### `OrthographicCameraDef`\r\n\r\n| Campo | Tipo | Descripción | Valor típico |\r\n|-------|------|-------------|-------------|\r\n| `type` | `CameraType.Orthographic` | Discriminante | — |\r\n| `left` | `number` | Borde izquierdo del frustum | `-400` |\r\n| `right` | `number` | Borde derecho del frustum | `400` |\r\n| `top` | `number` | Borde superior del frustum | `-300` |\r\n| `bottom` | `number` | Borde inferior del frustum | `300` |\r\n| `near` | `number` | Plano de corte cercano | `0.1` |\r\n| `far` | `number` | Plano de corte lejano | `1000` |\r\n\r\n> **SVG:** Cuando una escena tiene un nodo con `OrthographicCameraDef`, el renderer SVG calcula automáticamente el `viewBox` a partir de `left`, `right`, `top` y `bottom`, más el offset de posición de la cámara. Un `viewBox` explícito en las opciones tiene prioridad.\r\n\r\n#### Ejemplo: Cámara ortográfica para SVG\r\n\r\n```typescript\r\nconst cam = new Node('ortho-cam');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Orthographic,\r\n  left: -400, right: 400,\r\n  top: -300, bottom: 300,\r\n  near: 0.1, far: 1000,\r\n}));\r\ncam.transform.position = { x: 50, y: 25, z: 0 };\r\nscene.add(cam);\r\n\r\n// viewBox se calcula como \"-350 -275 800 600\" (offset por posición de cámara)\r\nconst svg = renderToSVG(scene, { width: 800, height: 600 });\r\n```\r\n\r\n> **Nota:** Si no se agrega ninguna cámara, `ThreeRenderer` crea un fallback en `(0, 0, 5)` con FOV 75.\r\n\r\n---\r\n\r\n### Interactive (componente)\r\n\r\n**Archivo fuente:** [Interactive.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Interactive.ts)\r\n\r\nMarca un nodo como interactivo, permitiendo que responda a eventos de puntero (click, hover, drag, etc.).\r\n\r\n---\r\n\r\n### Animation (componente)\r\n\r\n**Archivo fuente:** [Animation.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Animation.ts)\r\n\r\nPermite agregar animaciones SVG nativas (`\u003Canimate>` y `\u003CanimateTransform>`) a un nodo. Estas animaciones se ejecutan directamente en el navegador sin JavaScript.\r\n\r\n#### Constructor\r\n\r\n```typescript\r\nnew Animation(animations: SvgAnimationDef[])\r\n```\r\n\r\n#### `SvgAnimationDef` (Union type)\r\n\r\n```typescript\r\ntype SvgAnimationDef = SvgAnimateDef | SvgAnimateTransformDef;\r\n```\r\n\r\n#### `SvgAnimateDef`\r\n\r\nGenera un elemento `\u003Canimate>` que anima un atributo escalar.\r\n\r\n| Campo | Tipo | Default | Descripción |\r\n|-------|------|---------|-------------|\r\n| `type` | `'animate'` | — | Discriminante |\r\n| `attributeName` | `string` | — | Atributo SVG a animar (e.g., `'opacity'`, `'r'`, `'fill'`) |\r\n| `from` | `string` | `undefined` | Valor inicial |\r\n| `to` | `string` | `undefined` | Valor final |\r\n| `values` | `string` | `undefined` | Lista de valores separados por `;` (alternativa a from/to) |\r\n| `dur` | `string` | `undefined` | Duración (e.g., `'2s'`, `'500ms'`) |\r\n| `repeatCount` | `string` | `undefined` | Repeticiones: un número o `'indefinite'` |\r\n| `begin` | `string` | `undefined` | Cuándo empieza (e.g., `'0s'`, `'click'`) |\r\n| `fill` | `string` | `undefined` | Comportamiento al terminar: `'freeze'` o `'remove'` |\r\n| `keyTimes` | `string` | `undefined` | Tiempos clave separados por `;` (0–1) |\r\n| `keySplines` | `string` | `undefined` | Curvas Bézier para interpolación entre keyframes |\r\n| `calcMode` | `string` | `undefined` | Modo de cálculo: `'linear'`, `'discrete'`, `'paced'`, `'spline'` |\r\n\r\n#### `SvgAnimateTransformDef`\r\n\r\nGenera un elemento `\u003CanimateTransform>` que anima una transformación geométrica.\r\n\r\n| Campo | Tipo | Default | Descripción |\r\n|-------|------|---------|-------------|\r\n| `type` | `'animateTransform'` | — | Discriminante |\r\n| `transformType` | `string` | — | Tipo de transformación: `'translate'`, `'scale'`, `'rotate'`, `'skewX'`, `'skewY'` |\r\n| `from` | `string` | `undefined` | Valor inicial (e.g., `'0 50 50'` para rotación) |\r\n| `to` | `string` | `undefined` | Valor final |\r\n| `values` | `string` | `undefined` | Lista de valores separados por `;` |\r\n| `dur` | `string` | `undefined` | Duración |\r\n| `repeatCount` | `string` | `undefined` | Repeticiones |\r\n| `begin` | `string` | `undefined` | Cuándo empieza |\r\n| `fill` | `string` | `undefined` | `'freeze'` o `'remove'` |\r\n| `additive` | `string` | `undefined` | `'sum'` para acumular con la transformación base |\r\n\r\n#### Ejemplo\r\n\r\n```typescript\r\nconst circle = new Node('pulse');\r\ncircle.addComponent(createSphere(30));\r\ncircle.addComponent(new Material({ fill: { r: 1, g: 0, b: 0 } }));\r\ncircle.addComponent(new Animation([\r\n  // Pulsar opacidad\r\n  {\r\n    type: 'animate',\r\n    attributeName: 'opacity',\r\n    values: '1;0.3;1',\r\n    dur: '2s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n  // Rotar continuamente\r\n  {\r\n    type: 'animateTransform',\r\n    transformType: 'rotate',\r\n    from: '0 50 50',\r\n    to: '360 50 50',\r\n    dur: '4s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n]));\r\nscene.add(circle);\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Ccircle cx=\"0\" cy=\"0\" r=\"30\" fill=\"rgb(255, 0, 0)\">\r\n  \u003Canimate attributeName=\"opacity\" values=\"1;0.3;1\" dur=\"2s\" repeatCount=\"indefinite\" />\r\n  \u003CanimateTransform attributeName=\"transform\" type=\"rotate\"\r\n    from=\"0 50 50\" to=\"360 50 50\" dur=\"4s\" repeatCount=\"indefinite\" />\r\n\u003C/circle>\r\n```\r\n\r\n> **Nota:** Las animaciones SVG nativas solo tienen efecto en el renderer SVG. El renderer Three.js las ignora.\r\n\r\n---\r\n\r\n#### Definición\r\n\r\n```typescript\r\ninterface InteractiveDef {\r\n  enabled: boolean;\r\n  cursor: string;\r\n  blocksRaycast: boolean;\r\n}\r\n```\r\n\r\n| Campo | Tipo | Default | Descripción |\r\n|-------|------|---------|-------------|\r\n| `enabled` | `boolean` | `true` | Si el nodo responde a eventos |\r\n| `cursor` | `string` | `'pointer'` | CSS cursor al hacer hover (e.g., `'pointer'`, `'grab'`, `'move'`) |\r\n| `blocksRaycast` | `boolean` | `true` | Si bloquea raycasts a objetos detrás |\r\n\r\n#### Uso\r\n\r\n```typescript\r\nimport { Node, Interactive, createBox } from '@oroya/core';\r\n\r\nconst button = new Node('button');\r\nbutton.addComponent(createBox(2, 1, 0.2));\r\nbutton.addComponent(new Interactive({ cursor: 'pointer' }));\r\n\r\n// Registrar event handlers\r\nbutton.on('click', (e) => {\r\n  console.log('Clicked!', e.target.name);\r\n});\r\n\r\nbutton.on('pointerenter', (e) => {\r\n  console.log('Hover started');\r\n});\r\n\r\nbutton.on('pointerleave', (e) => {\r\n  console.log('Hover ended');\r\n});\r\n```\r\n\r\n#### Integración con renderers\r\n\r\n- **ThreeRenderer:** Requiere llamar `renderer.enableInteraction()` después de `mount()`. Usa `THREE.Raycaster` para hit-testing 3D.\r\n- **SVG Renderer:** Usa `renderToSVGElement()` (no `renderToSVG()`) para obtener un DOM element con event listeners.\r\n\r\n---\r\n\r\n### EventEmitter\r\n\r\n**Archivo fuente:** [EventEmitter.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/events/EventEmitter.ts)\r\n\r\nSistema de eventos genérico con tipado fuerte. Cada `Node` tiene un `EventEmitter` interno para manejar `InteractionEvent`s.\r\n\r\n#### API\r\n\r\n```typescript\r\nclass EventEmitter\u003CEventMap extends Record\u003Cstring, any>> {\r\n  on\u003CK extends keyof EventMap>(\r\n    eventType: K,\r\n    handler: (payload: EventMap[K]) => void\r\n  ): void;\r\n\r\n  off\u003CK extends keyof EventMap>(\r\n    eventType: K,\r\n    handler: (payload: EventMap[K]) => void\r\n  ): void;\r\n\r\n  emit\u003CK extends keyof EventMap>(\r\n    eventType: K,\r\n    payload: EventMap[K]\r\n  ): void;\r\n\r\n  removeAllListeners(eventType?: keyof EventMap): void;\r\n\r\n  hasListeners(eventType: keyof EventMap): boolean;\r\n}\r\n```\r\n\r\n#### Ejemplo de uso directo\r\n\r\n```typescript\r\nimport { EventEmitter } from '@oroya/core';\r\n\r\ntype MyEvents = {\r\n  'data-loaded': { id: string; data: any };\r\n  'error': { message: string };\r\n};\r\n\r\nconst emitter = new EventEmitter\u003CMyEvents>();\r\n\r\nemitter.on('data-loaded', (payload) => {\r\n  console.log('Data:', payload.data);\r\n});\r\n\r\nemitter.emit('data-loaded', { id: '123', data: { foo: 'bar' } });\r\n```\r\n\r\n#### Uso en Node\r\n\r\nLos nodos exponen shortcuts `on()` y `off()` que delegan al `EventEmitter` interno:\r\n\r\n```typescript\r\nconst node = new Node('my-node');\r\n\r\nnode.on('click', (e: InteractionEvent) => {\r\n  console.log('Clicked at', e.screenPosition);\r\n});\r\n```\r\n\r\n---\r\n\r\n### InteractionEvent\r\n\r\n**Archivo fuente:** [InteractionEvent.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/events/InteractionEvent.ts)\r\n\r\nEventos de interacción que se disparan cuando el usuario interactúa con nodos marcados como `Interactive`.\r\n\r\n#### Tipos de eventos\r\n\r\n```typescript\r\nenum InteractionEventType {\r\n  Click = 'click',\r\n  PointerDown = 'pointerdown',\r\n  PointerUp = 'pointerup',\r\n  PointerMove = 'pointermove',\r\n  PointerEnter = 'pointerenter',\r\n  PointerLeave = 'pointerleave',\r\n  PointerCancel = 'pointercancel',\r\n  Wheel = 'wheel',\r\n  DragStart = 'dragstart',\r\n  DragEnd = 'dragend',\r\n}\r\n```\r\n\r\n#### Interfaz\r\n\r\n```typescript\r\ninterface InteractionEvent {\r\n  type: InteractionEventType;\r\n  target: Node;                    // Nodo que recibió el evento originalmente\r\n  currentTarget: Node;             // Nodo actual durante bubbling\r\n  point?: { x: number; y: number; z: number };  // Posición 3D en world space\r\n  localPoint?: { x: number; y: number; z: number };  // Posición en local space del nodo\r\n  screenPosition: { x: number; y: number };  // Posición en pantalla (clientX/Y)\r\n  nativeEvent: unknown;            // Evento DOM original (PointerEvent, MouseEvent, etc.)\r\n  propagationStopped: boolean;\r\n  stopPropagation(): void;\r\n}\r\n```\r\n\r\n#### Event Bubbling\r\n\r\nLos eventos se propagan hacia arriba en el scene graph (de hijo a padre), similar al DOM:\r\n\r\n```typescript\r\nconst parent = new Node('parent');\r\nconst child = new Node('child');\r\nparent.add(child);\r\n\r\nparent.on('click', (e) => {\r\n  console.log('Parent clicked, target:', e.target.name);  // \"child\"\r\n  console.log('Current target:', e.currentTarget.name);   // \"parent\"\r\n});\r\n\r\nchild.on('click', (e) => {\r\n  console.log('Child clicked');\r\n  e.stopPropagation();  // Detiene el bubbling\r\n});\r\n```\r\n\r\n#### Factory\r\n\r\n```typescript\r\nfunction createInteractionEvent(\r\n  type: InteractionEventType,\r\n  target: Node,\r\n  nativeEvent: unknown,\r\n  screenPosition: { x: number; y: number },\r\n  options?: {\r\n    point?: { x: number; y: number; z: number };\r\n    localPoint?: { x: number; y: number; z: number };\r\n  }\r\n): InteractionEvent;\r\n```\r\n\r\n---\r\n\r\n### Factory Functions\r\n\r\n\r\nFunciones helper para crear componentes `Geometry` de forma concisa.\r\n\r\n**Archivo fuente:** [primitives.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/geometry/primitives.ts)\r\n\r\n#### `createBox`\r\n\r\n```typescript\r\nfunction createBox(width?: number, height?: number, depth?: number): Geometry\r\n```\r\n\r\n| Parámetro | Tipo | Default | Descripción |\r\n|-----------|------|---------|-------------|\r\n| `width` | `number` | `1` | Ancho (eje X) |\r\n| `height` | `number` | `1` | Alto (eje Y) |\r\n| `depth` | `number` | `1` | Profundidad (eje Z) |\r\n\r\n```typescript\r\nconst cube = createBox();          // Cubo 1×1×1\r\nconst plank = createBox(5, 0.2, 1); // Tabla plana\r\n```\r\n\r\n#### `createSphere`\r\n\r\n```typescript\r\nfunction createSphere(radius?: number, widthSegments?: number, heightSegments?: number): Geometry\r\n```\r\n\r\n| Parámetro | Tipo | Default | Descripción |\r\n|-----------|------|---------|-------------|\r\n| `radius` | `number` | `0.5` | Radio de la esfera |\r\n| `widthSegments` | `number` | `16` | Segmentos horizontales |\r\n| `heightSegments` | `number` | `16` | Segmentos verticales |\r\n\r\n```typescript\r\nconst ball = createSphere(1, 32, 32); // Esfera suave\r\nconst lowpoly = createSphere(1, 8, 6); // Esfera facetada\r\n```\r\n\r\n#### `createPath2D`\r\n\r\n```typescript\r\nfunction createPath2D(path: Path2DCommand[]): Geometry\r\n```\r\n\r\n| Parámetro | Tipo | Descripción |\r\n|-----------|------|-------------|\r\n| `path` | `Path2DCommand[]` | Array de comandos SVG |\r\n\r\n```typescript\r\nconst triangle = createPath2D([\r\n  { command: 'M', args: [50, 0] },\r\n  { command: 'L', args: [100, 100] },\r\n  { command: 'L', args: [0, 100] },\r\n  { command: 'Z', args: [] },\r\n]);\r\n```\r\n\r\n#### `createText`\r\n\r\n```typescript\r\nfunction createText(text: string, options?: {\r\n  fontSize?: number;\r\n  fontFamily?: string;\r\n  fontWeight?: string;\r\n  textAnchor?: string;\r\n  dominantBaseline?: string;\r\n}): Geometry\r\n```\r\n\r\n| Parámetro | Tipo | Descripción |\r\n|-----------|------|-------------|\r\n| `text` | `string` | Contenido del texto |\r\n| `options` | `object` | *(opcional)* Opciones tipográficas |\r\n\r\n```typescript\r\nconst title = createText('Hello', { fontSize: 32, fontFamily: 'monospace', textAnchor: 'middle' });\r\n```\r\n\r\n---\r\n\r\n### Serialización\r\n\r\nFunciones para convertir escenas a JSON y reconstruirlas.\r\n\r\n**Archivo fuente:** [json.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/serialization/json.ts)\r\n\r\n#### `serialize`\r\n\r\n```typescript\r\nfunction serialize(scene: Scene): string\r\n```\r\n\r\nConvierte todo el scene graph a una cadena JSON formateada con indentación de 2 espacios.\r\n\r\n**Componentes soportados en serialización:**\r\n\r\n| Componente | ¿Se serializa? | Datos incluidos |\r\n|------------|----------------|-----------------|\r\n| `Transform` | ✅ | `position`, `rotation`, `scale`, `localMatrix`, `worldMatrix`, `isDirty` |\r\n| `Geometry` | ✅ | `definition` completo (tipo + parámetros) |\r\n| `Material` | ✅ | `definition` completo (color, opacity, fill, stroke, etc.) |\r\n| `Camera` | ✅ | `definition` completo (type, fov/aspect/near/far para Perspective; left/right/top/bottom/near/far para Orthographic) |\r\n| `Animation` | ✅ | Array de `SvgAnimationDef` (animate y animateTransform) |\r\n\r\n#### `deserialize`\r\n\r\n```typescript\r\nfunction deserialize(jsonString: string): Scene\r\n```\r\n\r\nReconstruye una `Scene` funcional desde un string JSON.\r\n\r\n**Comportamiento:**\r\n- Los UUIDs de los nodos se **preservan** (mismo ID que el original).\r\n- Los campos `cssClass` y `cssId` se serializan y restauran.\r\n- Todos los componentes (`Transform`, `Geometry`, `Material`, `Camera`, `Animation`) se serializan y deserializan correctamente.\r\n- El nodo raíz deserializado transfiere sus hijos al raíz de la nueva escena.\r\n\r\n#### Formato del JSON\r\n\r\n```mermaid\r\ngraph TD\r\n    Root[\"SerializableScene\"] -->|\"root\"| RN[\"SerializableNode\"]\r\n    RN -->|\"id\"| ID[\"string (UUID)\"]\r\n    RN -->|\"name\"| Name[\"string\"]\r\n    RN -->|\"components\"| Comps[\"SerializableComponent[]\"]\r\n    RN -->|\"children\"| Children[\"SerializableNode[]\"]\r\n    Comps --> SC[\"{ type: ComponentType, ...data }\"]\r\n```\r\n\r\n```json\r\n{\r\n  \"root\": {\r\n    \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\r\n    \"name\": \"root\",\r\n    \"components\": [\r\n      {\r\n        \"type\": \"Transform\",\r\n        \"position\": { \"x\": 0, \"y\": 0, \"z\": 0 },\r\n        \"rotation\": { \"x\": 0, \"y\": 0, \"z\": 0, \"w\": 1 },\r\n        \"scale\": { \"x\": 1, \"y\": 1, \"z\": 1 }\r\n      }\r\n    ],\r\n    \"children\": [\r\n      {\r\n        \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\r\n        \"name\": \"my-box\",\r\n        \"components\": [\r\n          { \"type\": \"Transform\", \"...\" : \"...\" },\r\n          { \"type\": \"Geometry\", \"definition\": { \"type\": \"Box\", \"width\": 2, \"height\": 2, \"depth\": 2 } },\r\n          { \"type\": \"Material\", \"definition\": { \"color\": { \"r\": 1, \"g\": 0.5, \"b\": 0 } } }\r\n        ],\r\n        \"children\": []\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\n### Math — Matrix4\r\n\r\nUtilidades matemáticas para transformaciones 3D con matrices 4×4.\r\n\r\n**Archivo fuente:** [Matrix4.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/math/Matrix4.ts)\r\n\r\n#### `Matrix4` (Type)\r\n\r\nTupla de 16 números en **column-major order** (compatible con WebGL/Three.js):\r\n\r\n```typescript\r\ntype Matrix4 = [\r\n  number, number, number, number,  // Columna 0 (Right)\r\n  number, number, number, number,  // Columna 1 (Up)\r\n  number, number, number, number,  // Columna 2 (Forward)\r\n  number, number, number, number   // Columna 3 (Position)\r\n];\r\n```\r\n\r\n**Layout de la matriz:**\r\n\r\n```\r\nÍndice:  [ 0]  [ 4]  [ 8]  [12]\r\n         [ 1]  [ 5]  [ 9]  [13]\r\n         [ 2]  [ 6]  [10]  [14]\r\n         [ 3]  [ 7]  [11]  [15]\r\n\r\nSignificado:\r\n         [Rx]  [Ux]  [Fx]  [Tx]     R = Right (eje X)\r\n         [Ry]  [Uy]  [Fy]  [Ty]     U = Up (eje Y)\r\n         [Rz]  [Uz]  [Fz]  [Tz]     F = Forward (eje Z)\r\n         [ 0]  [ 0]  [ 0]  [ 1]     T = Translation\r\n```\r\n\r\n#### `Matrix4Identity`\r\n\r\n```typescript\r\nconst Matrix4Identity: Readonly\u003CMatrix4> = [\r\n  1, 0, 0, 0,\r\n  0, 1, 0, 0,\r\n  0, 0, 1, 0,\r\n  0, 0, 0, 1\r\n];\r\n```\r\n\r\n#### `composeMatrix`\r\n\r\n```typescript\r\nfunction composeMatrix(position: Vec3, quaternion: Quat, scale: Vec3): Matrix4\r\n```\r\n\r\nConstruye una matriz de transformación a partir de posición, rotación (quaternion) y escala. Esta es la función usada internamente por `Transform.updateLocalMatrix()`.\r\n\r\n#### `multiplyMatrices`\r\n\r\n```typescript\r\nfunction multiplyMatrices(a: Matrix4, b: Matrix4): Matrix4\r\n```\r\n\r\nMultiplica dos matrices 4×4. El orden es importante: `result = A × B` (A se aplica después de B).\r\n\r\nUsada internamente por `Node.updateWorldMatrix()`:\r\n\r\n```typescript\r\nworldMatrix = multiplyMatrices(parent.worldMatrix, this.localMatrix)\r\n```\r\n\r\n---\r\n\r\n### Math — BoundingBox\r\n\r\n**Archivo fuente:** [BoundingBox.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/math/BoundingBox.ts)\r\n\r\nUtilidades para calcular y manipular Axis-Aligned Bounding Boxes (AABB).\r\n\r\n#### Tipos\r\n\r\n```typescript\r\ninterface AABB {\r\n  min: { x: number; y: number; z: number };\r\n  max: { x: number; y: number; z: number };\r\n}\r\n```\r\n\r\n#### Funciones\r\n\r\n##### `computeLocalAABB`\r\n\r\nCalcula el AABB local basado en la definición de la geometría.\r\n\r\n```typescript\r\nfunction computeLocalAABB(def: GeometryDef): AABB\r\n```\r\n\r\n- Soporta `Box`, `Sphere` y `Path2D`.\r\n- Para `Path2D`, calcula el bounding box exacto de los puntos de control.\r\n\r\n##### `transformAABB`\r\n\r\nTransforma un AABB local al espacio de mundo usando una matriz de transformación.\r\n\r\n```typescript\r\nfunction transformAABB(localAABB: AABB, matrix: Matrix4): AABB\r\n```\r\n\r\n##### `pointInAABB`\r\n\r\nVerifica si un punto está dentro de un AABB.\r\n\r\n```typescript\r\nfunction pointInAABB(point: { x: number; y: number; z: number }, aabb: AABB): boolean\r\n```\r\n\r\n---\r\n\r\n## `@oroya/renderer-three`\r\n\r\n### `ThreeRenderer`\r\n\r\nRenderer WebGL basado en Three.js.\r\n\r\n**Archivo fuente:** [ThreeRenderer.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/renderer-three/src/ThreeRenderer.ts)\r\n\r\n```mermaid\r\nclassDiagram\r\n    class ThreeRenderer {\r\n        -renderer: THREE.WebGLRenderer\r\n        -scene: THREE.Scene\r\n        -activeCamera: THREE.Camera | null\r\n        -oroyaScene: OroyaScene | null\r\n        -nodeMap: Map~string, THREE.Object3D~\r\n        +constructor(options: ThreeRendererOptions)\r\n        +mount(scene: OroyaScene): void\r\n        +render(): void\r\n        +enableInteraction(): void\r\n        +disableInteraction(): void\r\n        +dispose(): void\r\n    }\r\n\r\n    class ThreeRendererOptions {\r\n        +canvas: HTMLCanvasElement\r\n        +width: number\r\n        +height: number\r\n        +dpr?: number\r\n    }\r\n```\r\n\r\n#### `ThreeRendererOptions`\r\n\r\n| Campo | Tipo | Default | Descripción |\r\n|-------|------|---------|-------------|\r\n| `canvas` | `HTMLCanvasElement` | *(requerido)* | El elemento canvas donde se renderiza |\r\n| `width` | `number` | *(requerido)* | Ancho del viewport en píxeles |\r\n| `height` | `number` | *(requerido)* | Alto del viewport en píxeles |\r\n| `dpr` | `number` | `window.devicePixelRatio` | Device pixel ratio para HiDPI |\r\n\r\n#### Métodos\r\n\r\n| Método | Descripción |\r\n|--------|-------------|\r\n| `mount(scene)` | Conecta una `Scene` de Oroya. Reconstruye internamente los objetos Three.js, busca la primera cámara, y agrega luces ambientales. Puede llamarse múltiples veces |\r\n| `render()` | Actualiza las matrices del mundo, sincroniza las posiciones de los objetos Three.js con el scene graph de Oroya, y dibuja el frame. Debe llamarse en un `requestAnimationFrame` loop |\r\n| `enableInteraction()` | Activa el sistema de interactividad (raycasting, listeners DOM). Debe llamarse después de `mount()`. |\r\n| `disableInteraction()` | Desactiva el sistema de interactividad y remueve listeners. |\r\n| `dispose()` | Libera los recursos del WebGLRenderer y limpia listeners de interacción. |\r\n\r\n#### Traducción de componentes\r\n\r\n| Oroya Component | Three.js Object |\r\n|----------------|-----------------|\r\n| `Node` sin geometría ni cámara | `THREE.Group` |\r\n| `Node` con `Geometry` (Box) | `THREE.Mesh` + `THREE.BoxGeometry` |\r\n| `Node` con `Geometry` (Sphere) | `THREE.Mesh` + `THREE.SphereGeometry` |\r\n| `Node` con `Camera` (Perspective) | `THREE.PerspectiveCamera` |\r\n| `Material` con `color` | `THREE.MeshStandardMaterial` |\r\n| `Material` con `opacity \u003C 1` | `THREE.MeshStandardMaterial({ transparent: true })` |\r\n| Sin `Material` | `THREE.MeshStandardMaterial({ color: 0xcccccc })` (gris por defecto) |\r\n\r\n#### Iluminación automática\r\n\r\nAl montar una escena, el renderer agrega automáticamente:\r\n\r\n| Luz | Configuración |\r\n|-----|---------------|\r\n| `AmbientLight` | Color: blanco, Intensidad: 0.5 |\r\n| `DirectionalLight` | Color: blanco, Intensidad: 1.5, Posición: `(2, 5, 3)` |\r\n\r\n#### Ejemplo\r\n\r\n```typescript\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n  dpr: 2, // Retina display\r\n});\r\n\r\nrenderer.mount(scene);\r\n\r\nfunction animate() {\r\n  // ... mutate scene ...\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\nanimate();\r\n\r\n// Cleanup\r\nrenderer.dispose();\r\n```\r\n\r\n---\r\n\r\n## `@oroya/renderer-svg`\r\n\r\n### `renderToSVG`\r\n\r\nFunción pura que genera un string SVG a partir de una escena.\r\n\r\n**Archivo fuente:** [renderSVG.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/renderer-svg/src/renderSVG.ts)\r\n\r\n```typescript\r\nfunction renderToSVG(scene: Scene, options: SvgRenderOptions): string\r\n```\r\n\r\n#### `SvgRenderOptions`\r\n\r\n| Campo | Tipo | Default | Descripción |\r\n|-------|------|---------|-------------|\r\n| `width` | `number` | *(requerido)* | Ancho del SVG en píxeles |\r\n| `height` | `number` | *(requerido)* | Alto del SVG en píxeles |\r\n| `viewBox` | `string` | `\"0 0 {width} {height}\"` | viewBox SVG personalizado |\r\n\r\n### `renderToSVGElement`\r\n\r\nGenera un elemento SVG del DOM (`SVGSVGElement`) con event listeners para interactividad.\r\n\r\n**Archivo fuente:** [renderSVG.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/renderer-svg/src/renderSVG.ts)\r\n\r\n```typescript\r\nfunction renderToSVGElement(\r\n  scene: Scene,\r\n  options: SvgElementRenderOptions\r\n): { svg: SVGSVGElement; dispose: () => void }\r\n```\r\n\r\n#### `SvgElementRenderOptions`\r\n\r\nExtiende `SvgRenderOptions` con:\r\n\r\n| Campo | Tipo | Descripción |\r\n|-------|------|-------------|\r\n| `container` | `HTMLElement` | *(opcional)* Elemento padre donde se adjuntará el SVG automáticamente |\r\n\r\n#### Retorno\r\n\r\nRetorna un objeto con:\r\n- `svg`: El elemento DOM SVG creado.\r\n- `dispose()`: Función para limpiar event listeners y remover el elemento del DOM.\r\n\r\n#### Ejemplo\r\n\r\n```typescript\r\nconst { dispose } = renderToSVGElement(scene, {\r\n  width: 800,\r\n  height: 600,\r\n  container: document.body\r\n});\r\n\r\n// Más tarde...\r\ndispose();\r\n```\r\n\r\n#### Comportamiento\r\n\r\n1. Llama a `scene.updateWorldMatrices()` para sincronizar transforms.\r\n2. Recorre recursivamente el árbol de nodos generando `\u003Cg>` para la jerarquía.\r\n3. Geometrías soportadas: `Path2D` → `\u003Cpath>`, `Box` → `\u003Crect>`, `Sphere` → `\u003Ccircle>`, `Text` → `\u003Ctext>`.\r\n4. Si el nodo tiene un `Material`, aplica `fill`, `stroke`, `stroke-width`, `opacity`, `fillGradient` y `strokeGradient`.\r\n5. Los gradientes generan un bloque `\u003Cdefs>` al inicio del SVG con `\u003ClinearGradient>` / `\u003CradialGradient>`.\r\n6. El `localMatrix` de cada nodo se aplica como `transform=\"matrix(a,b,c,d,e,f)\"`.\r\n7. Los colores se convierten de RGB normalizado (0–1) a `rgb(R, G, B)` con valores 0–255.\r\n\r\n#### Ejemplo\r\n\r\n```typescript\r\nimport { renderToSVG } from '@oroya/renderer-svg';\r\n\r\nconst svg = renderToSVG(scene, {\r\n  width: 800,\r\n  height: 600,\r\n  viewBox: '0 0 800 600',\r\n});\r\n\r\n// Insertar en el DOM\r\ndocument.body.innerHTML = svg;\r\n\r\n// O guardar como archivo en Node.js\r\nimport { writeFileSync } from 'fs';\r\nwriteFileSync('output.svg', svg);\r\n```\r\n\r\n> **Ventaja clave:** Esta función es **pura** y no requiere DOM. Funciona en Node.js para server-side rendering.\r\n\r\n---\r\n\r\n## `@oroya/loader-gltf`\r\n\r\n### `loadGLTF`\r\n\r\nCarga un archivo glTF/GLB y lo traduce al scene graph de Oroya.\r\n\r\n**Archivo fuente:** [loadGLTF.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/loader-gltf/src/loadGLTF.ts)\r\n\r\n```typescript\r\nasync function loadGLTF(url: string): Promise\u003CScene>\r\n```\r\n\r\n| Parámetro | Tipo | Descripción |\r\n|-----------|------|-------------|\r\n| `url` | `string` | URL del archivo .gltf o .glb |\r\n\r\n#### Traducción (simplificada — v0.3)\r\n\r\n| glTF Element | Oroya Node |\r\n|-------------|------------|\r\n| `THREE.Object3D` (cualquiera) | `Node` con posición/rotación/escala del objeto |\r\n| `THREE.Mesh` | `Node` + `createBox(1,1,1)` (placeholder) + `Material` con color si disponible |\r\n| Hijos del objeto | Nodos hijos recursivos |\r\n\r\n> **⚠️ Limitaciones actuales:** La geometría real del glTF no se traduce — se usa un box placeholder. Los materiales solo extraen el color base. Las animaciones no se importan. Esto se mejorará en v0.4.\r\n\r\n---\r\n\r\n## Mapa completo de tipos\r\n\r\n```mermaid\r\ngraph TD\r\n    subgraph \"Tipos base\"\r\n        Vec3[\"Vec3 {x, y, z}\"]\r\n        Quat[\"Quat {x, y, z, w}\"]\r\n        ColorRGB[\"ColorRGB {r, g, b}\"]\r\n        M4[\"Matrix4 (16-tuple)\"]\r\n    end\r\n\r\n    subgraph \"Geometry types\"\r\n        GD[\"GeometryDef (union)\"]\r\n        GD --> BGD[\"BoxGeometryDef\"]\r\n        GD --> SGD[\"SphereGeometryDef\"]\r\n        GD --> PGD[\"Path2DGeometryDef\"]\r\n        PGD --> P2DC[\"Path2DCommand\"]\r\n    end\r\n\r\n    subgraph \"Material types\"\r\n        MatD[\"MaterialDef\"]\r\n        MatD -.-> ColorRGB\r\n    end\r\n\r\n    subgraph \"Camera types\"\r\n        CD[\"CameraDef (union)\"]\r\n        CD --> PCD[\"PerspectiveCameraDef\"]\r\n        CD --> OCD[\"OrthographicCameraDef\"]\r\n    end\r\n\r\n    subgraph \"Animation types\"\r\n        AD[\"SvgAnimationDef (union)\"]\r\n        AD --> SAD[\"SvgAnimateDef\"]\r\n        AD --> SATD[\"SvgAnimateTransformDef\"]\r\n    end\r\n\r\n    subgraph \"Filter types\"\r\n        FD[\"SvgFilterDef\"]\r\n        FD --> FE[\"SvgFilterEffect (union)\"]\r\n        FE --> BL[\"SvgBlurEffect\"]\r\n        FE --> DS[\"SvgDropShadowEffect\"]\r\n        CPD[\"SvgClipPathDef\"]\r\n        MKD[\"SvgMaskDef\"]\r\n    end\r\n\r\n    subgraph \"Enums\"\r\n        CT[\"ComponentType\"]\r\n        GP[\"GeometryPrimitive\"]\r\n        CamT[\"CameraType\"]\r\n    end\r\n\r\n    subgraph \"Serialization\"\r\n        SScene[\"SerializableScene\"]\r\n        SNode[\"SerializableNode\"]\r\n        SComp[\"SerializableComponent\"]\r\n        SScene --> SNode\r\n        SNode --> SComp\r\n        SNode -->|\"children\"| SNode\r\n    end\r\n```\r\n\r\n### Tabla resumen de todos los exports\r\n\r\n| Export | Tipo | Categoría | Paquete |\r\n|--------|------|-----------|---------|\r\n| `Scene` | class | Scene graph | `@oroya/core` |\r\n| `Node` | class | Scene graph | `@oroya/core` |\r\n| `Component` | abstract class | ECS | `@oroya/core` |\r\n| `ComponentType` | enum | ECS | `@oroya/core` |\r\n| `Transform` | class | Components | `@oroya/core` |\r\n| `Vec3` | interface | Types | `@oroya/core` |\r\n| `Quat` | interface | Types | `@oroya/core` |\r\n| `Geometry` | class | Components | `@oroya/core` |\r\n| `GeometryPrimitive` | enum | Components | `@oroya/core` |\r\n| `BoxGeometryDef` | interface | Types | `@oroya/core` |\r\n| `SphereGeometryDef` | interface | Types | `@oroya/core` |\r\n| `Path2DGeometryDef` | interface | Types | `@oroya/core` |\r\n| `Path2DCommand` | interface | Types | `@oroya/core` |\r\n| `GeometryDef` | type alias | Types | `@oroya/core` |\r\n| `Material` | class | Components | `@oroya/core` |\r\n| `ColorRGB` | interface | Types | `@oroya/core` |\r\n| `MaterialDef` | interface | Types | `@oroya/core` |\r\n| `Camera` | class | Components | `@oroya/core` |\r\n| `CameraType` | enum | Components | `@oroya/core` |\r\n| `PerspectiveCameraDef` | interface | Types | `@oroya/core` |\r\n| `CameraDef` | type alias | Types | `@oroya/core` |\r\n| `OrthographicCameraDef` | interface | Types | `@oroya/core` |\r\n| `Interactive` | class | Components | `@oroya/core` |\r\n| `Animation` | class | Components | `@oroya/core` |\r\n| `SvgAnimateDef` | interface | Types | `@oroya/core` |\r\n| `SvgAnimateTransformDef` | interface | Types | `@oroya/core` |\r\n| `SvgAnimationDef` | type alias | Types | `@oroya/core` |\r\n| `SvgFilterDef` | interface | Types | `@oroya/core` |\r\n| `SvgFilterEffect` | type alias | Types | `@oroya/core` |\r\n| `SvgBlurEffect` | interface | Types | `@oroya/core` |\r\n| `SvgDropShadowEffect` | interface | Types | `@oroya/core` |\r\n| `SvgClipPathDef` | interface | Types | `@oroya/core` |\r\n| `SvgMaskDef` | interface | Types | `@oroya/core` |\r\n| `createBox` | function | Factory | `@oroya/core` |\r\n| `createSphere` | function | Factory | `@oroya/core` |\r\n| `createPath2D` | function | Factory | `@oroya/core` |\r\n| `serialize` | function | Serialization | `@oroya/core` |\r\n| `deserialize` | function | Serialization | `@oroya/core` |\r\n| `Matrix4` | type alias | Math | `@oroya/core` |\r\n| `Matrix4Identity` | constant | Math | `@oroya/core` |\r\n| `composeMatrix` | function | Math | `@oroya/core` |\r\n| `multiplyMatrices` | function | Math | `@oroya/core` |\r\n| `ThreeRenderer` | class | Rendering | `@oroya/renderer-three` |\r\n| `renderToSVG` | function | Rendering | `@oroya/renderer-svg` |\r\n| `renderToSVGElement` | function | Rendering | `@oroya/renderer-svg` |\r\n| `TextGeometryDef` | interface | Types | `@oroya/core` |\r\n| `GradientDef` | type alias | Types | `@oroya/core` |\r\n| `LinearGradientDef` | interface | Types | `@oroya/core` |\r\n| `RadialGradientDef` | interface | Types | `@oroya/core` |\r\n| `GradientStop` | interface | Types | `@oroya/core` |\r\n| `createText` | function | Factory | `@oroya/core` |\r\n| `loadGLTF` | async function | Loading | `@oroya/loader-gltf` |","src/content/docs/api-reference.md","c73f716ba56e31c5",{"html":22,"metadata":23},"\u003Ch1 id=\"api-reference\">API Reference\u003C/h1>\n\u003Cp>Complete reference for all packages in the Oroya Animate ecosystem.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"tabla-de-contenidos\">Tabla de contenidos\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#visi%C3%B3n-general-de-la-arquitectura\">Visión general de la arquitectura\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#oroyacore\">\u003Ccode>@oroya/core\u003C/code>\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#scene\">Scene\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#node\">Node\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#component-base-abstracta\">Component (base)\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#transform-componente\">Transform\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#geometry-componente\">Geometry\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#material-componente\">Material\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#camera-componente\">Camera\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#interactive-componente\">Interactive\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#eventemitter\">EventEmitter\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#interactionevent\">InteractionEvent\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#factory-functions\">Factory Functions\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#serializaci%C3%B3n\">Serialization\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#math--matrix4\">Math — Matrix4\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#math--boundingbox\">Math — BoundingBox\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#oroyarenderer-three\">\u003Ccode>@oroya/renderer-three\u003C/code>\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#threerenderer\">ThreeRenderer\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#oroyarenderer-svg\">\u003Ccode>@oroya/renderer-svg\u003C/code>\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#rendertosvg\">renderToSVG\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#rendertosvgelement\">renderToSVGElement\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#oroyaloader-gltf\">\u003Ccode>@oroya/loader-gltf\u003C/code>\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#loadgltf\">loadGLTF\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#mapa-completo-de-tipos\">Mapa completo de tipos\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"visión-general-de-la-arquitectura\">Visión general de la arquitectura\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"@oroya/core\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Scene --> Node\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Node --> Transform\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Node --> Geometry\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Node --> Material\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Node --> Camera\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Node -->|\"children[]\"| Node\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Geometry -.->|\"uses\"| GeometryDef[\"GeometryDef (union)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Material -.->|\"uses\"| MaterialDef\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Camera -.->|\"uses\"| CameraDef[\"CameraDef (union)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Transform -.->|\"uses\"| Matrix4\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"@oroya/renderer-three\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        ThreeRenderer -->|\"reads\"| Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        ThreeRenderer -->|\"produces\"| WebGL[\"WebGL Canvas\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"@oroya/renderer-svg\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        renderToSVG -->|\"reads\"| Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        renderToSVG -->|\"produces\"| SVGStr[\"SVG String\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"@oroya/loader-gltf\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        loadGLTF -->|\"produces\"| Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"flujo-de-datos\">Flujo de datos\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sequenceDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant User as User Code\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant Scene as Scene Graph\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant Node as Node + Components\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant Renderer as Renderer\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    User->>Scene: new Scene()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    User->>Node: new Node('box')\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    User->>Node: addComponent(createBox(...))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    User->>Node: addComponent(new Material(...))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    User->>Scene: scene.add(node)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    User->>Renderer: renderer.mount(scene)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    loop Animation Frame\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        User->>Node: transform.rotation = {...}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        User->>Node: transform.updateLocalMatrix()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        User->>Renderer: renderer.render()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Renderer->>Scene: scene.updateWorldMatrices()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Scene->>Node: node.updateWorldMatrix(parentMatrix)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Renderer->>Renderer: Draw frame\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"oroyacore\">\u003Ccode>@oroya/core\u003C/code>\u003C/h2>\n\u003Ch3 id=\"exports-completos\">Exports completos\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./scene/Scene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Nodes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Node } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./nodes/Node\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Components\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Component, ComponentType } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./components/Component\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Transform } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./components/Transform\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Vec3, Quat } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./components/Transform\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Geometry, GeometryPrimitive } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./components/Geometry\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { BoxGeometryDef, SphereGeometryDef, Path2DGeometryDef, Path2DCommand, GeometryDef } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./components/Geometry\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Material } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./components/Material\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ColorRGB, MaterialDef } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./components/Material\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./components/Camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { PerspectiveCameraDef, OrthographicCameraDef, CameraDef } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./components/Camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Animation } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./components/Animation\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { SvgAnimateDef, SvgAnimateTransformDef, SvgAnimationDef } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./components/Animation\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  SvgFilterDef, SvgFilterEffect, SvgBlurEffect, SvgDropShadowEffect,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  SvgClipPathDef, SvgMaskDef,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">} \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./components/Material\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Primitives\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { createBox, createSphere, createPath2D } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./geometry/primitives\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Serialization\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { serialize, deserialize } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./serialization/json\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Math\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Matrix4Identity, composeMatrix, multiplyMatrices } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./math/Matrix4\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Matrix4 } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./math/Matrix4\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"scene\">\u003Ccode>Scene\u003C/code>\u003C/h3>\n\u003Cp>El contenedor de nivel superior del scene graph.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/scene/Scene.ts\">Scene.ts\u003C/a>\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"constructor\">Constructor\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Parámetro\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cem>(ninguno)\u003C/em>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Crea una escena con un nodo raíz llamado \u003Ccode>'root'\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"propiedades\">Propiedades\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Propiedad\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Acceso\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>root\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>readonly\u003C/code>\u003C/td>\u003Ctd>El nodo raíz del árbol de escena\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"métodos\">Métodos\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Método\u003C/th>\u003Cth>Firma\u003C/th>\u003Cth>Retorno\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>add\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>add(node: Node, parent?: Node)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Agrega un nodo. Si no se especifica \u003Ccode>parent\u003C/code>, se agrega como hijo del \u003Ccode>root\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>remove\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>remove(node: Node)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Remueve un nodo de su padre\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>findNodeById\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>findNodeById(id: string)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node | undefined\u003C/code>\u003C/td>\u003Ctd>Busca recursivamente un nodo por su UUID\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>findNodeByName\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>findNodeByName(name: string)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node | undefined\u003C/code>\u003C/td>\u003Ctd>Busca recursivamente un nodo por su nombre\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>traverse\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>traverse(callback: (node: Node) => void)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Recorre todos los nodos del árbol en profundidad (DFS pre-order)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>updateWorldMatrices\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>updateWorldMatrices()\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Recalcula las matrices del mundo de todos los nodos. Se llama internamente por los renderers\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"ejemplo\">Ejemplo\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> parent\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">group\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> child\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">child\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(parent);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(child, parent); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// child es hijo de parent, no del root\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">traverse\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">node\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// → 'root', 'group', 'child'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> found\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">findNodeByName\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">child\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(found\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">?.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">parent\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">?.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// → 'group'\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"node\">\u003Ccode>Node\u003C/code>\u003C/h3>\n\u003Cp>Un elemento del scene graph. Soporta jerarquía padre-hijo y un sistema de componentes ECS.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/nodes/Node.ts\">Node.ts\u003C/a>\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">classDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    class Node {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +readonly id: string\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +name: string\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +parent: Node | null\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +readonly children: Node[]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +readonly components: Map~ComponentType, Component~\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +get transform(): Transform\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +constructor(name: string, id?: string)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +addComponent(component: Component): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +getComponent~T~(type: ComponentType): T | undefined\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +hasComponent(type: ComponentType): boolean\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +add(node: Node): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +remove(node: Node): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +updateWorldMatrix(parentMatrix?: Matrix4): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +traverse(callback: Function): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +findNodeById(id: string): Node | undefined\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +findNodeByName(name: string): Node | undefined\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"constructor-1\">Constructor\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Parámetro\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>name\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Nombre legible del nodo\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>id\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>uuidv4()\u003C/code>\u003C/td>\u003Ctd>Identificador único. Se auto-genera si no se provee\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nota:\u003C/strong> Cada nodo recibe automáticamente un componente \u003Ccode>Transform\u003C/code> al crearse.\u003C/p>\n\u003C/blockquote>\n\u003Ch4 id=\"propiedades-1\">Propiedades\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Propiedad\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Acceso\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>id\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>readonly\u003C/code>\u003C/td>\u003Ctd>UUID único generado automáticamente\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>name\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>read/write\u003C/td>\u003Ctd>Etiqueta legible para humanos\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>parent\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node | null\u003C/code>\u003C/td>\u003Ctd>read/write\u003C/td>\u003Ctd>Referencia al nodo padre\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>children\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node[]\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>readonly\u003C/code>\u003C/td>\u003Ctd>Array de nodos hijos\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>components\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Map&#x3C;ComponentType, Component>\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>readonly\u003C/code>\u003C/td>\u003Ctd>Mapa de componentes. Máximo uno por tipo\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>transform\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>getter\u003C/td>\u003Ctd>Acceso directo al componente Transform\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>cssClass\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string | undefined\u003C/code>\u003C/td>\u003Ctd>read/write\u003C/td>\u003Ctd>Clase(s) CSS que el renderer SVG emite como atributo \u003Ccode>class\u003C/code> en el elemento\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>cssId\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string | undefined\u003C/code>\u003C/td>\u003Ctd>read/write\u003C/td>\u003Ctd>ID semántico que el renderer SVG emite como atributo \u003Ccode>id\u003C/code> en el elemento\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"métodos-1\">Métodos\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Método\u003C/th>\u003Cth>Firma\u003C/th>\u003Cth>Retorno\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>addComponent\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>addComponent(component: Component)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Adjunta un componente. Si ya existe uno del mismo tipo, lo reemplaza. Establece \u003Ccode>component.node = this\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>getComponent&#x3C;T>\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>getComponent&#x3C;T>(type: ComponentType)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>T | undefined\u003C/code>\u003C/td>\u003Ctd>Obtiene un componente por tipo, casteado al tipo genérico\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>hasComponent\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>hasComponent(type: ComponentType)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>boolean\u003C/code>\u003C/td>\u003Ctd>Verifica si existe un componente de ese tipo\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>add\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>add(node: Node)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Agrega un hijo. Si el nodo ya tiene padre, lo remueve primero (re-parenting)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>remove\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>remove(node: Node)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Remueve un hijo. Establece \u003Ccode>node.parent = null\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>updateWorldMatrix\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>updateWorldMatrix(parentMatrix?: Matrix4)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Recalcula la world matrix y propaga a los hijos recursivamente\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>traverse\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>traverse(callback: (node: Node) => void)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>DFS pre-order sobre este nodo y todos los descendientes\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>findNodeById\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>findNodeById(id: string)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node | undefined\u003C/code>\u003C/td>\u003Ctd>Búsqueda recursiva por UUID\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>findNodeByName\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>findNodeByName(name: string)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node | undefined\u003C/code>\u003C/td>\u003Ctd>Búsqueda recursiva por nombre. Retorna el primero encontrado\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"ejemplo-completo\">Ejemplo completo\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> player\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">player\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">player\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">player\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Composición jerárquica\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> weapon\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">weapon\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">weapon\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">weapon\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">player\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(weapon); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// weapon es hijo de player\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Consultar componentes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> geo\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> player\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getComponent\u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">Geometry\u003C/span>\u003Cspan style=\"color:#C792EA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">ComponentType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">Geometry\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(geo\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">?.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">definition\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// { type: 'Box', width: 0.5, ... }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(player\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">hasComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(ComponentType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// false\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Re-parenting: mover weapon a otro nodo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> chest\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">chest\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">chest\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(weapon); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// se remueve automáticamente de player\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(weapon\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">parent\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">?.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// 'chest'\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"component-base-abstracta\">\u003Ccode>Component\u003C/code> (base abstracta)\u003C/h3>\n\u003Cp>Clase base para todos los componentes del sistema ECS.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Component.ts\">Component.ts\u003C/a>\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">classDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    class Component {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        &#x3C;&#x3C;abstract>>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +abstract readonly type: ComponentType\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +node: Node | null\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    class Transform {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +type = ComponentType.Transform\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +position: Vec3\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +rotation: Quat\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +scale: Vec3\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +localMatrix: Matrix4\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +worldMatrix: Matrix4\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +isDirty: boolean\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +updateLocalMatrix(): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    class Geometry {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +type = ComponentType.Geometry\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +definition: GeometryDef\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    class Material {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +type = ComponentType.Material\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +definition: MaterialDef\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    class Camera {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +type = ComponentType.Camera\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +definition: CameraDef\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    class Animation {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +type = ComponentType.Animation\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +animations: SvgAnimationDef[]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Component &#x3C;|-- Transform\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Component &#x3C;|-- Geometry\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Component &#x3C;|-- Material\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Component &#x3C;|-- Camera\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Component &#x3C;|-- Animation\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"componenttype-enum\">\u003Ccode>ComponentType\u003C/code> (Enum)\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Valor\u003C/th>\u003Cth>String\u003C/th>\u003Cth>Usado por\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Transform'\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Transform\u003C/code> — automático en cada \u003Ccode>Node\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Geometry\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Geometry'\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Geometry\u003C/code> — define la forma\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Material'\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Material\u003C/code> — define la apariencia\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Camera'\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Camera\u003C/code> — define el punto de vista\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Interactive\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Interactive'\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Interactive\u003C/code> — habilita eventos de interacción\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Animation\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Animation'\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Animation\u003C/code> — animaciones SVG nativas\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Regla ECS:\u003C/strong> Cada nodo puede tener \u003Cstrong>máximo un componente\u003C/strong> de cada tipo. Agregar un segundo componente del mismo tipo reemplaza al anterior.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch3 id=\"transform-componente\">\u003Ccode>Transform\u003C/code> (Componente)\u003C/h3>\n\u003Cp>Define la posición, rotación y escala de un nodo en espacio 3D. Se crea \u003Cstrong>automáticamente\u003C/strong> con cada \u003Ccode>Node\u003C/code>.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Transform.ts\">Transform.ts\u003C/a>\u003C/p>\n\u003Ch4 id=\"propiedades-2\">Propiedades\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Propiedad\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>position\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Vec3\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{ x: 0, y: 0, z: 0 }\u003C/code>\u003C/td>\u003Ctd>Traslación en espacio local\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>rotation\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Quat\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{ x: 0, y: 0, z: 0, w: 1 }\u003C/code>\u003C/td>\u003Ctd>Rotación como quaternion (identidad = sin rotación)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>scale\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Vec3\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{ x: 1, y: 1, z: 1 }\u003C/code>\u003C/td>\u003Ctd>Escala en espacio local\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>localMatrix\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Matrix4\u003C/code>\u003C/td>\u003Ctd>Identidad\u003C/td>\u003Ctd>Matriz de transformación local (calculada)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>worldMatrix\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Matrix4\u003C/code>\u003C/td>\u003Ctd>Identidad\u003C/td>\u003Ctd>Matriz de transformación en espacio mundo (calculada)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>isDirty\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>true\u003C/code>\u003C/td>\u003Ctd>Indica si la matriz necesita recalcularse\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"métodos-2\">Métodos\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Método\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>updateLocalMatrix()\u003C/code>\u003C/td>\u003Ctd>Recalcula \u003Ccode>localMatrix\u003C/code> a partir de \u003Ccode>position\u003C/code>, \u003Ccode>rotation\u003C/code> y \u003Ccode>scale\u003C/code>. Marca \u003Ccode>isDirty = true\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"pipeline-de-transformación\">Pipeline de transformación\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    A[\"position + rotation + scale\"] -->|\"updateLocalMatrix()\"| B[\"localMatrix\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    B -->|\"× parent.worldMatrix\"| C[\"worldMatrix\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    C -->|\"renderer reads\"| D[\"Posición final en pantalla\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"guía-rápida-de-quaterniones\">Guía rápida de quaterniones\u003C/h4>\n\u003Cp>Los quaterniones \u003Ccode>{ x, y, z, w }\u003C/code> representan rotaciones 3D sin gimbal lock.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Rotación deseada\u003C/th>\u003Cth>Quaternion\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Sin rotación\u003C/td>\u003Ctd>\u003Ccode>{ x: 0, y: 0, z: 0, w: 1 }\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>90° en eje Y\u003C/td>\u003Ctd>\u003Ccode>{ x: 0, y: 0.707, z: 0, w: 0.707 }\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>180° en eje Y\u003C/td>\u003Ctd>\u003Ccode>{ x: 0, y: 1, z: 0, w: 0 }\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>θ grados en eje Y\u003C/td>\u003Ctd>\u003Ccode>{ x: 0, y: sin(θ/2), z: 0, w: cos(θ/2) }\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>θ grados en eje X\u003C/td>\u003Ctd>\u003Ccode>{ x: sin(θ/2), y: 0, z: 0, w: cos(θ/2) }\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>θ grados en eje Z\u003C/td>\u003Ctd>\u003Ccode>{ x: 0, y: 0, z: sin(θ/2), w: cos(θ/2) }\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Fórmula:\u003C/strong> Para rotar \u003Ccode>θ\u003C/code> radianes alrededor del eje unitario \u003Ccode>(ax, ay, az)\u003C/code>:\r\n\u003Ccode>{ x: ax * sin(θ/2), y: ay * sin(θ/2), z: az * sin(θ/2), w: cos(θ/2) }\u003C/code>\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch3 id=\"geometry-componente\">\u003Ccode>Geometry\u003C/code> (Componente)\u003C/h3>\n\u003Cp>Define la forma geométrica de un nodo.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Geometry.ts\">Geometry.ts\u003C/a>\u003C/p>\n\u003Ch4 id=\"constructor-2\">Constructor\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Geometry\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(definition: GeometryDef)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"geometryprimitive-enum\">\u003Ccode>GeometryPrimitive\u003C/code> (Enum)\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Valor\u003C/th>\u003Cth>String\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Box\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Box'\u003C/code>\u003C/td>\u003Ctd>Paralelepípedo (cubo, caja)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Sphere\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Sphere'\u003C/code>\u003C/td>\u003Ctd>Esfera UV\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Path2D\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Path2D'\u003C/code>\u003C/td>\u003Ctd>Path vectorial 2D (para SVG)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Text\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Text'\u003C/code>\u003C/td>\u003Ctd>Texto SVG\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"geometrydef-union-type\">\u003Ccode>GeometryDef\u003C/code> (Union type)\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    GD[\"GeometryDef\"] -->|\"type = 'Box'\"| Box[\"BoxGeometryDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    GD -->|\"type = 'Sphere'\"| Sphere[\"SphereGeometryDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    GD -->|\"type = 'Path2D'\"| Path[\"Path2DGeometryDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    GD -->|\"type = 'Text'\"| Text[\"TextGeometryDef\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"boxgeometrydef\">\u003Ccode>BoxGeometryDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GeometryPrimitive.Box\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>width\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Ancho (eje X)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>height\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Alto (eje Y)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>depth\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Profundidad (eje Z)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"spheregeometrydef\">\u003Ccode>SphereGeometryDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GeometryPrimitive.Sphere\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>radius\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Radio de la esfera\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>widthSegments\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Segmentos horizontales (meridianos)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>heightSegments\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Segmentos verticales (paralelos)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Tip:\u003C/strong> Más segmentos = esfera más suave. Valores comunes: 16 (baja calidad), 32 (estándar), 64 (alta calidad).\u003C/p>\n\u003C/blockquote>\n\u003Ch4 id=\"path2dgeometrydef\">\u003Ccode>Path2DGeometryDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GeometryPrimitive.Path2D\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>path\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Path2DCommand[]\u003C/code>\u003C/td>\u003Ctd>Array de comandos SVG-like\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"path2dcommand\">\u003Ccode>Path2DCommand\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>command\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Comando SVG: \u003Ccode>'M'\u003C/code>, \u003Ccode>'L'\u003C/code>, \u003Ccode>'C'\u003C/code>, \u003Ccode>'Q'\u003C/code>, \u003Ccode>'Z'\u003C/code>, etc.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>args\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number[]\u003C/code>\u003C/td>\u003Ctd>Argumentos numéricos del comando\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>\u003Cstrong>Comandos SVG soportados:\u003C/strong>\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Comando\u003C/th>\u003Cth>Argumentos\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>M\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>[x, y]\u003C/code>\u003C/td>\u003Ctd>Move to — mover sin dibujar\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>L\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>[x, y]\u003C/code>\u003C/td>\u003Ctd>Line to — línea recta\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>C\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>[cx1, cy1, cx2, cy2, x, y]\u003C/code>\u003C/td>\u003Ctd>Cubic Bézier\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Q\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>[cx, cy, x, y]\u003C/code>\u003C/td>\u003Ctd>Quadratic Bézier\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>A\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>[rx, ry, rotation, largeArc, sweep, x, y]\u003C/code>\u003C/td>\u003Ctd>Arc\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Z\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>[]\u003C/code>\u003C/td>\u003Ctd>Close path — cerrar el camino\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"textgeometrydef\">\u003Ccode>TextGeometryDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GeometryPrimitive.Text\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>text\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Contenido del texto\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fontSize\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>16\u003C/code>\u003C/td>\u003Ctd>Tamaño de fuente (px)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fontFamily\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'sans-serif'\u003C/code>\u003C/td>\u003Ctd>Familia tipográfica\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fontWeight\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'normal'\u003C/code>\u003C/td>\u003Ctd>Peso: \u003Ccode>'normal'\u003C/code>, \u003Ccode>'bold'\u003C/code>, \u003Ccode>'100'\u003C/code>–\u003Ccode>'900'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>textAnchor\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'start'\u003C/code>\u003C/td>\u003Ctd>Alineación horizontal: \u003Ccode>'start'\u003C/code>, \u003Ccode>'middle'\u003C/code>, \u003Ccode>'end'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dominantBaseline\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'auto'\u003C/code>\u003C/td>\u003Ctd>Alineación vertical: \u003Ccode>'auto'\u003C/code>, \u003Ccode>'middle'\u003C/code>, \u003Ccode>'hanging'\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"compatibilidad-con-renderers\">Compatibilidad con renderers\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>GeometryDef\u003C/th>\u003Cth>Three.js\u003C/th>\u003Cth>SVG\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>BoxGeometryDef\u003C/code>\u003C/td>\u003Ctd>✅ → \u003Ccode>THREE.BoxGeometry\u003C/code>\u003C/td>\u003Ctd>✅ → \u003Ccode>&#x3C;rect>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SphereGeometryDef\u003C/code>\u003C/td>\u003Ctd>✅ → \u003Ccode>THREE.SphereGeometry\u003C/code>\u003C/td>\u003Ctd>✅ → \u003Ccode>&#x3C;circle>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Path2DGeometryDef\u003C/code>\u003C/td>\u003Ctd>❌ ignorado\u003C/td>\u003Ctd>✅ → \u003Ccode>&#x3C;path d=\"...\">\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>TextGeometryDef\u003C/code>\u003C/td>\u003Ctd>❌ ignorado\u003C/td>\u003Ctd>✅ → \u003Ccode>&#x3C;text>\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch3 id=\"material-componente\">\u003Ccode>Material\u003C/code> (Componente)\u003C/h3>\n\u003Cp>Define la apariencia visual de un nodo.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Material.ts\">Material.ts\u003C/a>\u003C/p>\n\u003Ch4 id=\"constructor-3\">Constructor\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(definition\u003C/span>\u003Cspan style=\"color:#C792EA\">?:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> MaterialDef)  \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// default: {}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"colorrgb\">\u003Ccode>ColorRGB\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Rango\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>r\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>0.0 – 1.0\u003C/td>\u003Ctd>Componente rojo\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>g\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>0.0 – 1.0\u003C/td>\u003Ctd>Componente verde\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>b\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>0.0 – 1.0\u003C/td>\u003Ctd>Componente azul\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Conversión:\u003C/strong> Para convertir de hex \u003Ccode>#3399ff\u003C/code> a RGB normalizado: \u003Ccode>{ r: 0x33/255, g: 0x99/255, b: 0xff/255 }\u003C/code> → \u003Ccode>{ r: 0.2, g: 0.6, b: 1.0 }\u003C/code>\u003C/p>\n\u003C/blockquote>\n\u003Ch4 id=\"materialdef\">\u003Ccode>MaterialDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Usado por\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>color\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>ColorRGB\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Three.js\u003C/td>\u003Ctd>Color de la superficie para renderizado 3D\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>opacity\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Three.js, SVG\u003C/td>\u003Ctd>Opacidad: 0 (transparente) a 1 (opaco). Activa transparencia automáticamente si &#x3C; 1\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>ColorRGB\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>Color de relleno para paths 2D\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stroke\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>ColorRGB\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>Color del trazo para paths 2D\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>strokeWidth\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>Ancho del trazo en píxeles\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fillGradient\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GradientDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>Gradiente para relleno. Tiene prioridad sobre \u003Ccode>fill\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>strokeGradient\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GradientDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>Gradiente para trazo. Tiene prioridad sobre \u003Ccode>stroke\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>filter\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SvgFilterDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>Filtro SVG (blur, drop-shadow). Genera un \u003Ccode>&#x3C;filter>\u003C/code> en \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>clipPath\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SvgClipPathDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>Recorte vectorial. Genera un \u003Ccode>&#x3C;clipPath>\u003C/code> en \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>mask\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SvgMaskDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>Máscara de luminancia. Genera un \u003Ccode>&#x3C;mask>\u003C/code> en \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"gradientdef-union-type\">\u003Ccode>GradientDef\u003C/code> (Union type)\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">type\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> GradientDef \u003C/span>\u003Cspan style=\"color:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> LinearGradientDef\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> |\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> RadialGradientDef\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"svg-filters-svgfilterdef\">SVG Filters (\u003Ccode>SvgFilterDef\u003C/code>)\u003C/h4>\n\u003Cp>Permite aplicar filtros SVG nativos a un nodo.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">interface\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> SvgFilterDef {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  effects\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> SvgFilterEffect\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">type\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> SvgFilterEffect \u003C/span>\u003Cspan style=\"color:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> SvgBlurEffect\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> |\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> SvgDropShadowEffect\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch5 id=\"svgblureffect\">\u003Ccode>SvgBlurEffect\u003C/code>\u003C/h5>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'blur'\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stdDeviation\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Radio de desenfoque gaussiano\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch5 id=\"svgdropshadoweffect\">\u003Ccode>SvgDropShadowEffect\u003C/code>\u003C/h5>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'dropShadow'\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dx\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Desplazamiento horizontal de la sombra\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dy\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Desplazamiento vertical de la sombra\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stdDeviation\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Radio de desenfoque de la sombra\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>floodColor\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Color de la sombra (e.g., \u003Ccode>'black'\u003C/code>, \u003Ccode>'#333'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>floodOpacity\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Opacidad de la sombra (0–1)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"svgclippathdef\">\u003Ccode>SvgClipPathDef\u003C/code>\u003C/h4>\n\u003Cp>Recorta el nodo a una región vectorial definida por un path SVG.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>path\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Path2DCommand[]\u003C/code>\u003C/td>\u003Ctd>Comandos del path de recorte\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"svgmaskdef\">\u003Ccode>SvgMaskDef\u003C/code>\u003C/h4>\n\u003Cp>Aplica una máscara de luminancia al nodo.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>path\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Path2DCommand[]\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Comandos del path de la máscara\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Color de relleno de la máscara (e.g., \u003Ccode>'white'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>opacity\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Opacidad del path de la máscara\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"ejemplo-filtros-clip-path-y-máscara\">Ejemplo: Filtros, clip-path y máscara\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Blur\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> blurred\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  fill\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#C792EA\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  filter\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> effects\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [{\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">blur\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> stdDeviation\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 3\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }]\u003C/span>\u003Cspan style=\"color:#C792EA\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Drop shadow con color personalizado\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> shadowed\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  fill\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#C792EA\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  filter\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">    effects\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [{\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">dropShadow\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> dx\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> dy\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> stdDeviation\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> floodColor\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">#333\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> floodOpacity\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }]\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Clip path\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> clipped\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  fill\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#C792EA\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  clipPath\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">    path\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> command\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">M\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> args\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> command\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> args\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> command\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> args\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> command\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">Z\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> args\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> []\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ]\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"lineargradientdef\">\u003Ccode>LinearGradientDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'linear'\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>x1\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>0\u003C/code>\u003C/td>\u003Ctd>Coordenada X inicio (0–1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>y1\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>0\u003C/code>\u003C/td>\u003Ctd>Coordenada Y inicio (0–1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>x2\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>1\u003C/code>\u003C/td>\u003Ctd>Coordenada X fin (0–1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>y2\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>0\u003C/code>\u003C/td>\u003Ctd>Coordenada Y fin (0–1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stops\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GradientStop[]\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Paradas de color\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"radialgradientdef\">\u003Ccode>RadialGradientDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'radial'\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>cx\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>0.5\u003C/code>\u003C/td>\u003Ctd>Centro X (0–1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>cy\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>0.5\u003C/code>\u003C/td>\u003Ctd>Centro Y (0–1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>r\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>0.5\u003C/code>\u003C/td>\u003Ctd>Radio (0–1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fx\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Foco X (0–1), opcional\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fy\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Foco Y (0–1), opcional\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stops\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GradientStop[]\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Paradas de color\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"gradientstop\">\u003Ccode>GradientStop\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>offset\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Posición en el gradiente (0–1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>color\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>ColorRGB\u003C/code>\u003C/td>\u003Ctd>Color en esta parada\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>opacity\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(opcional)\u003C/em> Opacidad de la parada (0–1)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"ejemplo-material-para-ambos-renderers\">Ejemplo: Material para ambos renderers\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Material que funciona en 3D y SVG\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> material\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  color\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.2\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.6\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1.0\u003C/span>\u003Cspan style=\"color:#C792EA\"> },\u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">    // Three.js lo usa como diffuse color\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  fill\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.2\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.6\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1.0\u003C/span>\u003Cspan style=\"color:#C792EA\"> },\u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">      // SVG lo usa como fill\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  stroke\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.1\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.3\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.8\u003C/span>\u003Cspan style=\"color:#C792EA\"> },\u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">    // SVG lo usa como stroke\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  strokeWidth\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  opacity\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.9\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"cómo-lo-interpretan-los-renderers\">Cómo lo interpretan los renderers\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    MD[\"MaterialDef\"] --> TH{\"Three.js Renderer\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    MD --> SV{\"SVG Renderer\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    TH --> M1[\"MeshStandardMaterial\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    TH -->|\"color\"| M1\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    TH -->|\"opacity + transparent\"| M1\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SV --> M2[\"style attributes\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SV -->|\"fill / fillGradient\"| M2\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SV -->|\"stroke / strokeGradient\"| M2\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SV -->|\"opacity\"| M2\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"camera-componente\">\u003Ccode>Camera\u003C/code> (Componente)\u003C/h3>\n\u003Cp>Define un punto de vista para renderizar la escena. El \u003Ccode>ThreeRenderer\u003C/code> busca automáticamente el primer nodo con \u003Ccode>Camera\u003C/code> al montar la escena.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Camera.ts\">Camera.ts\u003C/a>\u003C/p>\n\u003Ch4 id=\"constructor-4\">Constructor\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(definition: CameraDef)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"cameratype-enum\">\u003Ccode>CameraType\u003C/code> (Enum)\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Valor\u003C/th>\u003Cth>String\u003C/th>\u003Cth>Estado\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Perspective\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Perspective'\u003C/code>\u003C/td>\u003Ctd>✅ Implementado\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Orthographic\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Orthographic'\u003C/code>\u003C/td>\u003Ctd>✅ Implementado\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"perspectivecameradef\">\u003Ccode>PerspectiveCameraDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003Cth>Valor típico\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>CameraType.Perspective\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003Ctd>—\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fov\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Campo de visión en grados\u003C/td>\u003Ctd>45 – 90\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>aspect\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Relación de aspecto (ancho / alto)\u003C/td>\u003Ctd>\u003Ccode>window.innerWidth / window.innerHeight\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>near\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Plano de corte cercano\u003C/td>\u003Ctd>0.1\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>far\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Plano de corte lejano\u003C/td>\u003Ctd>1000\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"diagrama-de-frustum-perspectiva\">Diagrama de frustum (perspectiva)\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>              far plane\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>          ┌─────────────────┐\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         /                   \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        /     Visible         \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>       /      Volume           \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>      /      (frustum)          \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>     /                           \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    └─────────────────────────────┘\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>     ├── near plane ──┤\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>              △\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>           Camera\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>          position\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"ejemplo-de-uso\">Ejemplo de uso\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">main-camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Perspective\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fov: \u003C/span>\u003Cspan style=\"color:#F78C6C\">75\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  aspect: \u003C/span>\u003Cspan style=\"color:#F78C6C\">16\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1000\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">10\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cam);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"orthographiccameradef\">\u003Ccode>OrthographicCameraDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003Cth>Valor típico\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>CameraType.Orthographic\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003Ctd>—\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>left\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Borde izquierdo del frustum\u003C/td>\u003Ctd>\u003Ccode>-400\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>right\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Borde derecho del frustum\u003C/td>\u003Ctd>\u003Ccode>400\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>top\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Borde superior del frustum\u003C/td>\u003Ctd>\u003Ccode>-300\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>bottom\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Borde inferior del frustum\u003C/td>\u003Ctd>\u003Ccode>300\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>near\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Plano de corte cercano\u003C/td>\u003Ctd>\u003Ccode>0.1\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>far\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Plano de corte lejano\u003C/td>\u003Ctd>\u003Ccode>1000\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>SVG:\u003C/strong> Cuando una escena tiene un nodo con \u003Ccode>OrthographicCameraDef\u003C/code>, el renderer SVG calcula automáticamente el \u003Ccode>viewBox\u003C/code> a partir de \u003Ccode>left\u003C/code>, \u003Ccode>right\u003C/code>, \u003Ccode>top\u003C/code> y \u003Ccode>bottom\u003C/code>, más el offset de posición de la cámara. Un \u003Ccode>viewBox\u003C/code> explícito en las opciones tiene prioridad.\u003C/p>\n\u003C/blockquote>\n\u003Ch4 id=\"ejemplo-cámara-ortográfica-para-svg\">Ejemplo: Cámara ortográfica para SVG\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">ortho-cam\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Orthographic\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  left: \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">400\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, right: \u003C/span>\u003Cspan style=\"color:#F78C6C\">400\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  top: \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">300\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, bottom: \u003C/span>\u003Cspan style=\"color:#F78C6C\">300\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1000\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">25\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// viewBox se calcula como \"-350 -275 800 600\" (offset por posición de cámara)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> svg\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 800\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 600\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nota:\u003C/strong> Si no se agrega ninguna cámara, \u003Ccode>ThreeRenderer\u003C/code> crea un fallback en \u003Ccode>(0, 0, 5)\u003C/code> con FOV 75.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch3 id=\"interactive-componente\">Interactive (componente)\u003C/h3>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Interactive.ts\">Interactive.ts\u003C/a>\u003C/p>\n\u003Cp>Marca un nodo como interactivo, permitiendo que responda a eventos de puntero (click, hover, drag, etc.).\u003C/p>\n\u003Chr>\n\u003Ch3 id=\"animation-componente\">Animation (componente)\u003C/h3>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Animation.ts\">Animation.ts\u003C/a>\u003C/p>\n\u003Cp>Permite agregar animaciones SVG nativas (\u003Ccode>&#x3C;animate>\u003C/code> y \u003Ccode>&#x3C;animateTransform>\u003C/code>) a un nodo. Estas animaciones se ejecutan directamente en el navegador sin JavaScript.\u003C/p>\n\u003Ch4 id=\"constructor-5\">Constructor\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Animation\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(animations: SvgAnimationDef[])\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"svganimationdef-union-type\">\u003Ccode>SvgAnimationDef\u003C/code> (Union type)\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">type\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> SvgAnimationDef \u003C/span>\u003Cspan style=\"color:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> SvgAnimateDef\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> |\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> SvgAnimateTransformDef\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"svganimatedef\">\u003Ccode>SvgAnimateDef\u003C/code>\u003C/h4>\n\u003Cp>Genera un elemento \u003Ccode>&#x3C;animate>\u003C/code> que anima un atributo escalar.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'animate'\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>attributeName\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Atributo SVG a animar (e.g., \u003Ccode>'opacity'\u003C/code>, \u003Ccode>'r'\u003C/code>, \u003Ccode>'fill'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>from\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Valor inicial\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>to\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Valor final\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>values\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Lista de valores separados por \u003Ccode>;\u003C/code> (alternativa a from/to)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dur\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Duración (e.g., \u003Ccode>'2s'\u003C/code>, \u003Ccode>'500ms'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>repeatCount\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Repeticiones: un número o \u003Ccode>'indefinite'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>begin\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Cuándo empieza (e.g., \u003Ccode>'0s'\u003C/code>, \u003Ccode>'click'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Comportamiento al terminar: \u003Ccode>'freeze'\u003C/code> o \u003Ccode>'remove'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>keyTimes\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Tiempos clave separados por \u003Ccode>;\u003C/code> (0–1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>keySplines\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Curvas Bézier para interpolación entre keyframes\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>calcMode\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Modo de cálculo: \u003Ccode>'linear'\u003C/code>, \u003Ccode>'discrete'\u003C/code>, \u003Ccode>'paced'\u003C/code>, \u003Ccode>'spline'\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"svganimatetransformdef\">\u003Ccode>SvgAnimateTransformDef\u003C/code>\u003C/h4>\n\u003Cp>Genera un elemento \u003Ccode>&#x3C;animateTransform>\u003C/code> que anima una transformación geométrica.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'animateTransform'\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>transformType\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Tipo de transformación: \u003Ccode>'translate'\u003C/code>, \u003Ccode>'scale'\u003C/code>, \u003Ccode>'rotate'\u003C/code>, \u003Ccode>'skewX'\u003C/code>, \u003Ccode>'skewY'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>from\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Valor inicial (e.g., \u003Ccode>'0 50 50'\u003C/code> para rotación)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>to\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Valor final\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>values\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Lista de valores separados por \u003Ccode>;\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dur\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Duración\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>repeatCount\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Repeticiones\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>begin\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Cuándo empieza\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'freeze'\u003C/code> o \u003Ccode>'remove'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>additive\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'sum'\u003C/code> para acumular con la transformación base\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"ejemplo-1\">Ejemplo\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> circle\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">pulse\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">circle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">30\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">circle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">circle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Animation\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Pulsar opacidad\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    attributeName: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">opacity\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    values: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">1;0.3;1\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    dur: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">2s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Rotar continuamente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">animateTransform\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    transformType: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">rotate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    from: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">0 50 50\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    to: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">360 50 50\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    dur: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">4s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(circle);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">circle\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> cx\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> cy\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">30\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> fill\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(255, 0, 0)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">animate\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> attributeName\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">opacity\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> values\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">1;0.3;1\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> dur\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">2s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> repeatCount\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">animateTransform\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> attributeName\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">transform\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">rotate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478;font-style:italic\">    from\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0 50 50\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> to\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">360 50 50\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> dur\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">4s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> repeatCount\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">circle\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nota:\u003C/strong> Las animaciones SVG nativas solo tienen efecto en el renderer SVG. El renderer Three.js las ignora.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch4 id=\"definición\">Definición\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">interface\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> InteractiveDef {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  enabled\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> boolean\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cursor\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  blocksRaycast\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> boolean\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>enabled\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>true\u003C/code>\u003C/td>\u003Ctd>Si el nodo responde a eventos\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>cursor\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'pointer'\u003C/code>\u003C/td>\u003Ctd>CSS cursor al hacer hover (e.g., \u003Ccode>'pointer'\u003C/code>, \u003Ccode>'grab'\u003C/code>, \u003Ccode>'move'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>blocksRaycast\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>true\u003C/code>\u003C/td>\u003Ctd>Si bloquea raycasts a objetos detrás\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"uso\">Uso\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Node, Interactive, createBox } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> button\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">button\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">button\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">button\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Interactive\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ cursor: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">pointer\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Registrar event handlers\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">button\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">on\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">click\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">e\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Clicked!\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, e\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">target\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">button\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">on\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">pointerenter\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">e\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Hover started\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">button\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">on\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">pointerleave\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">e\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Hover ended\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"integración-con-renderers\">Integración con renderers\u003C/h4>\n\u003Cul>\n\u003Cli>\u003Cstrong>ThreeRenderer:\u003C/strong> Requiere llamar \u003Ccode>renderer.enableInteraction()\u003C/code> después de \u003Ccode>mount()\u003C/code>. Usa \u003Ccode>THREE.Raycaster\u003C/code> para hit-testing 3D.\u003C/li>\n\u003Cli>\u003Cstrong>SVG Renderer:\u003C/strong> Usa \u003Ccode>renderToSVGElement()\u003C/code> (no \u003Ccode>renderToSVG()\u003C/code>) para obtener un DOM element con event listeners.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch3 id=\"eventemitter\">EventEmitter\u003C/h3>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/events/EventEmitter.ts\">EventEmitter.ts\u003C/a>\u003C/p>\n\u003Cp>Sistema de eventos genérico con tipado fuerte. Cada \u003Ccode>Node\u003C/code> tiene un \u003Ccode>EventEmitter\u003C/code> interno para manejar \u003Ccode>InteractionEvent\u003C/code>s.\u003C/p>\n\u003Ch4 id=\"api\">API\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">class\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> EventEmitter\u003C/span>\u003Cspan style=\"color:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B\">EventMap\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> extends\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Record\u003C/span>\u003Cspan style=\"color:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#C5E478\">string\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C5E478\">any\u003C/span>\u003Cspan style=\"color:#D6DEEB\">>> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  on\u003C/span>\u003Cspan style=\"color:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B\">K\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> extends\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> keyof\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> EventMap\u003C/span>\u003Cspan style=\"color:#D6DEEB\">>\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D7DBE0\">    eventType\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> K\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">    handler\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> (\u003C/span>\u003Cspan style=\"color:#D7DBE0\">payload\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> EventMap\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#FFCB8B\">K\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D9F5DD\">  )\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  off\u003C/span>\u003Cspan style=\"color:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B\">K\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> extends\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> keyof\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> EventMap\u003C/span>\u003Cspan style=\"color:#D6DEEB\">>\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D7DBE0\">    eventType\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> K\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">    handler\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> (\u003C/span>\u003Cspan style=\"color:#D7DBE0\">payload\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> EventMap\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#FFCB8B\">K\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D9F5DD\">  )\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  emit\u003C/span>\u003Cspan style=\"color:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B\">K\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> extends\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> keyof\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> EventMap\u003C/span>\u003Cspan style=\"color:#D6DEEB\">>\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D7DBE0\">    eventType\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> K\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D7DBE0\">    payload\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> EventMap\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#FFCB8B\">K\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D9F5DD\">  )\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  removeAllListeners\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">eventType\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> keyof\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> EventMap\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  hasListeners\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">eventType\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> keyof\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> EventMap\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> boolean\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"ejemplo-de-uso-directo\">Ejemplo de uso directo\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { EventEmitter } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">type\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> MyEvents \u003C/span>\u003Cspan style=\"color:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D9F5DD\">  '\u003C/span>\u003Cspan style=\"color:#ECC48D\">data-loaded\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { id\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; data\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> any\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D9F5DD\">  '\u003C/span>\u003Cspan style=\"color:#ECC48D\">error\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { message\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> emitter\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> EventEmitter\u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">MyEvents\u003C/span>\u003Cspan style=\"color:#C792EA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">emitter\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">on\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">data-loaded\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">payload\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Data:\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, payload\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">data\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">emitter\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">emit\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">data-loaded\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, { id: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">123\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, data: { foo: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">bar\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } });\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"uso-en-node\">Uso en Node\u003C/h4>\n\u003Cp>Los nodos exponen shortcuts \u003Ccode>on()\u003C/code> y \u003Ccode>off()\u003C/code> que delegan al \u003Ccode>EventEmitter\u003C/code> interno:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">my-node\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">on\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">click\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">e\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> InteractionEvent\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Clicked at\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, e\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">screenPosition\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"interactionevent\">InteractionEvent\u003C/h3>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/events/InteractionEvent.ts\">InteractionEvent.ts\u003C/a>\u003C/p>\n\u003Cp>Eventos de interacción que se disparan cuando el usuario interactúa con nodos marcados como \u003Ccode>Interactive\u003C/code>.\u003C/p>\n\u003Ch4 id=\"tipos-de-eventos\">Tipos de eventos\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">enum\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> InteractionEventType {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">  Click\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">click\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">  PointerDown\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">pointerdown\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">  PointerUp\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">pointerup\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">  PointerMove\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">pointermove\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">  PointerEnter\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">pointerenter\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">  PointerLeave\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">pointerleave\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">  PointerCancel\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">pointercancel\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">  Wheel\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">wheel\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">  DragStart\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">dragstart\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">  DragEnd\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">dragend\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"interfaz\">Interfaz\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">interface\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> InteractionEvent {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> InteractionEventType\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  target\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;                    \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Nodo que recibió el evento originalmente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  currentTarget\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;             \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Nodo actual durante bubbling\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  point\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; y\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; z\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };  \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Posición 3D en world space\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  localPoint\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; y\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; z\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };  \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Posición en local space del nodo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  screenPosition\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; y\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };  \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Posición en pantalla (clientX/Y)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  nativeEvent\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> unknown\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;            \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Evento DOM original (PointerEvent, MouseEvent, etc.)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  propagationStopped\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> boolean\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  stopPropagation\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"event-bubbling\">Event Bubbling\u003C/h4>\n\u003Cp>Los eventos se propagan hacia arriba en el scene graph (de hijo a padre), similar al DOM:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> parent\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">parent\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> child\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">child\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">parent\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(child);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">parent\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">on\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">click\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">e\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Parent clicked, target:\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, e\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">target\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);  \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// \"child\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Current target:\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, e\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">currentTarget\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);   \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// \"parent\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">child\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">on\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">click\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">e\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Child clicked\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  e\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">stopPropagation\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();  \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Detiene el bubbling\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"factory\">Factory\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createInteractionEvent\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D7DBE0\">  type\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> InteractionEventType\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D7DBE0\">  target\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D7DBE0\">  nativeEvent\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> unknown\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D7DBE0\">  screenPosition\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; y\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D7DBE0\">  options\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    point\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; y\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; z\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    localPoint\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; y\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; z\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> InteractionEvent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"factory-functions\">Factory Functions\u003C/h3>\n\u003Cp>Funciones helper para crear componentes \u003Ccode>Geometry\u003C/code> de forma concisa.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/geometry/primitives.ts\">primitives.ts\u003C/a>\u003C/p>\n\u003Ch4 id=\"createbox\">\u003Ccode>createBox\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createBox\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">width\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">height\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">depth\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Geometry\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Parámetro\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>width\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>1\u003C/code>\u003C/td>\u003Ctd>Ancho (eje X)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>height\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>1\u003C/code>\u003C/td>\u003Ctd>Alto (eje Y)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>depth\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>1\u003C/code>\u003C/td>\u003Ctd>Profundidad (eje Z)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cube\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();          \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Cubo 1×1×1\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> plank\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">5\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.2\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Tabla plana\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"createsphere\">\u003Ccode>createSphere\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createSphere\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">radius\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">widthSegments\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">heightSegments\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Geometry\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Parámetro\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>radius\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>0.5\u003C/code>\u003C/td>\u003Ctd>Radio de la esfera\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>widthSegments\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>16\u003C/code>\u003C/td>\u003Ctd>Segmentos horizontales\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>heightSegments\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>16\u003C/code>\u003C/td>\u003Ctd>Segmentos verticales\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ball\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 32\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Esfera suave\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> lowpoly\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 8\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Esfera facetada\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"createpath2d\">\u003Ccode>createPath2D\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createPath2D\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">path\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Path2DCommand\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[]\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Geometry\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Parámetro\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>path\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Path2DCommand[]\u003C/code>\u003C/td>\u003Ctd>Array de comandos SVG\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> triangle\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createPath2D\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> command\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">M\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> args\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> command\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> args\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> command\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> args\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> command\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">Z\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> args\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> []\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">]);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"createtext\">\u003Ccode>createText\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createText\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">text\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">options\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fontSize\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fontFamily\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fontWeight\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  textAnchor\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  dominantBaseline\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Geometry\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Parámetro\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>text\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Contenido del texto\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>options\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>object\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(opcional)\u003C/em> Opciones tipográficas\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> title\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createText\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Hello\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> fontSize\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 32\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> fontFamily\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">monospace\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> textAnchor\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">middle\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"serialización\">Serialización\u003C/h3>\n\u003Cp>Funciones para convertir escenas a JSON y reconstruirlas.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/serialization/json.ts\">json.ts\u003C/a>\u003C/p>\n\u003Ch4 id=\"serialize\">\u003Ccode>serialize\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> serialize\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Scene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Convierte todo el scene graph a una cadena JSON formateada con indentación de 2 espacios.\u003C/p>\n\u003Cp>\u003Cstrong>Componentes soportados en serialización:\u003C/strong>\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Componente\u003C/th>\u003Cth>¿Se serializa?\u003C/th>\u003Cth>Datos incluidos\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>\u003Ccode>position\u003C/code>, \u003Ccode>rotation\u003C/code>, \u003Ccode>scale\u003C/code>, \u003Ccode>localMatrix\u003C/code>, \u003Ccode>worldMatrix\u003C/code>, \u003Ccode>isDirty\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Geometry\u003C/code>\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>\u003Ccode>definition\u003C/code> completo (tipo + parámetros)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>\u003Ccode>definition\u003C/code> completo (color, opacity, fill, stroke, etc.)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>\u003Ccode>definition\u003C/code> completo (type, fov/aspect/near/far para Perspective; left/right/top/bottom/near/far para Orthographic)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Animation\u003C/code>\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>Array de \u003Ccode>SvgAnimationDef\u003C/code> (animate y animateTransform)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"deserialize\">\u003Ccode>deserialize\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> deserialize\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">jsonString\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Scene\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Reconstruye una \u003Ccode>Scene\u003C/code> funcional desde un string JSON.\u003C/p>\n\u003Cp>\u003Cstrong>Comportamiento:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>Los UUIDs de los nodos se \u003Cstrong>preservan\u003C/strong> (mismo ID que el original).\u003C/li>\n\u003Cli>Los campos \u003Ccode>cssClass\u003C/code> y \u003Ccode>cssId\u003C/code> se serializan y restauran.\u003C/li>\n\u003Cli>Todos los componentes (\u003Ccode>Transform\u003C/code>, \u003Ccode>Geometry\u003C/code>, \u003Ccode>Material\u003C/code>, \u003Ccode>Camera\u003C/code>, \u003Ccode>Animation\u003C/code>) se serializan y deserializan correctamente.\u003C/li>\n\u003Cli>El nodo raíz deserializado transfiere sus hijos al raíz de la nueva escena.\u003C/li>\n\u003C/ul>\n\u003Ch4 id=\"formato-del-json\">Formato del JSON\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Root[\"SerializableScene\"] -->|\"root\"| RN[\"SerializableNode\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    RN -->|\"id\"| ID[\"string (UUID)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    RN -->|\"name\"| Name[\"string\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    RN -->|\"components\"| Comps[\"SerializableComponent[]\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    RN -->|\"children\"| Children[\"SerializableNode[]\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Comps --> SC[\"{ type: ComponentType, ...data }\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  \"root\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    \"id\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">550e8400-e29b-41d4-a716-446655440000\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    \"name\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">root\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    \"components\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"type\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">Transform\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"position\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"x\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"y\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"z\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"rotation\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"x\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"y\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"z\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"w\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"scale\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"x\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"y\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"z\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    \"children\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"id\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">6ba7b810-9dad-11d1-80b4-00c04fd430c8\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"name\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">my-box\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"components\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"type\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">Transform\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"...\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> : \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">...\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"type\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">Geometry\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"definition\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"type\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">Box\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"width\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"height\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"depth\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"type\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">Material\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"definition\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"color\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"r\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"g\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"b\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } } }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"children\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: []\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"math--matrix4\">Math — Matrix4\u003C/h3>\n\u003Cp>Utilidades matemáticas para transformaciones 3D con matrices 4×4.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/math/Matrix4.ts\">Matrix4.ts\u003C/a>\u003C/p>\n\u003Ch4 id=\"matrix4-type\">\u003Ccode>Matrix4\u003C/code> (Type)\u003C/h4>\n\u003Cp>Tupla de 16 números en \u003Cstrong>column-major order\u003C/strong> (compatible con WebGL/Three.js):\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">type\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> Matrix4 \u003C/span>\u003Cspan style=\"color:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">  number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C5E478\">number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C5E478\">number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C5E478\">number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,  \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Columna 0 (Right)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">  number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C5E478\">number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C5E478\">number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C5E478\">number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,  \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Columna 1 (Up)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">  number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C5E478\">number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C5E478\">number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C5E478\">number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,  \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Columna 2 (Forward)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">  number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C5E478\">number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C5E478\">number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C5E478\">number\u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">   // Columna 3 (Position)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">];\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Cstrong>Layout de la matriz:\u003C/strong>\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>Índice:  [ 0]  [ 4]  [ 8]  [12]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         [ 1]  [ 5]  [ 9]  [13]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         [ 2]  [ 6]  [10]  [14]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         [ 3]  [ 7]  [11]  [15]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Significado:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         [Rx]  [Ux]  [Fx]  [Tx]     R = Right (eje X)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         [Ry]  [Uy]  [Fy]  [Ty]     U = Up (eje Y)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         [Rz]  [Uz]  [Fz]  [Tz]     F = Forward (eje Z)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         [ 0]  [ 0]  [ 0]  [ 1]     T = Translation\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"matrix4identity\">\u003Ccode>Matrix4Identity\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Matrix4Identity\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\"> Readonly\u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">Matrix4\u003C/span>\u003Cspan style=\"color:#C792EA\">>\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F78C6C\">  1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F78C6C\">  0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F78C6C\">  0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F78C6C\">  0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">];\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"composematrix\">\u003Ccode>composeMatrix\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> composeMatrix\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">position\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Vec3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">quaternion\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Quat\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">scale\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Vec3\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Matrix4\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Construye una matriz de transformación a partir de posición, rotación (quaternion) y escala. Esta es la función usada internamente por \u003Ccode>Transform.updateLocalMatrix()\u003C/code>.\u003C/p>\n\u003Ch4 id=\"multiplymatrices\">\u003Ccode>multiplyMatrices\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> multiplyMatrices\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">a\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Matrix4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">b\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Matrix4\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Matrix4\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Multiplica dos matrices 4×4. El orden es importante: \u003Ccode>result = A × B\u003C/code> (A se aplica después de B).\u003C/p>\n\u003Cp>Usada internamente por \u003Ccode>Node.updateWorldMatrix()\u003C/code>:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">worldMatrix \u003C/span>\u003Cspan style=\"color:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> multiplyMatrices\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(parent\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">worldMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">localMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"math--boundingbox\">Math — BoundingBox\u003C/h3>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/math/BoundingBox.ts\">BoundingBox.ts\u003C/a>\u003C/p>\n\u003Cp>Utilidades para calcular y manipular Axis-Aligned Bounding Boxes (AABB).\u003C/p>\n\u003Ch4 id=\"tipos\">Tipos\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">interface\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> AABB {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  min\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; y\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; z\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  max\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; y\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; z\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"funciones\">Funciones\u003C/h4>\n\u003Ch5 id=\"computelocalaabb\">\u003Ccode>computeLocalAABB\u003C/code>\u003C/h5>\n\u003Cp>Calcula el AABB local basado en la definición de la geometría.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> computeLocalAABB\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">def\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> GeometryDef\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> AABB\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>Soporta \u003Ccode>Box\u003C/code>, \u003Ccode>Sphere\u003C/code> y \u003Ccode>Path2D\u003C/code>.\u003C/li>\n\u003Cli>Para \u003Ccode>Path2D\u003C/code>, calcula el bounding box exacto de los puntos de control.\u003C/li>\n\u003C/ul>\n\u003Ch5 id=\"transformaabb\">\u003Ccode>transformAABB\u003C/code>\u003C/h5>\n\u003Cp>Transforma un AABB local al espacio de mundo usando una matriz de transformación.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> transformAABB\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">localAABB\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> AABB\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">matrix\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Matrix4\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> AABB\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch5 id=\"pointinaabb\">\u003Ccode>pointInAABB\u003C/code>\u003C/h5>\n\u003Cp>Verifica si un punto está dentro de un AABB.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> pointInAABB\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">point\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; y\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; z\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">aabb\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> AABB\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> boolean\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"oroyarenderer-three\">\u003Ccode>@oroya/renderer-three\u003C/code>\u003C/h2>\n\u003Ch3 id=\"threerenderer\">\u003Ccode>ThreeRenderer\u003C/code>\u003C/h3>\n\u003Cp>Renderer WebGL basado en Three.js.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/renderer-three/src/ThreeRenderer.ts\">ThreeRenderer.ts\u003C/a>\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">classDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    class ThreeRenderer {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        -renderer: THREE.WebGLRenderer\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        -scene: THREE.Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        -activeCamera: THREE.Camera | null\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        -oroyaScene: OroyaScene | null\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        -nodeMap: Map~string, THREE.Object3D~\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +constructor(options: ThreeRendererOptions)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +mount(scene: OroyaScene): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +render(): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +enableInteraction(): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +disableInteraction(): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +dispose(): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    class ThreeRendererOptions {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +canvas: HTMLCanvasElement\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +width: number\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +height: number\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +dpr?: number\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"threerendereroptions\">\u003Ccode>ThreeRendererOptions\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>canvas\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>HTMLCanvasElement\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>El elemento canvas donde se renderiza\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>width\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Ancho del viewport en píxeles\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>height\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Alto del viewport en píxeles\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dpr\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>window.devicePixelRatio\u003C/code>\u003C/td>\u003Ctd>Device pixel ratio para HiDPI\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"métodos-3\">Métodos\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Método\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>mount(scene)\u003C/code>\u003C/td>\u003Ctd>Conecta una \u003Ccode>Scene\u003C/code> de Oroya. Reconstruye internamente los objetos Three.js, busca la primera cámara, y agrega luces ambientales. Puede llamarse múltiples veces\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>render()\u003C/code>\u003C/td>\u003Ctd>Actualiza las matrices del mundo, sincroniza las posiciones de los objetos Three.js con el scene graph de Oroya, y dibuja el frame. Debe llamarse en un \u003Ccode>requestAnimationFrame\u003C/code> loop\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>enableInteraction()\u003C/code>\u003C/td>\u003Ctd>Activa el sistema de interactividad (raycasting, listeners DOM). Debe llamarse después de \u003Ccode>mount()\u003C/code>.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>disableInteraction()\u003C/code>\u003C/td>\u003Ctd>Desactiva el sistema de interactividad y remueve listeners.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dispose()\u003C/code>\u003C/td>\u003Ctd>Libera los recursos del WebGLRenderer y limpia listeners de interacción.\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"traducción-de-componentes\">Traducción de componentes\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Oroya Component\u003C/th>\u003Cth>Three.js Object\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Node\u003C/code> sin geometría ni cámara\u003C/td>\u003Ctd>\u003Ccode>THREE.Group\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Node\u003C/code> con \u003Ccode>Geometry\u003C/code> (Box)\u003C/td>\u003Ctd>\u003Ccode>THREE.Mesh\u003C/code> + \u003Ccode>THREE.BoxGeometry\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Node\u003C/code> con \u003Ccode>Geometry\u003C/code> (Sphere)\u003C/td>\u003Ctd>\u003Ccode>THREE.Mesh\u003C/code> + \u003Ccode>THREE.SphereGeometry\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Node\u003C/code> con \u003Ccode>Camera\u003C/code> (Perspective)\u003C/td>\u003Ctd>\u003Ccode>THREE.PerspectiveCamera\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code> con \u003Ccode>color\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>THREE.MeshStandardMaterial\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code> con \u003Ccode>opacity &#x3C; 1\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>THREE.MeshStandardMaterial({ transparent: true })\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Sin \u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>THREE.MeshStandardMaterial({ color: 0xcccccc })\u003C/code> (gris por defecto)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"iluminación-automática\">Iluminación automática\u003C/h4>\n\u003Cp>Al montar una escena, el renderer agrega automáticamente:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Luz\u003C/th>\u003Cth>Configuración\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>AmbientLight\u003C/code>\u003C/td>\u003Ctd>Color: blanco, Intensidad: 0.5\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>DirectionalLight\u003C/code>\u003C/td>\u003Ctd>Color: blanco, Intensidad: 1.5, Posición: \u003Ccode>(2, 5, 3)\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"ejemplo-2\">Ejemplo\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerHeight\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  dpr\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\"> // Retina display\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // ... mutate scene ...\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">animate\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Cleanup\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">dispose\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"oroyarenderer-svg\">\u003Ccode>@oroya/renderer-svg\u003C/code>\u003C/h2>\n\u003Ch3 id=\"rendertosvg\">\u003Ccode>renderToSVG\u003C/code>\u003C/h3>\n\u003Cp>Función pura que genera un string SVG a partir de una escena.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/renderer-svg/src/renderSVG.ts\">renderSVG.ts\u003C/a>\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">options\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> SvgRenderOptions\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"svgrenderoptions\">\u003Ccode>SvgRenderOptions\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>width\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Ancho del SVG en píxeles\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>height\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Alto del SVG en píxeles\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>viewBox\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"0 0 {width} {height}\"\u003C/code>\u003C/td>\u003Ctd>viewBox SVG personalizado\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"rendertosvgelement\">\u003Ccode>renderToSVGElement\u003C/code>\u003C/h3>\n\u003Cp>Genera un elemento SVG del DOM (\u003Ccode>SVGSVGElement\u003C/code>) con event listeners para interactividad.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/renderer-svg/src/renderSVG.ts\">renderSVG.ts\u003C/a>\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVGElement\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D7DBE0\">  scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D7DBE0\">  options\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> SvgElementRenderOptions\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { svg\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> SVGSVGElement\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">dispose\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> ()\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"svgelementrenderoptions\">\u003Ccode>SvgElementRenderOptions\u003C/code>\u003C/h4>\n\u003Cp>Extiende \u003Ccode>SvgRenderOptions\u003C/code> con:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>container\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>HTMLElement\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(opcional)\u003C/em> Elemento padre donde se adjuntará el SVG automáticamente\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"retorno\">Retorno\u003C/h4>\n\u003Cp>Retorna un objeto con:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode>svg\u003C/code>: El elemento DOM SVG creado.\u003C/li>\n\u003Cli>\u003Ccode>dispose()\u003C/code>: Función para limpiar event listeners y remover el elemento del DOM.\u003C/li>\n\u003C/ul>\n\u003Ch4 id=\"ejemplo-3\">Ejemplo\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> dispose\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVGElement\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 800\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 600\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  container\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">body\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Más tarde...\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">dispose\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"comportamiento\">Comportamiento\u003C/h4>\n\u003Col>\n\u003Cli>Llama a \u003Ccode>scene.updateWorldMatrices()\u003C/code> para sincronizar transforms.\u003C/li>\n\u003Cli>Recorre recursivamente el árbol de nodos generando \u003Ccode>&#x3C;g>\u003C/code> para la jerarquía.\u003C/li>\n\u003Cli>Geometrías soportadas: \u003Ccode>Path2D\u003C/code> → \u003Ccode>&#x3C;path>\u003C/code>, \u003Ccode>Box\u003C/code> → \u003Ccode>&#x3C;rect>\u003C/code>, \u003Ccode>Sphere\u003C/code> → \u003Ccode>&#x3C;circle>\u003C/code>, \u003Ccode>Text\u003C/code> → \u003Ccode>&#x3C;text>\u003C/code>.\u003C/li>\n\u003Cli>Si el nodo tiene un \u003Ccode>Material\u003C/code>, aplica \u003Ccode>fill\u003C/code>, \u003Ccode>stroke\u003C/code>, \u003Ccode>stroke-width\u003C/code>, \u003Ccode>opacity\u003C/code>, \u003Ccode>fillGradient\u003C/code> y \u003Ccode>strokeGradient\u003C/code>.\u003C/li>\n\u003Cli>Los gradientes generan un bloque \u003Ccode>&#x3C;defs>\u003C/code> al inicio del SVG con \u003Ccode>&#x3C;linearGradient>\u003C/code> / \u003Ccode>&#x3C;radialGradient>\u003C/code>.\u003C/li>\n\u003Cli>El \u003Ccode>localMatrix\u003C/code> de cada nodo se aplica como \u003Ccode>transform=\"matrix(a,b,c,d,e,f)\"\u003C/code>.\u003C/li>\n\u003Cli>Los colores se convierten de RGB normalizado (0–1) a \u003Ccode>rgb(R, G, B)\u003C/code> con valores 0–255.\u003C/li>\n\u003C/ol>\n\u003Ch4 id=\"ejemplo-4\">Ejemplo\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-svg\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> svg\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 800\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 600\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  viewBox\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">0 0 800 600\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Insertar en el DOM\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">body\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHTML\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> svg;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// O guardar como archivo en Node.js\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { writeFileSync } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">fs\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">writeFileSync\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">output.svg\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, svg);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Ventaja clave:\u003C/strong> Esta función es \u003Cstrong>pura\u003C/strong> y no requiere DOM. Funciona en Node.js para server-side rendering.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"oroyaloader-gltf\">\u003Ccode>@oroya/loader-gltf\u003C/code>\u003C/h2>\n\u003Ch3 id=\"loadgltf\">\u003Ccode>loadGLTF\u003C/code>\u003C/h3>\n\u003Cp>Carga un archivo glTF/GLB y lo traduce al scene graph de Oroya.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/loader-gltf/src/loadGLTF.ts\">loadGLTF.ts\u003C/a>\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">async\u003C/span>\u003Cspan style=\"color:#C792EA\"> function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> loadGLTF\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">url\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Promise\u003C/span>\u003Cspan style=\"color:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B\">Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Parámetro\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>url\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>URL del archivo .gltf o .glb\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"traducción-simplificada--v03\">Traducción (simplificada — v0.3)\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>glTF Element\u003C/th>\u003Cth>Oroya Node\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>THREE.Object3D\u003C/code> (cualquiera)\u003C/td>\u003Ctd>\u003Ccode>Node\u003C/code> con posición/rotación/escala del objeto\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>THREE.Mesh\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node\u003C/code> + \u003Ccode>createBox(1,1,1)\u003C/code> (placeholder) + \u003Ccode>Material\u003C/code> con color si disponible\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Hijos del objeto\u003C/td>\u003Ctd>Nodos hijos recursivos\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>⚠️ Limitaciones actuales:\u003C/strong> La geometría real del glTF no se traduce — se usa un box placeholder. Los materiales solo extraen el color base. Las animaciones no se importan. Esto se mejorará en v0.4.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"mapa-completo-de-tipos\">Mapa completo de tipos\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Tipos base\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Vec3[\"Vec3 {x, y, z}\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Quat[\"Quat {x, y, z, w}\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        ColorRGB[\"ColorRGB {r, g, b}\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        M4[\"Matrix4 (16-tuple)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Geometry types\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        GD[\"GeometryDef (union)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        GD --> BGD[\"BoxGeometryDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        GD --> SGD[\"SphereGeometryDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        GD --> PGD[\"Path2DGeometryDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        PGD --> P2DC[\"Path2DCommand\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Material types\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        MatD[\"MaterialDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        MatD -.-> ColorRGB\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Camera types\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        CD[\"CameraDef (union)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        CD --> PCD[\"PerspectiveCameraDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        CD --> OCD[\"OrthographicCameraDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Animation types\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        AD[\"SvgAnimationDef (union)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        AD --> SAD[\"SvgAnimateDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        AD --> SATD[\"SvgAnimateTransformDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Filter types\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        FD[\"SvgFilterDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        FD --> FE[\"SvgFilterEffect (union)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        FE --> BL[\"SvgBlurEffect\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        FE --> DS[\"SvgDropShadowEffect\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        CPD[\"SvgClipPathDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        MKD[\"SvgMaskDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Enums\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        CT[\"ComponentType\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        GP[\"GeometryPrimitive\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        CamT[\"CameraType\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Serialization\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        SScene[\"SerializableScene\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        SNode[\"SerializableNode\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        SComp[\"SerializableComponent\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        SScene --> SNode\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        SNode --> SComp\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        SNode -->|\"children\"| SNode\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"tabla-resumen-de-todos-los-exports\">Tabla resumen de todos los exports\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Export\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Categoría\u003C/th>\u003Cth>Paquete\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Scene\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Scene graph\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Node\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Scene graph\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Component\u003C/code>\u003C/td>\u003Ctd>abstract class\u003C/td>\u003Ctd>ECS\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>ComponentType\u003C/code>\u003C/td>\u003Ctd>enum\u003C/td>\u003Ctd>ECS\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Vec3\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Quat\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Geometry\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>GeometryPrimitive\u003C/code>\u003C/td>\u003Ctd>enum\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>BoxGeometryDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SphereGeometryDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Path2DGeometryDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Path2DCommand\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>GeometryDef\u003C/code>\u003C/td>\u003Ctd>type alias\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>ColorRGB\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>MaterialDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>CameraType\u003C/code>\u003C/td>\u003Ctd>enum\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>PerspectiveCameraDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>CameraDef\u003C/code>\u003C/td>\u003Ctd>type alias\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>OrthographicCameraDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Interactive\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Animation\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgAnimateDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgAnimateTransformDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgAnimationDef\u003C/code>\u003C/td>\u003Ctd>type alias\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgFilterDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgFilterEffect\u003C/code>\u003C/td>\u003Ctd>type alias\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgBlurEffect\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgDropShadowEffect\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgClipPathDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgMaskDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>createBox\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Factory\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>createSphere\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Factory\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>createPath2D\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Factory\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>serialize\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Serialization\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>deserialize\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Serialization\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Matrix4\u003C/code>\u003C/td>\u003Ctd>type alias\u003C/td>\u003Ctd>Math\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Matrix4Identity\u003C/code>\u003C/td>\u003Ctd>constant\u003C/td>\u003Ctd>Math\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>composeMatrix\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Math\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>multiplyMatrices\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Math\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>ThreeRenderer\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Rendering\u003C/td>\u003Ctd>\u003Ccode>@oroya/renderer-three\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>renderToSVG\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Rendering\u003C/td>\u003Ctd>\u003Ccode>@oroya/renderer-svg\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>renderToSVGElement\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Rendering\u003C/td>\u003Ctd>\u003Ccode>@oroya/renderer-svg\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>TextGeometryDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>GradientDef\u003C/code>\u003C/td>\u003Ctd>type alias\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>LinearGradientDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>RadialGradientDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>GradientStop\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>createText\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Factory\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>loadGLTF\u003C/code>\u003C/td>\u003Ctd>async function\u003C/td>\u003Ctd>Loading\u003C/td>\u003Ctd>\u003Ccode>@oroya/loader-gltf\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>",{"headings":24,"localImagePaths":363,"remoteImagePaths":364,"frontmatter":365,"imagePaths":366},[25,27,31,34,38,41,44,47,51,54,57,60,63,65,67,69,72,75,78,81,83,85,88,91,94,96,99,102,105,108,111,114,117,120,123,125,128,131,134,137,141,144,147,150,153,156,159,162,165,168,171,173,176,179,182,185,188,191,194,197,199,202,205,208,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,266,268,271,274,277,280,283,286,289,292,295,298,301,304,307,310,313,315,318,321,323,326,329,332,335,338,341,343,346,348,351,354,357,360],{"depth":26,"slug":11,"text":14},1,{"depth":28,"slug":29,"text":30},2,"tabla-de-contenidos","Tabla de contenidos",{"depth":28,"slug":32,"text":33},"visión-general-de-la-arquitectura","Visión general de la arquitectura",{"depth":35,"slug":36,"text":37},3,"flujo-de-datos","Flujo de datos",{"depth":28,"slug":39,"text":40},"oroyacore","@oroya/core",{"depth":35,"slug":42,"text":43},"exports-completos","Exports completos",{"depth":35,"slug":45,"text":46},"scene","Scene",{"depth":48,"slug":49,"text":50},4,"constructor","Constructor",{"depth":48,"slug":52,"text":53},"propiedades","Propiedades",{"depth":48,"slug":55,"text":56},"métodos","Métodos",{"depth":48,"slug":58,"text":59},"ejemplo","Ejemplo",{"depth":35,"slug":61,"text":62},"node","Node",{"depth":48,"slug":64,"text":50},"constructor-1",{"depth":48,"slug":66,"text":53},"propiedades-1",{"depth":48,"slug":68,"text":56},"métodos-1",{"depth":48,"slug":70,"text":71},"ejemplo-completo","Ejemplo completo",{"depth":35,"slug":73,"text":74},"component-base-abstracta","Component (base abstracta)",{"depth":48,"slug":76,"text":77},"componenttype-enum","ComponentType (Enum)",{"depth":35,"slug":79,"text":80},"transform-componente","Transform (Componente)",{"depth":48,"slug":82,"text":53},"propiedades-2",{"depth":48,"slug":84,"text":56},"métodos-2",{"depth":48,"slug":86,"text":87},"pipeline-de-transformación","Pipeline de transformación",{"depth":48,"slug":89,"text":90},"guía-rápida-de-quaterniones","Guía rápida de quaterniones",{"depth":35,"slug":92,"text":93},"geometry-componente","Geometry (Componente)",{"depth":48,"slug":95,"text":50},"constructor-2",{"depth":48,"slug":97,"text":98},"geometryprimitive-enum","GeometryPrimitive (Enum)",{"depth":48,"slug":100,"text":101},"geometrydef-union-type","GeometryDef (Union type)",{"depth":48,"slug":103,"text":104},"boxgeometrydef","BoxGeometryDef",{"depth":48,"slug":106,"text":107},"spheregeometrydef","SphereGeometryDef",{"depth":48,"slug":109,"text":110},"path2dgeometrydef","Path2DGeometryDef",{"depth":48,"slug":112,"text":113},"path2dcommand","Path2DCommand",{"depth":48,"slug":115,"text":116},"textgeometrydef","TextGeometryDef",{"depth":48,"slug":118,"text":119},"compatibilidad-con-renderers","Compatibilidad con renderers",{"depth":35,"slug":121,"text":122},"material-componente","Material (Componente)",{"depth":48,"slug":124,"text":50},"constructor-3",{"depth":48,"slug":126,"text":127},"colorrgb","ColorRGB",{"depth":48,"slug":129,"text":130},"materialdef","MaterialDef",{"depth":48,"slug":132,"text":133},"gradientdef-union-type","GradientDef (Union type)",{"depth":48,"slug":135,"text":136},"svg-filters-svgfilterdef","SVG Filters (SvgFilterDef)",{"depth":138,"slug":139,"text":140},5,"svgblureffect","SvgBlurEffect",{"depth":138,"slug":142,"text":143},"svgdropshadoweffect","SvgDropShadowEffect",{"depth":48,"slug":145,"text":146},"svgclippathdef","SvgClipPathDef",{"depth":48,"slug":148,"text":149},"svgmaskdef","SvgMaskDef",{"depth":48,"slug":151,"text":152},"ejemplo-filtros-clip-path-y-máscara","Ejemplo: Filtros, clip-path y máscara",{"depth":48,"slug":154,"text":155},"lineargradientdef","LinearGradientDef",{"depth":48,"slug":157,"text":158},"radialgradientdef","RadialGradientDef",{"depth":48,"slug":160,"text":161},"gradientstop","GradientStop",{"depth":48,"slug":163,"text":164},"ejemplo-material-para-ambos-renderers","Ejemplo: Material para ambos renderers",{"depth":48,"slug":166,"text":167},"cómo-lo-interpretan-los-renderers","Cómo lo interpretan los renderers",{"depth":35,"slug":169,"text":170},"camera-componente","Camera (Componente)",{"depth":48,"slug":172,"text":50},"constructor-4",{"depth":48,"slug":174,"text":175},"cameratype-enum","CameraType (Enum)",{"depth":48,"slug":177,"text":178},"perspectivecameradef","PerspectiveCameraDef",{"depth":48,"slug":180,"text":181},"diagrama-de-frustum-perspectiva","Diagrama de frustum (perspectiva)",{"depth":48,"slug":183,"text":184},"ejemplo-de-uso","Ejemplo de uso",{"depth":48,"slug":186,"text":187},"orthographiccameradef","OrthographicCameraDef",{"depth":48,"slug":189,"text":190},"ejemplo-cámara-ortográfica-para-svg","Ejemplo: Cámara ortográfica para SVG",{"depth":35,"slug":192,"text":193},"interactive-componente","Interactive (componente)",{"depth":35,"slug":195,"text":196},"animation-componente","Animation (componente)",{"depth":48,"slug":198,"text":50},"constructor-5",{"depth":48,"slug":200,"text":201},"svganimationdef-union-type","SvgAnimationDef (Union type)",{"depth":48,"slug":203,"text":204},"svganimatedef","SvgAnimateDef",{"depth":48,"slug":206,"text":207},"svganimatetransformdef","SvgAnimateTransformDef",{"depth":48,"slug":209,"text":59},"ejemplo-1",{"depth":48,"slug":211,"text":212},"definición","Definición",{"depth":48,"slug":214,"text":215},"uso","Uso",{"depth":48,"slug":217,"text":218},"integración-con-renderers","Integración con renderers",{"depth":35,"slug":220,"text":221},"eventemitter","EventEmitter",{"depth":48,"slug":223,"text":224},"api","API",{"depth":48,"slug":226,"text":227},"ejemplo-de-uso-directo","Ejemplo de uso directo",{"depth":48,"slug":229,"text":230},"uso-en-node","Uso en Node",{"depth":35,"slug":232,"text":233},"interactionevent","InteractionEvent",{"depth":48,"slug":235,"text":236},"tipos-de-eventos","Tipos de eventos",{"depth":48,"slug":238,"text":239},"interfaz","Interfaz",{"depth":48,"slug":241,"text":242},"event-bubbling","Event Bubbling",{"depth":48,"slug":244,"text":245},"factory","Factory",{"depth":35,"slug":247,"text":248},"factory-functions","Factory Functions",{"depth":48,"slug":250,"text":251},"createbox","createBox",{"depth":48,"slug":253,"text":254},"createsphere","createSphere",{"depth":48,"slug":256,"text":257},"createpath2d","createPath2D",{"depth":48,"slug":259,"text":260},"createtext","createText",{"depth":35,"slug":262,"text":263},"serialización","Serialización",{"depth":48,"slug":265,"text":265},"serialize",{"depth":48,"slug":267,"text":267},"deserialize",{"depth":48,"slug":269,"text":270},"formato-del-json","Formato del JSON",{"depth":35,"slug":272,"text":273},"math--matrix4","Math — Matrix4",{"depth":48,"slug":275,"text":276},"matrix4-type","Matrix4 (Type)",{"depth":48,"slug":278,"text":279},"matrix4identity","Matrix4Identity",{"depth":48,"slug":281,"text":282},"composematrix","composeMatrix",{"depth":48,"slug":284,"text":285},"multiplymatrices","multiplyMatrices",{"depth":35,"slug":287,"text":288},"math--boundingbox","Math — BoundingBox",{"depth":48,"slug":290,"text":291},"tipos","Tipos",{"depth":48,"slug":293,"text":294},"funciones","Funciones",{"depth":138,"slug":296,"text":297},"computelocalaabb","computeLocalAABB",{"depth":138,"slug":299,"text":300},"transformaabb","transformAABB",{"depth":138,"slug":302,"text":303},"pointinaabb","pointInAABB",{"depth":28,"slug":305,"text":306},"oroyarenderer-three","@oroya/renderer-three",{"depth":35,"slug":308,"text":309},"threerenderer","ThreeRenderer",{"depth":48,"slug":311,"text":312},"threerendereroptions","ThreeRendererOptions",{"depth":48,"slug":314,"text":56},"métodos-3",{"depth":48,"slug":316,"text":317},"traducción-de-componentes","Traducción de componentes",{"depth":48,"slug":319,"text":320},"iluminación-automática","Iluminación automática",{"depth":48,"slug":322,"text":59},"ejemplo-2",{"depth":28,"slug":324,"text":325},"oroyarenderer-svg","@oroya/renderer-svg",{"depth":35,"slug":327,"text":328},"rendertosvg","renderToSVG",{"depth":48,"slug":330,"text":331},"svgrenderoptions","SvgRenderOptions",{"depth":35,"slug":333,"text":334},"rendertosvgelement","renderToSVGElement",{"depth":48,"slug":336,"text":337},"svgelementrenderoptions","SvgElementRenderOptions",{"depth":48,"slug":339,"text":340},"retorno","Retorno",{"depth":48,"slug":342,"text":59},"ejemplo-3",{"depth":48,"slug":344,"text":345},"comportamiento","Comportamiento",{"depth":48,"slug":347,"text":59},"ejemplo-4",{"depth":28,"slug":349,"text":350},"oroyaloader-gltf","@oroya/loader-gltf",{"depth":35,"slug":352,"text":353},"loadgltf","loadGLTF",{"depth":48,"slug":355,"text":356},"traducción-simplificada--v03","Traducción (simplificada — v0.3)",{"depth":28,"slug":358,"text":359},"mapa-completo-de-tipos","Mapa completo de tipos",{"depth":35,"slug":361,"text":362},"tabla-resumen-de-todos-los-exports","Tabla resumen de todos los exports",[],[],{"title":14,"description":15,"order":16,"category":17},[],"architecture",{"id":367,"data":369,"body":373,"filePath":374,"digest":375,"rendered":376},{"title":370,"description":371,"order":28,"category":372},"Architecture","Design philosophy, module boundaries, and the engine-agnostic approach","concepts","# Architecture Overview\r\n\r\nOroya Animate sigue una arquitectura desacoplada donde la representación de la escena es completamente independiente de la tecnología de renderizado.\r\n\r\n---\r\n\r\n## Principio fundamental\r\n\r\n> **\"Define once, render anywhere.\"**\r\n> — El scene graph es la única fuente de verdad. Los renderers son traductores.\r\n\r\n```mermaid\r\ngraph TD\r\n    subgraph \"Capa de entrada\"\r\n        UC[\"User Code\"]\r\n        GLTF[\"glTF / GLB Files\"]\r\n        JSON[\"JSON Serializado\"]\r\n    end\r\n\r\n    subgraph \"@oroya/core — Motor agnóstico\"\r\n        SG[\"Scene Graph\"]\r\n        N[\"Node\"]\r\n        T[\"Transform\"]\r\n        G[\"Geometry\"]\r\n        M[\"Material\"]\r\n        C[\"Camera\"]\r\n        SER[\"Serializer\"]\r\n        MATH[\"Math (Matrix4)\"]\r\n    end\r\n\r\n    subgraph \"Capa de salida\"\r\n        R3[\"@oroya/renderer-three\"]\r\n        RS[\"@oroya/renderer-svg\"]\r\n        R_FUTURE[\"Future: Canvas2D, WebGPU...\"]\r\n    end\r\n\r\n    subgraph \"Resultado\"\r\n        WEBGL[\"WebGL Canvas (píxeles)\"]\r\n        SVG[\"SVG String (vectores)\"]\r\n    end\r\n\r\n    UC -->|\"builds\"| SG\r\n    GLTF -->|\"@oroya/loader-gltf\"| SG\r\n    JSON -->|\"deserialize()\"| SG\r\n    SG -->|\"serialize()\"| JSON\r\n\r\n    SG --> N\r\n    N --> T\r\n    N --> G\r\n    N --> M\r\n    N --> C\r\n    SG --> MATH\r\n\r\n    SG -->|\"mount + render\"| R3\r\n    SG -->|\"renderToSVG()\"| RS\r\n    SG -.->|\"futuro\"| R_FUTURE\r\n\r\n    R3 --> WEBGL\r\n    RS --> SVG\r\n```\r\n\r\n---\r\n\r\n## Capas de la arquitectura\r\n\r\n| Capa | Paquete | Responsabilidad | Dependencias |\r\n|------|---------|-----------------|--------------|\r\n| **Core** | `@oroya/core` | Scene graph, componentes, transforms, serialización, math | `uuid` (única dependencia) |\r\n| **Renderer 3D** | `@oroya/renderer-three` | Traducción a Three.js WebGL | `@oroya/core`, `three` |\r\n| **Renderer SVG** | `@oroya/renderer-svg` | Generación de SVG puro | `@oroya/core` |\r\n| **Loader glTF** | `@oroya/loader-gltf` | Importación de modelos 3D | `@oroya/core`, `three` |\r\n\r\n### Grafo de dependencias\r\n\r\n```mermaid\r\ngraph BT\r\n    CORE[\"@oroya/core\"]\r\n    R3[\"@oroya/renderer-three\"]\r\n    RS[\"@oroya/renderer-svg\"]\r\n    LG[\"@oroya/loader-gltf\"]\r\n    THREE[\"three (npm)\"]\r\n    UUID[\"uuid (npm)\"]\r\n    DEMO[\"apps/demo-react\"]\r\n\r\n    CORE -->|\"depends on\"| UUID\r\n    R3 -->|\"depends on\"| CORE\r\n    R3 -->|\"depends on\"| THREE\r\n    RS -->|\"depends on\"| CORE\r\n    LG -->|\"depends on\"| CORE\r\n    LG -->|\"depends on\"| THREE\r\n    DEMO -->|\"depends on\"| CORE\r\n    DEMO -->|\"depends on\"| R3\r\n```\r\n\r\n> **Regla clave:** Las flechas de dependencia son **unidireccionales** y siempre apuntan hacia `@oroya/core`. El core **nunca** importa de los renderers ni de los loaders.\r\n\r\n---\r\n\r\n## El patrón \"Compiler\"\r\n\r\nLos renderers funcionan como **compiladores**: traducen una representación intermedia (el scene graph) a un formato de salida específico.\r\n\r\n```mermaid\r\nflowchart LR\r\n    IR[\"Scene Graph\\n(Representación intermedia)\"] -->|\"ThreeRenderer\"| OUT1[\"THREE.Scene\\nTHREE.Mesh\\nTHREE.Camera\"]\r\n    IR -->|\"renderToSVG()\"| OUT2[\"\u003Csvg>\\n  \u003Cpath/>\\n\u003C/svg>\"]\r\n    IR -.->|\"Future: WebGPU\"| OUT3[\"GPUBuffer\\nGPURenderPipeline\"]\r\n```\r\n\r\n| Concepto | Compilador clásico | Oroya Animate |\r\n|----------|-------------------|---------------|\r\n| Código fuente | Archivo `.c` | User Code (TypeScript) |\r\n| Representación intermedia | AST / IR | Scene Graph |\r\n| Backend | x86, ARM, WASM | Three.js, SVG, WebGPU |\r\n| Salida | Código máquina | Píxeles, vectores |\r\n\r\nEste patrón permite:\r\n- **Agregar backends** sin modificar el core.\r\n- **Testear sin renderer** — la lógica vive en el scene graph.\r\n- **Server-side rendering** — el SVG renderer funciona en Node.js sin DOM.\r\n\r\n---\r\n\r\n## Ciclo de vida del renderizado\r\n\r\n```mermaid\r\nsequenceDiagram\r\n    participant U as User Code\r\n    participant S as Scene\r\n    participant N as Node\r\n    participant T as Transform\r\n    participant R as Renderer\r\n\r\n    Note over U,R: FASE 1 — Preparación\r\n    U->>S: new Scene()\r\n    U->>N: new Node('box')\r\n    U->>N: addComponent(createBox(...))\r\n    U->>N: addComponent(new Material(...))\r\n    U->>S: scene.add(node)\r\n\r\n    Note over U,R: FASE 2 — Montaje\r\n    U->>R: renderer.mount(scene)\r\n    R->>S: scene.traverse(callback)\r\n    R->>R: Crear objetos del backend\r\n    R->>R: Detectar cámara activa\r\n\r\n    Note over U,R: FASE 3 — Render loop\r\n    loop requestAnimationFrame\r\n        U->>T: transform.rotation = {...}\r\n        U->>T: transform.updateLocalMatrix()\r\n        U->>R: renderer.render()\r\n        R->>S: scene.updateWorldMatrices()\r\n        S->>N: node.updateWorldMatrix(parentMatrix)\r\n        N->>T: worldMatrix = parent × local\r\n        R->>R: Sincronizar con backend\r\n        R->>R: Dibujar frame\r\n    end\r\n\r\n    Note over U,R: FASE 4 — Cleanup\r\n    U->>R: renderer.dispose()\r\n```\r\n\r\n### Detalle de cada fase\r\n\r\n| Fase | Acción | Quién la ejecuta |\r\n|------|--------|-------------------|\r\n| **1. Preparación** | Construir el scene graph con nodos, componentes y relaciones padre-hijo | User code |\r\n| **2. Montaje** | `renderer.mount(scene)` — recorrer el árbol y crear los objetos del backend | Renderer |\r\n| **3. Render loop** | Mutar transforms → `updateLocalMatrix()` → `renderer.render()` → propagar matrices → dibujar | User code + Renderer |\r\n| **4. Cleanup** | `renderer.dispose()` — liberar recursos GPU/memoria | User code |\r\n\r\n---\r\n\r\n## Modelo Entity-Component System (ECS) simplificado\r\n\r\nOroya usa un **ECS ligero** donde:\r\n\r\n| ECS Term | Oroya Equivalent | Descripción |\r\n|----------|-----------------|-------------|\r\n| **Entity** | `Node` | Contenedor con ID y jerarquía |\r\n| **Component** | `Transform`, `Geometry`, `Material`, `Camera` | Datos adjuntos a un nodo |\r\n| **System** | Renderers, `updateWorldMatrices()` | Lógica que procesa componentes |\r\n\r\n```mermaid\r\ngraph LR\r\n    subgraph \"Entity (Node)\"\r\n        N[\"Node 'player'\"]\r\n    end\r\n\r\n    subgraph \"Components\"\r\n        T[\"Transform\\nposition, rotation, scale\"]\r\n        G[\"Geometry\\nBox 1×2×1\"]\r\n        M[\"Material\\ncolor: blue\"]\r\n    end\r\n\r\n    subgraph \"Systems\"\r\n        S1[\"updateWorldMatrices()\\nPropaga matrices\"]\r\n        S2[\"ThreeRenderer.render()\\nDibuja con Three.js\"]\r\n    end\r\n\r\n    N --> T\r\n    N --> G\r\n    N --> M\r\n    T --> S1\r\n    G --> S2\r\n    M --> S2\r\n```\r\n\r\n### Reglas del ECS\r\n\r\n1. **Un componente por tipo por nodo** — No se pueden tener dos `Geometry` en un mismo nodo.\r\n2. **Transform es automático** — Todos los nodos lo tienen desde su creación.\r\n3. **Los componentes son datos** — No contienen lógica de renderizado.\r\n4. **Los renderers son los \"systems\"** — Leen componentes y producen salida visual.\r\n\r\n---\r\n\r\n## Extensibilidad\r\n\r\n### Agregar un nuevo renderer\r\n\r\n```typescript\r\nclass MyRenderer {\r\n  private scene: Scene | null = null;\r\n\r\n  mount(scene: Scene): void {\r\n    this.scene = scene;\r\n    scene.traverse(node => {\r\n      const geo = node.getComponent\u003CGeometry>(ComponentType.Geometry);\r\n      const mat = node.getComponent\u003CMaterial>(ComponentType.Material);\r\n      // Crear objetos del motor/framework destino\r\n    });\r\n  }\r\n\r\n  render(): void {\r\n    if (!this.scene) return;\r\n    this.scene.updateWorldMatrices();\r\n    this.scene.traverse(node => {\r\n      // Leer node.transform.worldMatrix\r\n      // Sincronizar con los objetos del motor\r\n    });\r\n    // Dibujar frame\r\n  }\r\n\r\n  dispose(): void { /* liberar recursos */ }\r\n}\r\n```\r\n\r\n### Agregar un nuevo loader\r\n\r\n```typescript\r\nasync function loadMyFormat(url: string): Promise\u003CScene> {\r\n  const data = await fetch(url).then(r => r.json());\r\n  const scene = new Scene();\r\n\r\n  for (const obj of data.objects) {\r\n    const node = new Node(obj.name);\r\n    node.addComponent(createBox(obj.width, obj.height, obj.depth));\r\n    node.addComponent(new Material({ color: obj.color }));\r\n    node.transform.position = obj.position;\r\n    scene.add(node);\r\n  }\r\n\r\n  return scene;\r\n}\r\n```\r\n\r\n---\r\n\r\n## Estructura del monorepo\r\n\r\n```\r\noroya-animate/\r\n├── packages/\r\n│   ├── core/               ← Motor agnóstico (Scene, Node, Components, Math)\r\n│   ├── renderer-three/      ← Backend Three.js WebGL\r\n│   ├── renderer-svg/        ← Backend SVG puro\r\n│   └── loader-gltf/         ← Importador de modelos glTF\r\n├── apps/\r\n│   └── demo-react/          ← Aplicación demo (Vite + React)\r\n├── docs/                    ← Documentación del proyecto\r\n└── package.json             ← Root del monorepo (pnpm workspaces)\r\n```\r\n\r\n---\r\n\r\n## Decisiones de diseño\r\n\r\n| Decisión | Alternativa rechazada | Razón |\r\n|----------|----------------------|-------|\r\n| Scene graph como IR | API directa sobre Three.js | Permite múltiples backends y testing sin GPU |\r\n| ECS simplificado (1 comp/tipo) | ECS completo con Systems | Menor complejidad para el alcance actual |\r\n| Quaterniones para rotación | Ángulos de Euler | Sin gimbal lock, interpolación natural (SLERP) |\r\n| Matrices column-major | Matrices row-major | Compatible con WebGL y Three.js |\r\n| `uuid` para IDs de nodo | IDs incrementales | IDs únicos globalmente, necesario para serialización |\r\n| `tsup` como bundler | `tsc`, `rollup`, `esbuild` | DTS + CJS + ESM en un solo tool con configuración mínima |\r\n| pnpm workspaces | npm/yarn workspaces | Más rápido, deduplicación estricta, mejor para monorepos |","src/content/docs/architecture.md","5ac10e9c224f0ddc",{"html":377,"metadata":378},"\u003Ch1 id=\"architecture-overview\">Architecture Overview\u003C/h1>\n\u003Cp>Oroya Animate sigue una arquitectura desacoplada donde la representación de la escena es completamente independiente de la tecnología de renderizado.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"principio-fundamental\">Principio fundamental\u003C/h2>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>“Define once, render anywhere.”\u003C/strong>\r\n— El scene graph es la única fuente de verdad. Los renderers son traductores.\u003C/p>\n\u003C/blockquote>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Capa de entrada\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        UC[\"User Code\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        GLTF[\"glTF / GLB Files\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        JSON[\"JSON Serializado\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"@oroya/core — Motor agnóstico\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        SG[\"Scene Graph\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        N[\"Node\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        T[\"Transform\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        G[\"Geometry\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        M[\"Material\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        C[\"Camera\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        SER[\"Serializer\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        MATH[\"Math (Matrix4)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Capa de salida\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        R3[\"@oroya/renderer-three\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        RS[\"@oroya/renderer-svg\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        R_FUTURE[\"Future: Canvas2D, WebGPU...\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Resultado\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        WEBGL[\"WebGL Canvas (píxeles)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        SVG[\"SVG String (vectores)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    UC -->|\"builds\"| SG\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    GLTF -->|\"@oroya/loader-gltf\"| SG\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    JSON -->|\"deserialize()\"| SG\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SG -->|\"serialize()\"| JSON\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SG --> N\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    N --> T\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    N --> G\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    N --> M\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    N --> C\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SG --> MATH\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SG -->|\"mount + render\"| R3\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SG -->|\"renderToSVG()\"| RS\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SG -.->|\"futuro\"| R_FUTURE\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    R3 --> WEBGL\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    RS --> SVG\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"capas-de-la-arquitectura\">Capas de la arquitectura\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Capa\u003C/th>\u003Cth>Paquete\u003C/th>\u003Cth>Responsabilidad\u003C/th>\u003Cth>Dependencias\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>Core\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003Ctd>Scene graph, componentes, transforms, serialización, math\u003C/td>\u003Ctd>\u003Ccode>uuid\u003C/code> (única dependencia)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Renderer 3D\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>@oroya/renderer-three\u003C/code>\u003C/td>\u003Ctd>Traducción a Three.js WebGL\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>, \u003Ccode>three\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Renderer SVG\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>@oroya/renderer-svg\u003C/code>\u003C/td>\u003Ctd>Generación de SVG puro\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Loader glTF\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>@oroya/loader-gltf\u003C/code>\u003C/td>\u003Ctd>Importación de modelos 3D\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>, \u003Ccode>three\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"grafo-de-dependencias\">Grafo de dependencias\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph BT\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    CORE[\"@oroya/core\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    R3[\"@oroya/renderer-three\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    RS[\"@oroya/renderer-svg\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    LG[\"@oroya/loader-gltf\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    THREE[\"three (npm)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    UUID[\"uuid (npm)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    DEMO[\"apps/demo-react\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    CORE -->|\"depends on\"| UUID\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    R3 -->|\"depends on\"| CORE\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    R3 -->|\"depends on\"| THREE\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    RS -->|\"depends on\"| CORE\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    LG -->|\"depends on\"| CORE\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    LG -->|\"depends on\"| THREE\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    DEMO -->|\"depends on\"| CORE\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    DEMO -->|\"depends on\"| R3\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Regla clave:\u003C/strong> Las flechas de dependencia son \u003Cstrong>unidireccionales\u003C/strong> y siempre apuntan hacia \u003Ccode>@oroya/core\u003C/code>. El core \u003Cstrong>nunca\u003C/strong> importa de los renderers ni de los loaders.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"el-patrón-compiler\">El patrón “Compiler”\u003C/h2>\n\u003Cp>Los renderers funcionan como \u003Cstrong>compiladores\u003C/strong>: traducen una representación intermedia (el scene graph) a un formato de salida específico.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">flowchart LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    IR[\"Scene Graph\\n(Representación intermedia)\"] -->|\"ThreeRenderer\"| OUT1[\"THREE.Scene\\nTHREE.Mesh\\nTHREE.Camera\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    IR -->|\"renderToSVG()\"| OUT2[\"&#x3C;svg>\\n  &#x3C;path/>\\n&#x3C;/svg>\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    IR -.->|\"Future: WebGPU\"| OUT3[\"GPUBuffer\\nGPURenderPipeline\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Concepto\u003C/th>\u003Cth>Compilador clásico\u003C/th>\u003Cth>Oroya Animate\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Código fuente\u003C/td>\u003Ctd>Archivo \u003Ccode>.c\u003C/code>\u003C/td>\u003Ctd>User Code (TypeScript)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Representación intermedia\u003C/td>\u003Ctd>AST / IR\u003C/td>\u003Ctd>Scene Graph\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Backend\u003C/td>\u003Ctd>x86, ARM, WASM\u003C/td>\u003Ctd>Three.js, SVG, WebGPU\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Salida\u003C/td>\u003Ctd>Código máquina\u003C/td>\u003Ctd>Píxeles, vectores\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>Este patrón permite:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Agregar backends\u003C/strong> sin modificar el core.\u003C/li>\n\u003Cli>\u003Cstrong>Testear sin renderer\u003C/strong> — la lógica vive en el scene graph.\u003C/li>\n\u003Cli>\u003Cstrong>Server-side rendering\u003C/strong> — el SVG renderer funciona en Node.js sin DOM.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"ciclo-de-vida-del-renderizado\">Ciclo de vida del renderizado\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sequenceDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant U as User Code\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant S as Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant N as Node\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant T as Transform\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant R as Renderer\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Note over U,R: FASE 1 — Preparación\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    U->>S: new Scene()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    U->>N: new Node('box')\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    U->>N: addComponent(createBox(...))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    U->>N: addComponent(new Material(...))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    U->>S: scene.add(node)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Note over U,R: FASE 2 — Montaje\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    U->>R: renderer.mount(scene)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    R->>S: scene.traverse(callback)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    R->>R: Crear objetos del backend\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    R->>R: Detectar cámara activa\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Note over U,R: FASE 3 — Render loop\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    loop requestAnimationFrame\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        U->>T: transform.rotation = {...}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        U->>T: transform.updateLocalMatrix()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        U->>R: renderer.render()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        R->>S: scene.updateWorldMatrices()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        S->>N: node.updateWorldMatrix(parentMatrix)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        N->>T: worldMatrix = parent × local\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        R->>R: Sincronizar con backend\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        R->>R: Dibujar frame\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Note over U,R: FASE 4 — Cleanup\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    U->>R: renderer.dispose()\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"detalle-de-cada-fase\">Detalle de cada fase\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Fase\u003C/th>\u003Cth>Acción\u003C/th>\u003Cth>Quién la ejecuta\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>1. Preparación\u003C/strong>\u003C/td>\u003Ctd>Construir el scene graph con nodos, componentes y relaciones padre-hijo\u003C/td>\u003Ctd>User code\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>2. Montaje\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>renderer.mount(scene)\u003C/code> — recorrer el árbol y crear los objetos del backend\u003C/td>\u003Ctd>Renderer\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>3. Render loop\u003C/strong>\u003C/td>\u003Ctd>Mutar transforms → \u003Ccode>updateLocalMatrix()\u003C/code> → \u003Ccode>renderer.render()\u003C/code> → propagar matrices → dibujar\u003C/td>\u003Ctd>User code + Renderer\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>4. Cleanup\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>renderer.dispose()\u003C/code> — liberar recursos GPU/memoria\u003C/td>\u003Ctd>User code\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"modelo-entity-component-system-ecs-simplificado\">Modelo Entity-Component System (ECS) simplificado\u003C/h2>\n\u003Cp>Oroya usa un \u003Cstrong>ECS ligero\u003C/strong> donde:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>ECS Term\u003C/th>\u003Cth>Oroya Equivalent\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>Entity\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>Node\u003C/code>\u003C/td>\u003Ctd>Contenedor con ID y jerarquía\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Component\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>Transform\u003C/code>, \u003Ccode>Geometry\u003C/code>, \u003Ccode>Material\u003C/code>, \u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>Datos adjuntos a un nodo\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>System\u003C/strong>\u003C/td>\u003Ctd>Renderers, \u003Ccode>updateWorldMatrices()\u003C/code>\u003C/td>\u003Ctd>Lógica que procesa componentes\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Entity (Node)\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        N[\"Node 'player'\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Components\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        T[\"Transform\\nposition, rotation, scale\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        G[\"Geometry\\nBox 1×2×1\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        M[\"Material\\ncolor: blue\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Systems\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        S1[\"updateWorldMatrices()\\nPropaga matrices\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        S2[\"ThreeRenderer.render()\\nDibuja con Three.js\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    N --> T\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    N --> G\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    N --> M\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    T --> S1\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    G --> S2\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    M --> S2\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"reglas-del-ecs\">Reglas del ECS\u003C/h3>\n\u003Col>\n\u003Cli>\u003Cstrong>Un componente por tipo por nodo\u003C/strong> — No se pueden tener dos \u003Ccode>Geometry\u003C/code> en un mismo nodo.\u003C/li>\n\u003Cli>\u003Cstrong>Transform es automático\u003C/strong> — Todos los nodos lo tienen desde su creación.\u003C/li>\n\u003Cli>\u003Cstrong>Los componentes son datos\u003C/strong> — No contienen lógica de renderizado.\u003C/li>\n\u003Cli>\u003Cstrong>Los renderers son los “systems”\u003C/strong> — Leen componentes y producen salida visual.\u003C/li>\n\u003C/ol>\n\u003Chr>\n\u003Ch2 id=\"extensibilidad\">Extensibilidad\u003C/h2>\n\u003Ch3 id=\"agregar-un-nuevo-renderer\">Agregar un nuevo renderer\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">class\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> MyRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  private\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> |\u003C/span>\u003Cspan style=\"color:#C5E478\"> null\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#FF5874\"> null\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  mount\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Scene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> scene;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">traverse\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">node\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF\">      const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> geo\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getComponent\u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">Geometry\u003C/span>\u003Cspan style=\"color:#C792EA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">ComponentType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">Geometry\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF\">      const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> mat\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getComponent\u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">Material\u003C/span>\u003Cspan style=\"color:#C792EA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">ComponentType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">      // Crear objetos del motor/framework destino\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  render\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">!\u003C/span>\u003Cspan style=\"color:#7FDBCA\">this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">return\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateWorldMatrices\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">traverse\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">node\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">      // Leer node.transform.worldMatrix\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">      // Sincronizar con los objetos del motor\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">    // Dibujar frame\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  dispose\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">/* liberar recursos */\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"agregar-un-nuevo-loader\">Agregar un nuevo loader\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">async\u003C/span>\u003Cspan style=\"color:#C792EA\"> function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> loadMyFormat\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">url\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Promise\u003C/span>\u003Cspan style=\"color:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B\">Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> data\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> await \u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">fetch\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">url\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">then\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0;font-style:italic\">r\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">json\u003C/span>\u003Cspan style=\"color:#D6DEEB\">());\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  for\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> obj\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> of\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> data\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">objects\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">obj\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(obj\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">width\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> obj\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">height\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> obj\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">depth\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: obj\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">color\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> obj\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(node);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  return\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> scene;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"estructura-del-monorepo\">Estructura del monorepo\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>oroya-animate/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── packages/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>│   ├── core/               ← Motor agnóstico (Scene, Node, Components, Math)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>│   ├── renderer-three/      ← Backend Three.js WebGL\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>│   ├── renderer-svg/        ← Backend SVG puro\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>│   └── loader-gltf/         ← Importador de modelos glTF\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── apps/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>│   └── demo-react/          ← Aplicación demo (Vite + React)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── docs/                    ← Documentación del proyecto\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>└── package.json             ← Root del monorepo (pnpm workspaces)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"decisiones-de-diseño\">Decisiones de diseño\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Decisión\u003C/th>\u003Cth>Alternativa rechazada\u003C/th>\u003Cth>Razón\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Scene graph como IR\u003C/td>\u003Ctd>API directa sobre Three.js\u003C/td>\u003Ctd>Permite múltiples backends y testing sin GPU\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>ECS simplificado (1 comp/tipo)\u003C/td>\u003Ctd>ECS completo con Systems\u003C/td>\u003Ctd>Menor complejidad para el alcance actual\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Quaterniones para rotación\u003C/td>\u003Ctd>Ángulos de Euler\u003C/td>\u003Ctd>Sin gimbal lock, interpolación natural (SLERP)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Matrices column-major\u003C/td>\u003Ctd>Matrices row-major\u003C/td>\u003Ctd>Compatible con WebGL y Three.js\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>uuid\u003C/code> para IDs de nodo\u003C/td>\u003Ctd>IDs incrementales\u003C/td>\u003Ctd>IDs únicos globalmente, necesario para serialización\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>tsup\u003C/code> como bundler\u003C/td>\u003Ctd>\u003Ccode>tsc\u003C/code>, \u003Ccode>rollup\u003C/code>, \u003Ccode>esbuild\u003C/code>\u003C/td>\u003Ctd>DTS + CJS + ESM en un solo tool con configuración mínima\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>pnpm workspaces\u003C/td>\u003Ctd>npm/yarn workspaces\u003C/td>\u003Ctd>Más rápido, deduplicación estricta, mejor para monorepos\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>",{"headings":379,"localImagePaths":422,"remoteImagePaths":423,"frontmatter":424,"imagePaths":425},[380,383,386,389,392,395,398,401,404,407,410,413,416,419],{"depth":26,"slug":381,"text":382},"architecture-overview","Architecture Overview",{"depth":28,"slug":384,"text":385},"principio-fundamental","Principio fundamental",{"depth":28,"slug":387,"text":388},"capas-de-la-arquitectura","Capas de la arquitectura",{"depth":35,"slug":390,"text":391},"grafo-de-dependencias","Grafo de dependencias",{"depth":28,"slug":393,"text":394},"el-patrón-compiler","El patrón “Compiler”",{"depth":28,"slug":396,"text":397},"ciclo-de-vida-del-renderizado","Ciclo de vida del renderizado",{"depth":35,"slug":399,"text":400},"detalle-de-cada-fase","Detalle de cada fase",{"depth":28,"slug":402,"text":403},"modelo-entity-component-system-ecs-simplificado","Modelo Entity-Component System (ECS) simplificado",{"depth":35,"slug":405,"text":406},"reglas-del-ecs","Reglas del ECS",{"depth":28,"slug":408,"text":409},"extensibilidad","Extensibilidad",{"depth":35,"slug":411,"text":412},"agregar-un-nuevo-renderer","Agregar un nuevo renderer",{"depth":35,"slug":414,"text":415},"agregar-un-nuevo-loader","Agregar un nuevo loader",{"depth":28,"slug":417,"text":418},"estructura-del-monorepo","Estructura del monorepo",{"depth":28,"slug":420,"text":421},"decisiones-de-diseño","Decisiones de diseño",[],[],{"title":370,"description":371,"order":28,"category":372},[],"programming-principles",{"id":426,"data":428,"body":433,"filePath":434,"digest":435,"rendered":436},{"title":429,"description":430,"order":431,"category":432},"Programming Principles","Coding conventions and design principles guiding the project",8,"development","# Principios de Programación — Oroya Animate\r\n\r\nPrincipios y convenciones que guían el desarrollo del monorepo. Nacen de lecciones aprendidas durante la evolución del proyecto.\r\n\r\n---\r\n\r\n## 1. Arquitectura\r\n\r\n### 1.1 Dependencias en una sola dirección\r\n\r\n```\r\n@oroya/core ← renderers ← loaders ← apps\r\n```\r\n\r\n- `@oroya/core` **nunca** importa de renderers, loaders ni de librerías externas de rendering (Three.js, etc.).\r\n- Los renderers solo importan de `@oroya/core`.\r\n- Las apps importan de cualquier paquete.\r\n\r\n> **Por qué:** Mantener el core desacoplado permite que funcione en cualquier entorno (browser, Node.js, WebWorkers) y que se puedan agregar nuevos renderers sin tocar el core.\r\n\r\n### 1.2 Contract-first para interfaces compartidas\r\n\r\nAntes de que un paquete downstream use una propiedad nueva, esa propiedad **debe existir primero** en la interfaz del paquete upstream.\r\n\r\n```typescript\r\n// ✅ Primero definir en @oroya/core\r\nexport interface MaterialDef {\r\n  fill?: ColorRGB;\r\n}\r\n\r\n// ✅ Luego usar en @oroya/renderer-svg\r\nconst fill = material.definition.fill;\r\n```\r\n\r\n```typescript\r\n// ❌ Nunca usar propiedades que no están en la interfaz\r\nconst fill = (material.definition as any).fill;\r\n```\r\n\r\n> **Por qué:** Evita errores de compilación silenciosos y asegura que la API del core sea la fuente de verdad.\r\n\r\n---\r\n\r\n## 2. Módulos y exports\r\n\r\n### 2.1 Barrel files obligatorios\r\n\r\nCada directorio que se importe como módulo **debe** tener un `index.ts` que re-exporte todo lo público.\r\n\r\n```\r\ncomponents/\r\n├── index.ts          ← obligatorio si se importa como '../components'\r\n├── Component.ts\r\n├── Transform.ts\r\n└── Geometry.ts\r\n```\r\n\r\n```typescript\r\n// components/index.ts\r\nexport { Component, ComponentType } from './Component';\r\nexport { Transform } from './Transform';\r\nexport { Geometry } from './Geometry';\r\n```\r\n\r\n> **Por qué:** Sin barrel file, esbuild y TypeScript no pueden resolver imports a directorios.\r\n\r\n### 2.2 Extensiones de `package.json` deben coincidir con la salida real\r\n\r\nVerificar qué archivos genera tsup **antes** de escribir `exports` en `package.json`:\r\n\r\n| `\"type\"` del package | Formato | Extensión |\r\n|---------------------|---------|-----------|\r\n| `\"module\"` | ESM | `.js` |\r\n| `\"module\"` | CJS | `.cjs` |\r\n| sin `\"type\"` | ESM | `.mjs` |\r\n| sin `\"type\"` | CJS | `.js` |\r\n\r\n```json\r\n{\r\n  \"type\": \"module\",\r\n  \"exports\": {\r\n    \".\": {\r\n      \"types\": \"./dist/index.d.ts\",\r\n      \"import\": \"./dist/index.js\",\r\n      \"require\": \"./dist/index.cjs\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n### 2.3 `types` siempre primero en `exports`\r\n\r\nLa condición `types` debe ser la **primera** en el objeto de exports. Node.js evalúa las condiciones en orden, y si `import` o `require` vienen antes, `types` nunca se alcanza.\r\n\r\n---\r\n\r\n## 3. TypeScript\r\n\r\n### 3.1 Strict mode siempre\r\n\r\nEl `tsconfig.base.json` tiene `\"strict\": true`. Nunca desactivar flags individuales de strictness. Esto incluye:\r\n\r\n- `noImplicitAny` — todo debe tener tipo explícito o inferido.\r\n- `noUnusedLocals` — no dejar imports o variables sin usar.\r\n- `noUnusedParameters` — no dejar parámetros sin usar.\r\n\r\n### 3.2 No usar `any` como escape\r\n\r\n```typescript\r\n// ❌\r\nconst data = response as any;\r\n\r\n// ✅\r\ninterface ApiResponse { ... }\r\nconst data = response as ApiResponse;\r\n```\r\n\r\nSi TypeScript no puede inferir un tipo, crear una interfaz. Si es un tipo externo, instalar `@types/*`.\r\n\r\n### 3.3 Cada paquete declara sus propias `@types/*`\r\n\r\nEn un monorepo, las dependencias de tipos **no se comparten** entre paquetes. Si `renderer-three` tiene `@types/three`, `loader-gltf` igual necesita declararlo por separado.\r\n\r\n```json\r\n// ❌ \"Ya está instalado en otro paquete\"\r\n// ✅ Declararlo explícitamente\r\n{\r\n  \"devDependencies\": {\r\n    \"@types/three\": \"^0.165.0\"\r\n  }\r\n}\r\n```\r\n\r\n### 3.4 `composite: false` para paquetes que usan tsup\r\n\r\ntsup maneja la generación de `.d.ts` con su propio worker. La opción `composite: true` (heredada del base) entra en conflicto. Cada paquete debe sobreescribirla:\r\n\r\n```json\r\n{\r\n  \"extends\": \"../../tsconfig.base.json\",\r\n  \"compilerOptions\": {\r\n    \"composite\": false\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\n## 4. Código limpio\r\n\r\n### 4.1 No dejar imports sin usar\r\n\r\nEliminar imports que no se usen. Configura tu editor para organizar imports al guardar.\r\n\r\n### 4.2 Usar escape sequences en strings\r\n\r\nNunca insertar saltos de línea literales dentro de strings con comillas simples/dobles:\r\n\r\n```typescript\r\n// ❌ Salto de línea literal rompe la compilación\r\npaths.join('\r\n    ')\r\n\r\n// ✅ Usar escape sequence\r\npaths.join('\\n    ')\r\n```\r\n\r\n### 4.3 Un componente, una responsabilidad\r\n\r\nCada `Component` en el sistema ECS debe representar **un solo aspecto** del nodo:\r\n\r\n- `Transform` → posición, rotación, escala\r\n- `Geometry` → forma geométrica\r\n- `Material` → apariencia visual\r\n- `Camera` → proyección y viewport\r\n\r\nNo mezclar datos de geometría con datos de material en un mismo componente.\r\n\r\n---\r\n\r\n## 5. Monorepo\r\n\r\n### 5.1 Siempre `pnpm build` antes de `pnpm dev`\r\n\r\nLos paquetes del workspace se resuelven a través de sus `dist/`. Si no hay build previo, el dev server falla.\r\n\r\n**Workflow recomendado:**\r\n\r\n```bash\r\npnpm build         # compilar todos los paquetes\r\npnpm dev:react     # ahora sí, iniciar la demo\r\n```\r\n\r\nPara desarrollo continuo, usar `tsup --watch` en los paquetes:\r\n\r\n```bash\r\n# Terminal 1: watch en paquetes\r\npnpm --filter \"./packages/**\" dev\r\n\r\n# Terminal 2: dev server\r\npnpm dev:react\r\n```\r\n\r\n### 5.2 Dependencias explícitas por paquete\r\n\r\nCada paquete en el workspace debe declarar **todas** sus dependencias en su propio `package.json`. No asumir que algo está disponible porque otro paquete lo tiene instalado.\r\n\r\n### 5.3 Versiones consistentes\r\n\r\nTodas las instancias de una misma dependencia en el monorepo deben usar la misma versión. Usar herramientas como [syncpack](https://jamiemason.github.io/syncpack/) para verificar esto.\r\n\r\n---\r\n\r\n## 6. Validación\r\n\r\n### 6.1 Build completo como gate de calidad\r\n\r\nAntes de hacer commit o pull request, ejecutar:\r\n\r\n```bash\r\npnpm build      # ¿compila todo?\r\npnpm test       # ¿pasan los tests?\r\npnpm typecheck  # ¿los tipos son correctos?\r\n```\r\n\r\n### 6.2 Herramientas recomendadas\r\n\r\n| Qué valida | Herramienta |\r\n|------------|-------------|\r\n| Exports de `package.json` apuntan a archivos reales | [publint](https://publint.dev/) |\r\n| Tipos se resuelven correctamente para consumidores | [arethetypeswrong](https://arethetypeswrong.github.io/) |\r\n| Imports se resuelven correctamente | `eslint-plugin-import` |\r\n| Versiones consistentes en el monorepo | `syncpack` |\r\n| Imports no usados | `noUnusedLocals` + editor auto-organize |\r\n\r\n---\r\n\r\n## Resumen rápido\r\n\r\n| Principio | Regla clave |\r\n|-----------|-------------|\r\n| Dependencias unidireccionales | Core → Renderers → Apps. Nunca al revés. |\r\n| Barrel files | Directorio importado = necesita `index.ts` |\r\n| Extensiones correctas | Verificar la salida real de tsup |\r\n| `types` primero | Siempre primera condición en `exports` |\r\n| Strict mode | Nunca usar `any` ni desactivar checks |\r\n| Tipos propios | Cada paquete declara sus `@types/*` |\r\n| Build antes de dev | `pnpm build` antes de `pnpm dev:*` |\r\n| Contract-first | Definir la interfaz antes de usarla |","src/content/docs/programming-principles.md","2ee0e571796baff9",{"html":437,"metadata":438},"\u003Ch1 id=\"principios-de-programación--oroya-animate\">Principios de Programación — Oroya Animate\u003C/h1>\n\u003Cp>Principios y convenciones que guían el desarrollo del monorepo. Nacen de lecciones aprendidas durante la evolución del proyecto.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"1-arquitectura\">1. Arquitectura\u003C/h2>\n\u003Ch3 id=\"11-dependencias-en-una-sola-dirección\">1.1 Dependencias en una sola dirección\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>@oroya/core ← renderers ← loaders ← apps\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>\u003Ccode>@oroya/core\u003C/code> \u003Cstrong>nunca\u003C/strong> importa de renderers, loaders ni de librerías externas de rendering (Three.js, etc.).\u003C/li>\n\u003Cli>Los renderers solo importan de \u003Ccode>@oroya/core\u003C/code>.\u003C/li>\n\u003Cli>Las apps importan de cualquier paquete.\u003C/li>\n\u003C/ul>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Por qué:\u003C/strong> Mantener el core desacoplado permite que funcione en cualquier entorno (browser, Node.js, WebWorkers) y que se puedan agregar nuevos renderers sin tocar el core.\u003C/p>\n\u003C/blockquote>\n\u003Ch3 id=\"12-contract-first-para-interfaces-compartidas\">1.2 Contract-first para interfaces compartidas\u003C/h3>\n\u003Cp>Antes de que un paquete downstream use una propiedad nueva, esa propiedad \u003Cstrong>debe existir primero\u003C/strong> en la interfaz del paquete upstream.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ✅ Primero definir en @oroya/core\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#C792EA\"> interface\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> MaterialDef {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fill\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> ColorRGB\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ✅ Luego usar en @oroya/renderer-svg\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> fill\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> material\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">definition\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">fill\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ❌ Nunca usar propiedades que no están en la interfaz\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> fill\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">material\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">definition\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\">any\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">fill\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Por qué:\u003C/strong> Evita errores de compilación silenciosos y asegura que la API del core sea la fuente de verdad.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"2-módulos-y-exports\">2. Módulos y exports\u003C/h2>\n\u003Ch3 id=\"21-barrel-files-obligatorios\">2.1 Barrel files obligatorios\u003C/h3>\n\u003Cp>Cada directorio que se importe como módulo \u003Cstrong>debe\u003C/strong> tener un \u003Ccode>index.ts\u003C/code> que re-exporte todo lo público.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>components/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── index.ts          ← obligatorio si se importa como '../components'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── Component.ts\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── Transform.ts\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>└── Geometry.ts\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// components/index.ts\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Component, ComponentType } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./Component\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Transform } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./Transform\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Geometry } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">./Geometry\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Por qué:\u003C/strong> Sin barrel file, esbuild y TypeScript no pueden resolver imports a directorios.\u003C/p>\n\u003C/blockquote>\n\u003Ch3 id=\"22-extensiones-de-packagejson-deben-coincidir-con-la-salida-real\">2.2 Extensiones de \u003Ccode>package.json\u003C/code> deben coincidir con la salida real\u003C/h3>\n\u003Cp>Verificar qué archivos genera tsup \u003Cstrong>antes\u003C/strong> de escribir \u003Ccode>exports\u003C/code> en \u003Ccode>package.json\u003C/code>:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>\u003Ccode>\"type\"\u003C/code> del package\u003C/th>\u003Cth>Formato\u003C/th>\u003Cth>Extensión\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>\"module\"\u003C/code>\u003C/td>\u003Ctd>ESM\u003C/td>\u003Ctd>\u003Ccode>.js\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>\"module\"\u003C/code>\u003C/td>\u003Ctd>CJS\u003C/td>\u003Ctd>\u003Ccode>.cjs\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>sin \u003Ccode>\"type\"\u003C/code>\u003C/td>\u003Ctd>ESM\u003C/td>\u003Ctd>\u003Ccode>.mjs\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>sin \u003Ccode>\"type\"\u003C/code>\u003C/td>\u003Ctd>CJS\u003C/td>\u003Ctd>\u003Ccode>.js\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  \"type\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">module\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  \"exports\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    \".\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">      \"types\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">./dist/index.d.ts\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">      \"import\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">./dist/index.js\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">      \"require\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">./dist/index.cjs\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"23-types-siempre-primero-en-exports\">2.3 \u003Ccode>types\u003C/code> siempre primero en \u003Ccode>exports\u003C/code>\u003C/h3>\n\u003Cp>La condición \u003Ccode>types\u003C/code> debe ser la \u003Cstrong>primera\u003C/strong> en el objeto de exports. Node.js evalúa las condiciones en orden, y si \u003Ccode>import\u003C/code> o \u003Ccode>require\u003C/code> vienen antes, \u003Ccode>types\u003C/code> nunca se alcanza.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"3-typescript\">3. TypeScript\u003C/h2>\n\u003Ch3 id=\"31-strict-mode-siempre\">3.1 Strict mode siempre\u003C/h3>\n\u003Cp>El \u003Ccode>tsconfig.base.json\u003C/code> tiene \u003Ccode>\"strict\": true\u003C/code>. Nunca desactivar flags individuales de strictness. Esto incluye:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode>noImplicitAny\u003C/code> — todo debe tener tipo explícito o inferido.\u003C/li>\n\u003Cli>\u003Ccode>noUnusedLocals\u003C/code> — no dejar imports o variables sin usar.\u003C/li>\n\u003Cli>\u003Ccode>noUnusedParameters\u003C/code> — no dejar parámetros sin usar.\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"32-no-usar-any-como-escape\">3.2 No usar \u003Ccode>any\u003C/code> como escape\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ❌\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> data\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> response\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\">any\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ✅\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">interface\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> ApiResponse { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">...\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> data\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> response\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">ApiResponse\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Si TypeScript no puede inferir un tipo, crear una interfaz. Si es un tipo externo, instalar \u003Ccode>@types/*\u003C/code>.\u003C/p>\n\u003Ch3 id=\"33-cada-paquete-declara-sus-propias-types\">3.3 Cada paquete declara sus propias \u003Ccode>@types/*\u003C/code>\u003C/h3>\n\u003Cp>En un monorepo, las dependencias de tipos \u003Cstrong>no se comparten\u003C/strong> entre paquetes. Si \u003Ccode>renderer-three\u003C/code> tiene \u003Ccode>@types/three\u003C/code>, \u003Ccode>loader-gltf\u003C/code> igual necesita declararlo por separado.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ❌ \"Ya está instalado en otro paquete\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ✅ Declararlo explícitamente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  \"devDependencies\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    \"@types/three\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">^0.165.0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"34-composite-false-para-paquetes-que-usan-tsup\">3.4 \u003Ccode>composite: false\u003C/code> para paquetes que usan tsup\u003C/h3>\n\u003Cp>tsup maneja la generación de \u003Ccode>.d.ts\u003C/code> con su propio worker. La opción \u003Ccode>composite: true\u003C/code> (heredada del base) entra en conflicto. Cada paquete debe sobreescribirla:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  \"extends\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">../../tsconfig.base.json\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  \"compilerOptions\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    \"composite\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF5874\">false\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"4-código-limpio\">4. Código limpio\u003C/h2>\n\u003Ch3 id=\"41-no-dejar-imports-sin-usar\">4.1 No dejar imports sin usar\u003C/h3>\n\u003Cp>Eliminar imports que no se usen. Configura tu editor para organizar imports al guardar.\u003C/p>\n\u003Ch3 id=\"42-usar-escape-sequences-en-strings\">4.2 Usar escape sequences en strings\u003C/h3>\n\u003Cp>Nunca insertar saltos de línea literales dentro de strings con comillas simples/dobles:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ❌ Salto de línea literal rompe la compilación\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">paths\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">join\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D9F5DD\">    '\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ✅ Usar escape sequence\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">paths\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">join\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#F78C6C\">\\n\u003C/span>\u003Cspan style=\"color:#D9F5DD\">    '\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"43-un-componente-una-responsabilidad\">4.3 Un componente, una responsabilidad\u003C/h3>\n\u003Cp>Cada \u003Ccode>Component\u003C/code> en el sistema ECS debe representar \u003Cstrong>un solo aspecto\u003C/strong> del nodo:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode>Transform\u003C/code> → posición, rotación, escala\u003C/li>\n\u003Cli>\u003Ccode>Geometry\u003C/code> → forma geométrica\u003C/li>\n\u003Cli>\u003Ccode>Material\u003C/code> → apariencia visual\u003C/li>\n\u003Cli>\u003Ccode>Camera\u003C/code> → proyección y viewport\u003C/li>\n\u003C/ul>\n\u003Cp>No mezclar datos de geometría con datos de material en un mismo componente.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"5-monorepo\">5. Monorepo\u003C/h2>\n\u003Ch3 id=\"51-siempre-pnpm-build-antes-de-pnpm-dev\">5.1 Siempre \u003Ccode>pnpm build\u003C/code> antes de \u003Ccode>pnpm dev\u003C/code>\u003C/h3>\n\u003Cp>Los paquetes del workspace se resuelven a través de sus \u003Ccode>dist/\u003C/code>. Si no hay build previo, el dev server falla.\u003C/p>\n\u003Cp>\u003Cstrong>Workflow recomendado:\u003C/strong>\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> build\u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">         # compilar todos los paquetes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> dev:react\u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">     # ahora sí, iniciar la demo\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Para desarrollo continuo, usar \u003Ccode>tsup --watch\u003C/code> en los paquetes:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\"># Terminal 1: watch en paquetes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#82AAFF\"> --filter\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> \"\u003C/span>\u003Cspan style=\"color:#ECC48D\">./packages/**\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\"> dev\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\"># Terminal 2: dev server\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> dev:react\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"52-dependencias-explícitas-por-paquete\">5.2 Dependencias explícitas por paquete\u003C/h3>\n\u003Cp>Cada paquete en el workspace debe declarar \u003Cstrong>todas\u003C/strong> sus dependencias en su propio \u003Ccode>package.json\u003C/code>. No asumir que algo está disponible porque otro paquete lo tiene instalado.\u003C/p>\n\u003Ch3 id=\"53-versiones-consistentes\">5.3 Versiones consistentes\u003C/h3>\n\u003Cp>Todas las instancias de una misma dependencia en el monorepo deben usar la misma versión. Usar herramientas como \u003Ca href=\"https://jamiemason.github.io/syncpack/\">syncpack\u003C/a> para verificar esto.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"6-validación\">6. Validación\u003C/h2>\n\u003Ch3 id=\"61-build-completo-como-gate-de-calidad\">6.1 Build completo como gate de calidad\u003C/h3>\n\u003Cp>Antes de hacer commit o pull request, ejecutar:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> build\u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">      # ¿compila todo?\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> test\u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">       # ¿pasan los tests?\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> typecheck\u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">  # ¿los tipos son correctos?\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"62-herramientas-recomendadas\">6.2 Herramientas recomendadas\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Qué valida\u003C/th>\u003Cth>Herramienta\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Exports de \u003Ccode>package.json\u003C/code> apuntan a archivos reales\u003C/td>\u003Ctd>\u003Ca href=\"https://publint.dev/\">publint\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Tipos se resuelven correctamente para consumidores\u003C/td>\u003Ctd>\u003Ca href=\"https://arethetypeswrong.github.io/\">arethetypeswrong\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Imports se resuelven correctamente\u003C/td>\u003Ctd>\u003Ccode>eslint-plugin-import\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Versiones consistentes en el monorepo\u003C/td>\u003Ctd>\u003Ccode>syncpack\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Imports no usados\u003C/td>\u003Ctd>\u003Ccode>noUnusedLocals\u003C/code> + editor auto-organize\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"resumen-rápido\">Resumen rápido\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Principio\u003C/th>\u003Cth>Regla clave\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Dependencias unidireccionales\u003C/td>\u003Ctd>Core → Renderers → Apps. Nunca al revés.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Barrel files\u003C/td>\u003Ctd>Directorio importado = necesita \u003Ccode>index.ts\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Extensiones correctas\u003C/td>\u003Ctd>Verificar la salida real de tsup\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>types\u003C/code> primero\u003C/td>\u003Ctd>Siempre primera condición en \u003Ccode>exports\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Strict mode\u003C/td>\u003Ctd>Nunca usar \u003Ccode>any\u003C/code> ni desactivar checks\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Tipos propios\u003C/td>\u003Ctd>Cada paquete declara sus \u003Ccode>@types/*\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Build antes de dev\u003C/td>\u003Ctd>\u003Ccode>pnpm build\u003C/code> antes de \u003Ccode>pnpm dev:*\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Contract-first\u003C/td>\u003Ctd>Definir la interfaz antes de usarla\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>",{"headings":439,"localImagePaths":515,"remoteImagePaths":516,"frontmatter":517,"imagePaths":518},[440,443,446,449,452,455,458,461,464,467,470,473,476,479,482,485,488,491,494,497,500,503,506,509,512],{"depth":26,"slug":441,"text":442},"principios-de-programación--oroya-animate","Principios de Programación — Oroya Animate",{"depth":28,"slug":444,"text":445},"1-arquitectura","1. Arquitectura",{"depth":35,"slug":447,"text":448},"11-dependencias-en-una-sola-dirección","1.1 Dependencias en una sola dirección",{"depth":35,"slug":450,"text":451},"12-contract-first-para-interfaces-compartidas","1.2 Contract-first para interfaces compartidas",{"depth":28,"slug":453,"text":454},"2-módulos-y-exports","2. Módulos y exports",{"depth":35,"slug":456,"text":457},"21-barrel-files-obligatorios","2.1 Barrel files obligatorios",{"depth":35,"slug":459,"text":460},"22-extensiones-de-packagejson-deben-coincidir-con-la-salida-real","2.2 Extensiones de package.json deben coincidir con la salida real",{"depth":35,"slug":462,"text":463},"23-types-siempre-primero-en-exports","2.3 types siempre primero en exports",{"depth":28,"slug":465,"text":466},"3-typescript","3. TypeScript",{"depth":35,"slug":468,"text":469},"31-strict-mode-siempre","3.1 Strict mode siempre",{"depth":35,"slug":471,"text":472},"32-no-usar-any-como-escape","3.2 No usar any como escape",{"depth":35,"slug":474,"text":475},"33-cada-paquete-declara-sus-propias-types","3.3 Cada paquete declara sus propias @types/*",{"depth":35,"slug":477,"text":478},"34-composite-false-para-paquetes-que-usan-tsup","3.4 composite: false para paquetes que usan tsup",{"depth":28,"slug":480,"text":481},"4-código-limpio","4. Código limpio",{"depth":35,"slug":483,"text":484},"41-no-dejar-imports-sin-usar","4.1 No dejar imports sin usar",{"depth":35,"slug":486,"text":487},"42-usar-escape-sequences-en-strings","4.2 Usar escape sequences en strings",{"depth":35,"slug":489,"text":490},"43-un-componente-una-responsabilidad","4.3 Un componente, una responsabilidad",{"depth":28,"slug":492,"text":493},"5-monorepo","5. Monorepo",{"depth":35,"slug":495,"text":496},"51-siempre-pnpm-build-antes-de-pnpm-dev","5.1 Siempre pnpm build antes de pnpm dev",{"depth":35,"slug":498,"text":499},"52-dependencias-explícitas-por-paquete","5.2 Dependencias explícitas por paquete",{"depth":35,"slug":501,"text":502},"53-versiones-consistentes","5.3 Versiones consistentes",{"depth":28,"slug":504,"text":505},"6-validación","6. Validación",{"depth":35,"slug":507,"text":508},"61-build-completo-como-gate-de-calidad","6.1 Build completo como gate de calidad",{"depth":35,"slug":510,"text":511},"62-herramientas-recomendadas","6.2 Herramientas recomendadas",{"depth":28,"slug":513,"text":514},"resumen-rápido","Resumen rápido",[],[],{"title":429,"description":430,"order":431,"category":432},[],"renderers",{"id":519,"data":521,"body":524,"filePath":525,"digest":526,"rendered":527},{"title":522,"description":523,"order":48,"category":372},"Renderers","Three.js WebGL and SVG renderer implementations in depth","# Renderers\r\n\r\nLos renderers de Oroya Animate son **traductores** que convierten el scene graph agnóstico en salida visual. El core no conoce a los renderers — cada uno lee el scene graph y produce su propia representación.\r\n\r\n---\r\n\r\n## Visión general\r\n\r\n```mermaid\r\ngraph TD\r\n    SG[\"Scene Graph\\n(@oroya/core)\"]\r\n    R3[\"ThreeRenderer\\n(@oroya/renderer-three)\"]\r\n    RS[\"renderToSVG\\n(@oroya/renderer-svg)\"]\r\n    WEBGL[\"WebGL Canvas (3D)\"]\r\n    SVG[\"SVG String (2D)\"]\r\n\r\n    SG -->|\"mount + render\"| R3\r\n    SG -->|\"function call\"| RS\r\n    R3 --> WEBGL\r\n    RS --> SVG\r\n```\r\n\r\n| Aspecto | `ThreeRenderer` | `renderToSVG` |\r\n|---------|----------------|---------------|\r\n| **Paradigma** | Instancia con estado (class) | Función pura (stateless) |\r\n| **Output** | Dibuja en un `\u003Ccanvas>` | Retorna un `string` SVG |\r\n| **Requiere DOM** | ✅ Sí (`HTMLCanvasElement`) | ❌ No (funciona en Node.js) |\r\n| **3D** | ✅ Perspectiva, luces, sombras | ❌ Solo 2D |\r\n| **Vectorial** | ❌ Rasterizado | ✅ Infinitamente escalable |\r\n\r\n---\r\n\r\n## `@oroya/renderer-three` — Three.js (WebGL)\r\n\r\nEl renderer principal para visualización 3D interactiva.\r\n\r\n### Setup\r\n\r\n```typescript\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n  dpr: window.devicePixelRatio,  // opcional\r\n});\r\n```\r\n\r\n### Opciones del constructor\r\n\r\n| Opción | Tipo | Default | Descripción |\r\n|--------|------|---------|-------------|\r\n| `canvas` | `HTMLCanvasElement` | *(requerido)* | Elemento canvas destino |\r\n| `width` | `number` | *(requerido)* | Ancho del viewport |\r\n| `height` | `number` | *(requerido)* | Alto del viewport |\r\n| `dpr` | `number` | `window.devicePixelRatio` | Device pixel ratio (HiDPI) |\r\n\r\n### Métodos\r\n\r\n| Método | Descripción |\r\n|--------|-------------|\r\n| `mount(scene)` | Conecta una escena. Reconstruye la escena Three.js, detecta la cámara activa, agrega luces |\r\n| `render()` | Sincroniza transforms, propaga matrices y dibuja un frame |\r\n| `dispose()` | Libera recursos WebGL |\r\n\r\n### Ciclo de vida\r\n\r\n```mermaid\r\nsequenceDiagram\r\n    participant U as User Code\r\n    participant TR as ThreeRenderer\r\n    participant TS as THREE.Scene\r\n\r\n    Note over U,TS: Montaje\r\n    U->>TR: mount(scene)\r\n    TR->>TS: clear + add lights\r\n    TR->>TR: traverse → create Mesh/Group/Camera per node\r\n    TR->>TR: Set first Camera as activeCamera\r\n\r\n    Note over U,TS: Render loop\r\n    loop requestAnimationFrame\r\n        U->>TR: render()\r\n        TR->>TR: updateWorldMatrices()\r\n        TR->>TS: sync worldMatrix → Three.js objects\r\n        TR->>TR: webglRenderer.render()\r\n    end\r\n```\r\n\r\n### Traducción de componentes\r\n\r\n| Nodo Oroya | Objeto Three.js |\r\n|------------|-----------------|\r\n| Node sin Geometry ni Camera | `THREE.Group` |\r\n| Node + `Geometry(Box)` | `THREE.Mesh(BoxGeometry)` |\r\n| Node + `Geometry(Sphere)` | `THREE.Mesh(SphereGeometry)` |\r\n| Node + `Geometry(Path2D)` | ❌ Ignorado |\r\n| Node + `Camera(Perspective)` | `THREE.PerspectiveCamera` |\r\n| `Material` con `color` | `MeshStandardMaterial({ color })` |\r\n| `Material` con `opacity \u003C 1` | `MeshStandardMaterial({ transparent: true })` |\r\n| Sin `Material` | `MeshStandardMaterial({ color: 0xcccccc })` |\r\n\r\n### Iluminación automática\r\n\r\n| Tipo | Config |\r\n|------|--------|\r\n| `AmbientLight` | Blanco, intensidad `0.5` |\r\n| `DirectionalLight` | Blanco, intensidad `1.5`, posición `(2, 5, 3)` |\r\n\r\n### Resolución de cámaras\r\n\r\n```mermaid\r\nflowchart TD\r\n    START[\"mount(scene)\"] --> TRAVERSE[\"Traverse scene graph\"]\r\n    TRAVERSE --> FOUND{\"¿Encontró Camera?\"}\r\n    FOUND -->|\"Sí\"| USE[\"Usar primera como activa\"]\r\n    FOUND -->|\"No\"| FALLBACK[\"Fallback: PerspectiveCamera, FOV 75, z=5\"]\r\n```\r\n\r\n### Ejemplo completo\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst scene = new Scene();\r\n\r\nconst cam = new Node('cam');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Perspective, fov: 75,\r\n  aspect: window.innerWidth / window.innerHeight, near: 0.1, far: 1000,\r\n}));\r\ncam.transform.position.z = 5;\r\nscene.add(cam);\r\n\r\nconst box = new Node('box');\r\nbox.addComponent(createBox(1, 1, 1));\r\nbox.addComponent(new Material({ color: { r: 0.2, g: 0.6, b: 1.0 } }));\r\nscene.add(box);\r\n\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth, height: window.innerHeight,\r\n});\r\nrenderer.mount(scene);\r\n\r\nfunction loop() {\r\n  box.transform.rotation.y = performance.now() * 0.001;\r\n  box.transform.updateLocalMatrix();\r\n  renderer.render();\r\n  requestAnimationFrame(loop);\r\n}\r\nrequestAnimationFrame(loop);\r\n```\r\n\r\n---\r\n\r\n## `@oroya/renderer-svg` — SVG (2D)\r\n\r\nRenderer ligero que genera markup SVG. Ideal para arte generativo, exportación vectorial y server-side rendering.\r\n\r\n### `renderToSVG` — String puro (server-safe)\r\n\r\nFunción pura y stateless que retorna un string SVG. Funciona en Node.js sin DOM.\r\n\r\n```typescript\r\nimport { renderToSVG } from '@oroya/renderer-svg';\r\n\r\nconst svg: string = renderToSVG(scene, { width: 400, height: 300 });\r\n```\r\n\r\n#### Opciones (`SvgRenderOptions`)\r\n\r\n| Opción | Tipo | Default | Descripción |\r\n|--------|------|---------|-------------|\r\n| `width` | `number` | *(requerido)* | Ancho del SVG |\r\n| `height` | `number` | *(requerido)* | Alto del SVG |\r\n| `viewBox` | `string` | `\"0 0 {width} {height}\"` | viewBox personalizado |\r\n\r\n### `renderToSVGElement` — DOM interactivo\r\n\r\nCrea un `SVGSVGElement` real con event delegation. Los nodos con componente `Interactive` reciben listeners de pointer/click/wheel.\r\n\r\n```typescript\r\nimport { renderToSVGElement } from '@oroya/renderer-svg';\r\n\r\nconst { svg, dispose } = renderToSVGElement(scene, {\r\n  width: 800,\r\n  height: 600,\r\n  container: document.getElementById('app')!,\r\n});\r\n\r\n// Cuando ya no se necesite:\r\ndispose(); // Limpia listeners y remueve el SVG del DOM\r\n```\r\n\r\n#### Opciones (`SvgElementRenderOptions`)\r\n\r\nExtiende `SvgRenderOptions` con:\r\n\r\n| Opción | Tipo | Descripción |\r\n|--------|------|-------------|\r\n| `container` | `HTMLElement` | *(opcional)* Elemento padre donde se adjunta el SVG automáticamente |\r\n\r\n#### Retorno\r\n\r\n| Campo | Tipo | Descripción |\r\n|-------|------|-------------|\r\n| `svg` | `SVGSVGElement` | El elemento SVG creado |\r\n| `dispose` | `() => void` | Limpia event listeners y remueve el SVG del DOM |\r\n\r\n#### Eventos interactivos soportados\r\n\r\n| Evento DOM | `InteractionEventType` |\r\n|-----------|------------------------|\r\n| `click` | `Click` |\r\n| `pointerdown` | `PointerDown` |\r\n| `pointerup` | `PointerUp` |\r\n| `pointermove` | `PointerMove` |\r\n| `pointerenter` | `PointerEnter` |\r\n| `pointerleave` | `PointerLeave` |\r\n| `wheel` | `Wheel` |\r\n\r\n### Pipeline\r\n\r\n```mermaid\r\nflowchart TD\r\n    START[\"renderToSVG / renderToSVGElement\"] --> UPDATE[\"scene.updateWorldMatrices()\"]\r\n    UPDATE --> WALK[\"Recorrer árbol recursivamente\"]\r\n    WALK --> GEO{\"¿Geometry?\"}\r\n    GEO -->|\"Path2D\"| PATH[\"→ path\"]\r\n    GEO -->|\"Box\"| RECT[\"→ rect\"]\r\n    GEO -->|\"Sphere\"| CIRCLE[\"→ circle\"]\r\n    GEO -->|\"Text\"| TEXT[\"→ text\"]\r\n    GEO -->|\"Ninguno\"| GROUP[\"Solo g si tiene hijos\"]\r\n    PATH & RECT & CIRCLE & TEXT --> MAT{\"¿Material?\"}\r\n    MAT -->|\"fill/stroke\"| STYLE[\"fill + stroke + opacity\"]\r\n    MAT -->|\"fillGradient\"| GRAD[\"url(#gradient-id) + defs\"]\r\n    MAT -->|\"filter/clip/mask\"| FILT[\"url(#filter-id) + defs\"]\r\n    MAT -->|\"Ninguno\"| NONE[\"fill='none'\"]\r\n    STYLE & GRAD & FILT & NONE --> ANIM{\"¿Animation?\"}\r\n    ANIM -->|\"Sí\"| ANIMC[\"animate / animateTransform hijos\"]\r\n    ANIM -->|\"No\"| NOANIM[\"Sin animación\"]\r\n    ANIMC & NOANIM --> TRANSFORM{\"¿Transform ≠ identity?\"}\r\n    TRANSFORM -->|\"Sí\"| MATRIX[\"g transform='matrix(a,b,c,d,e,f)'\"]\r\n    TRANSFORM -->|\"No\"| DIRECT[\"Elemento directo\"]\r\n    MATRIX & DIRECT --> CHILDREN{\"¿Hijos?\"}\r\n    CHILDREN -->|\"Sí\"| NEST[\"Anidar en g\"]\r\n    CHILDREN -->|\"No\"| LEAF[\"Nodo hoja\"]\r\n```\r\n\r\n### Soporte de geometrías\r\n\r\n| Geometría | Elemento SVG generado |\r\n|-----------|----------------------|\r\n| `Path2D` | `\u003Cpath d=\"...\">` |\r\n| `Box` | `\u003Crect>` (width × height, depth ignorado) |\r\n| `Sphere` | `\u003Ccircle>` (radio) |\r\n| `Text` | `\u003Ctext>` con font-size, font-family, font-weight, text-anchor, dominant-baseline |\r\n\r\n### Propiedades del material para SVG\r\n\r\n| Campo | Tipo | Efecto SVG | Si ausente |\r\n|-------|------|-----------|------------|\r\n| `fill` | `ColorRGB` | `fill=\"rgb(R,G,B)\"` | `fill=\"none\"` |\r\n| `stroke` | `ColorRGB` | `stroke=\"rgb(R,G,B)\"` | Sin stroke |\r\n| `strokeWidth` | `number` | `stroke-width=\"N\"` | `1` |\r\n| `opacity` | `number` | `opacity=\"N\"` | Sin atributo (opaco) |\r\n| `fillGradient` | `GradientDef` | `fill=\"url(#id)\"` + `\u003Cdefs>` | Usa `fill` normal |\r\n| `strokeGradient` | `GradientDef` | `stroke=\"url(#id)\"` + `\u003Cdefs>` | Usa `stroke` normal |\r\n| `filter` | `SvgFilterDef` | `filter=\"url(#id)\"` + `\u003Cfilter>` en `\u003Cdefs>` | Sin filtro |\r\n| `clipPath` | `SvgClipPathDef` | `clip-path=\"url(#id)\"` + `\u003CclipPath>` en `\u003Cdefs>` | Sin recorte |\r\n| `mask` | `SvgMaskDef` | `mask=\"url(#id)\"` + `\u003Cmask>` en `\u003Cdefs>` | Sin máscara |\r\n\r\n### Transforms y jerarquía\r\n\r\nEl renderer SVG aplica el `localMatrix` de cada nodo como atributo `transform=\"matrix(a,b,c,d,e,f)\"` y genera `\u003Cg>` para representar la jerarquía padre-hijo del scene graph.\r\n\r\n```typescript\r\nconst parent = new Node('group');\r\nparent.transform.position = { x: 100, y: 50, z: 0 };\r\n\r\nconst child = new Node('square');\r\nchild.addComponent(createBox(30, 30, 0));\r\nchild.addComponent(new Material({ fill: { r: 1, g: 0, b: 0 } }));\r\n\r\nparent.add(child);\r\nscene.add(parent);\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Cg transform=\"matrix(1,0,0,1,100,50)\">\r\n  \u003Crect x=\"-15\" y=\"-15\" width=\"30\" height=\"30\" fill=\"rgb(255, 0, 0)\" />\r\n\u003C/g>\r\n```\r\n\r\n### Gradientes\r\n\r\n```typescript\r\nconst circle = new Node('sun');\r\ncircle.addComponent(createSphere(80));\r\ncircle.addComponent(new Material({\r\n  fillGradient: {\r\n    type: 'radial',\r\n    cx: 0.5, cy: 0.5, r: 0.5,\r\n    stops: [\r\n      { offset: 0, color: { r: 1, g: 1, b: 0 } },\r\n      { offset: 1, color: { r: 1, g: 0.3, b: 0 }, opacity: 0.8 },\r\n    ],\r\n  },\r\n}));\r\n```\r\n\r\nTipos de gradiente:\r\n\r\n| Tipo | Definición | Elemento SVG |\r\n|------|-----------|--------------|\r\n| `linear` | `LinearGradientDef` (x1, y1, x2, y2) | `\u003ClinearGradient>` |\r\n| `radial` | `RadialGradientDef` (cx, cy, r, fx, fy) | `\u003CradialGradient>` |\r\n\r\n### Texto\r\n\r\n```typescript\r\nconst label = new Node('title');\r\nlabel.addComponent(createText('Oroya Animate', {\r\n  fontSize: 24,\r\n  fontFamily: 'Inter',\r\n  fontWeight: 'bold',\r\n  textAnchor: 'middle',\r\n}));\r\nlabel.addComponent(new Material({ fill: { r: 0, g: 0, b: 0 } }));\r\nlabel.transform.position = { x: 200, y: 30, z: 0 };\r\nscene.add(label);\r\n```\r\n\r\n### CSS Classes y IDs semánticos\r\n\r\nCada nodo puede tener un `cssClass` y/o `cssId` que se emiten como atributos `class` e `id` en los elementos SVG generados.\r\n\r\n```typescript\r\nconst node = new Node('highlight-box');\r\nnode.addComponent(createBox(100, 60, 0));\r\nnode.addComponent(new Material({ fill: { r: 1, g: 0.9, b: 0 } }));\r\nnode.cssClass = 'highlight animated';\r\nnode.cssId = 'main-callout';\r\nscene.add(node);\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Crect id=\"main-callout\" class=\"highlight animated\" x=\"-50\" y=\"-30\" width=\"100\" height=\"60\" fill=\"rgb(255, 230, 0)\" />\r\n```\r\n\r\nCuando el nodo tiene hijos o transform, el atributo se aplica al `\u003Cg>` contenedor:\r\n```xml\r\n\u003Cg id=\"main-callout\" class=\"highlight animated\" transform=\"matrix(1,0,0,1,50,25)\">\r\n  \u003Crect x=\"-50\" y=\"-30\" width=\"100\" height=\"60\" fill=\"rgb(255, 230, 0)\" />\r\n\u003C/g>\r\n```\r\n\r\n> **Serialización:** `cssClass` y `cssId` se preservan en `serialize()` / `deserialize()`.\r\n\r\n### Cámara ortográfica y viewBox\r\n\r\nSi la escena contiene un nodo con `OrthographicCameraDef`, el renderer SVG calcula automáticamente el `viewBox` a partir del frustum de la cámara. Un `viewBox` explícito en las opciones tiene prioridad.\r\n\r\n```typescript\r\nconst cam = new Node('ortho-cam');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Orthographic,\r\n  left: -400, right: 400,\r\n  top: -300, bottom: 300,\r\n  near: 0.1, far: 1000,\r\n}));\r\nscene.add(cam);\r\n\r\n// viewBox se calcula como \"-400 -300 800 600\"\r\nconst svg = renderToSVG(scene, { width: 800, height: 600 });\r\n```\r\n\r\nLa posición de la cámara se aplica como offset al viewBox:\r\n```typescript\r\ncam.transform.position = { x: 50, y: 25, z: 0 };\r\n// viewBox se calcula como \"-350 -275 800 600\"\r\n```\r\n\r\n### SVG Filters, Clip Paths y Masks\r\n\r\nEl renderer soporta filtros SVG nativos, clip paths y máscaras a través de campos en `MaterialDef`.\r\n\r\n#### Blur\r\n\r\n```typescript\r\nconst blurred = new Node('soft');\r\nblurred.addComponent(createSphere(40));\r\nblurred.addComponent(new Material({\r\n  fill: { r: 0.5, g: 0.8, b: 1 },\r\n  filter: { effects: [{ type: 'blur', stdDeviation: 3 }] },\r\n}));\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Cdefs>\r\n  \u003Cfilter id=\"oroya-filter-0\">\r\n    \u003CfeGaussianBlur stdDeviation=\"3\" />\r\n  \u003C/filter>\r\n\u003C/defs>\r\n\u003Ccircle cx=\"0\" cy=\"0\" r=\"40\" fill=\"rgb(128, 204, 255)\" filter=\"url(#oroya-filter-0)\" />\r\n```\r\n\r\n#### Drop Shadow\r\n\r\n```typescript\r\nnew Material({\r\n  fill: { r: 1, g: 0, b: 0 },\r\n  filter: {\r\n    effects: [{\r\n      type: 'dropShadow', dx: 4, dy: 4,\r\n      stdDeviation: 2, floodColor: '#333', floodOpacity: 0.6,\r\n    }],\r\n  },\r\n});\r\n```\r\n\r\n#### Clip Path\r\n\r\n```typescript\r\nnew Material({\r\n  fill: { r: 0, g: 1, b: 0 },\r\n  clipPath: {\r\n    path: [\r\n      { command: 'M', args: [0, 0] },\r\n      { command: 'L', args: [100, 0] },\r\n      { command: 'L', args: [50, 100] },\r\n      { command: 'Z', args: [] },\r\n    ],\r\n  },\r\n});\r\n```\r\n\r\n#### Mask\r\n\r\n```typescript\r\nnew Material({\r\n  fill: { r: 0, g: 0, b: 1 },\r\n  mask: {\r\n    path: [\r\n      { command: 'M', args: [0, 0] },\r\n      { command: 'L', args: [80, 0] },\r\n      { command: 'L', args: [80, 80] },\r\n      { command: 'Z', args: [] },\r\n    ],\r\n    fill: 'white',\r\n    opacity: 0.8,\r\n  },\r\n});\r\n```\r\n\r\n### SVG Animaciones nativas\r\n\r\nEl componente `Animation` permite agregar animaciones SVG declarativas (`\u003Canimate>` y `\u003CanimateTransform>`) que se ejecutan en el navegador sin JavaScript.\r\n\r\n```typescript\r\nimport { Animation } from '@oroya/core';\r\n\r\nconst circle = new Node('pulse');\r\ncircle.addComponent(createSphere(30));\r\ncircle.addComponent(new Material({ fill: { r: 1, g: 0, b: 0 } }));\r\ncircle.addComponent(new Animation([\r\n  {\r\n    type: 'animate',\r\n    attributeName: 'opacity',\r\n    values: '1;0.3;1',\r\n    dur: '2s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n]));\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Ccircle cx=\"0\" cy=\"0\" r=\"30\" fill=\"rgb(255, 0, 0)\">\r\n  \u003Canimate attributeName=\"opacity\" values=\"1;0.3;1\" dur=\"2s\" repeatCount=\"indefinite\" />\r\n\u003C/circle>\r\n```\r\n\r\nAnimaciones de transformación:\r\n```typescript\r\nnew Animation([\r\n  {\r\n    type: 'animateTransform',\r\n    transformType: 'rotate',\r\n    from: '0 50 50',\r\n    to: '360 50 50',\r\n    dur: '4s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n]);\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003CanimateTransform attributeName=\"transform\" type=\"rotate\"\r\n  from=\"0 50 50\" to=\"360 50 50\" dur=\"4s\" repeatCount=\"indefinite\" />\r\n```\r\n\r\n> **fill=\"freeze\"** mantiene el valor final después de que la animación termina, en lugar de revertir.\r\n\r\n> **Nota:** Las animaciones nativas solo aplican al renderer SVG. El renderer Three.js las ignora.\r\n\r\n### Ejemplo completo\r\n\r\n```typescript\r\nconst triangle = new Node('triangle');\r\ntriangle.addComponent(createPath2D([\r\n  { command: 'M', args: [200, 50] },\r\n  { command: 'L', args: [350, 250] },\r\n  { command: 'L', args: [50, 250] },\r\n  { command: 'Z', args: [] },\r\n]));\r\ntriangle.addComponent(new Material({\r\n  fill: { r: 0.2, g: 0.8, b: 0.4 },\r\n  stroke: { r: 0, g: 0, b: 0 },\r\n  strokeWidth: 2,\r\n  opacity: 0.9,\r\n}));\r\nscene.add(triangle);\r\n\r\nconst svg = renderToSVG(scene, { width: 400, height: 300 });\r\n```\r\n\r\n### Casos de uso\r\n\r\n| Caso | Ventaja |\r\n|------|---------|\r\n| Exportar a .svg | Abrir en Figma, Illustrator, Inkscape |\r\n| Server-side rendering | Node.js sin DOM |\r\n| Arte generativo | Patrones procedurales como vectores |\r\n| Impresión | Escalable sin pérdida |\r\n| Interactividad SVG | `renderToSVGElement` con event delegation |\r\n\r\n---\r\n\r\n## Comparación entre renderers\r\n\r\n### Soporte de geometrías\r\n\r\n| Geometría | Three.js | SVG |\r\n|-----------|----------|-----|\r\n| `Box` | ✅ | ✅ `\u003Crect>` |\r\n| `Sphere` | ✅ | ✅ `\u003Ccircle>` |\r\n| `Path2D` | ❌ | ✅ `\u003Cpath>` |\r\n| `Text` | ❌ | ✅ `\u003Ctext>` |\r\n\r\n### Soporte de material\r\n\r\n| Propiedad | Three.js | SVG |\r\n|-----------|----------|-----|\r\n| `color` | ✅ | ❌ |\r\n| `opacity` | ✅ | ✅ |\r\n| `fill` | ❌ | ✅ |\r\n| `stroke` | ❌ | ✅ |\r\n| `strokeWidth` | ❌ | ✅ |\r\n| `fillGradient` | ❌ | ✅ |\r\n| `strokeGradient` | ❌ | ✅ |\r\n| `filter` | ❌ | ✅ |\r\n| `clipPath` | ❌ | ✅ |\r\n| `mask` | ❌ | ✅ |\r\n\r\n### Soporte de transforms\r\n\r\n| Feature | Three.js | SVG |\r\n|---------|----------|-----|\r\n| Position (translate) | ✅ | ✅ `matrix()` |\r\n| Rotation | ✅ | ✅ `matrix()` |\r\n| Scale | ✅ | ✅ `matrix()` |\r\n| Jerarquía (`\u003Cg>`) | ✅ Groups | ✅ `\u003Cg>` |\r\n\r\n### Soporte de componentes especiales\r\n\r\n| Feature | Three.js | SVG |\r\n|---------|----------|-----|\r\n| `Camera` (Perspective) | ✅ | ❌ |\r\n| `Camera` (Orthographic) | ❌ | ✅ viewBox |\r\n| `Interactive` (eventos) | ✅ Raycaster | ✅ Event delegation |\r\n| `Animation` (SVG nativo) | ❌ | ✅ `\u003Canimate>` / `\u003CanimateTransform>` |\r\n| `cssClass` / `cssId` | ❌ | ✅ atributos `class` / `id` |\r\n\r\n---\r\n\r\n## Crear un renderer personalizado\r\n\r\nEl contrato es simple — implementar `mount`, `render` y `dispose`:\r\n\r\n```typescript\r\nimport { Scene, ComponentType, Geometry, Material, GeometryPrimitive } from '@oroya/core';\r\n\r\nexport class Canvas2DRenderer {\r\n  private ctx: CanvasRenderingContext2D;\r\n  private scene: Scene | null = null;\r\n\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    this.ctx = canvas.getContext('2d')!;\r\n  }\r\n\r\n  mount(scene: Scene): void { this.scene = scene; }\r\n\r\n  render(): void {\r\n    if (!this.scene) return;\r\n    this.scene.updateWorldMatrices();\r\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n\r\n    this.scene.traverse(node => {\r\n      const geo = node.getComponent\u003CGeometry>(ComponentType.Geometry);\r\n      if (!geo) return;\r\n      const mat = node.getComponent\u003CMaterial>(ComponentType.Material);\r\n      const wm = node.transform.worldMatrix;\r\n\r\n      this.ctx.save();\r\n      this.ctx.translate(wm[12], wm[13]);\r\n\r\n      if (geo.definition.type === GeometryPrimitive.Box) {\r\n        const { width, height } = geo.definition;\r\n        if (mat?.definition.color) {\r\n          const c = mat.definition.color;\r\n          this.ctx.fillStyle = `rgb(${c.r*255},${c.g*255},${c.b*255})`;\r\n        }\r\n        this.ctx.fillRect(-width/2, -height/2, width, height);\r\n      }\r\n      this.ctx.restore();\r\n    });\r\n  }\r\n\r\n  dispose(): void { this.scene = null; }\r\n}\r\n```\r\n\r\n### Checklist\r\n\r\n| Paso | Descripción |\r\n|------|-------------|\r\n| 1 | Crear paquete en `packages/renderer-xxx/` |\r\n| 2 | Agregar `@oroya/core` como dependencia |\r\n| 3 | Implementar `mount()` — recorrer árbol y crear objetos |\r\n| 4 | Implementar `render()` — sincronizar transforms y dibujar |\r\n| 5 | Implementar `dispose()` — liberar recursos |\r\n| 6 | Documentar geometrías y materiales soportados |","src/content/docs/renderers.md","f98c0e5ed935d095",{"html":528,"metadata":529},"\u003Ch1 id=\"renderers\">Renderers\u003C/h1>\n\u003Cp>Los renderers de Oroya Animate son \u003Cstrong>traductores\u003C/strong> que convierten el scene graph agnóstico en salida visual. El core no conoce a los renderers — cada uno lee el scene graph y produce su propia representación.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"visión-general\">Visión general\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SG[\"Scene Graph\\n(@oroya/core)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    R3[\"ThreeRenderer\\n(@oroya/renderer-three)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    RS[\"renderToSVG\\n(@oroya/renderer-svg)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    WEBGL[\"WebGL Canvas (3D)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SVG[\"SVG String (2D)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SG -->|\"mount + render\"| R3\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SG -->|\"function call\"| RS\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    R3 --> WEBGL\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    RS --> SVG\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Aspecto\u003C/th>\u003Cth>\u003Ccode>ThreeRenderer\u003C/code>\u003C/th>\u003Cth>\u003Ccode>renderToSVG\u003C/code>\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>Paradigma\u003C/strong>\u003C/td>\u003Ctd>Instancia con estado (class)\u003C/td>\u003Ctd>Función pura (stateless)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Output\u003C/strong>\u003C/td>\u003Ctd>Dibuja en un \u003Ccode>&#x3C;canvas>\u003C/code>\u003C/td>\u003Ctd>Retorna un \u003Ccode>string\u003C/code> SVG\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Requiere DOM\u003C/strong>\u003C/td>\u003Ctd>✅ Sí (\u003Ccode>HTMLCanvasElement\u003C/code>)\u003C/td>\u003Ctd>❌ No (funciona en Node.js)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>3D\u003C/strong>\u003C/td>\u003Ctd>✅ Perspectiva, luces, sombras\u003C/td>\u003Ctd>❌ Solo 2D\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Vectorial\u003C/strong>\u003C/td>\u003Ctd>❌ Rasterizado\u003C/td>\u003Ctd>✅ Infinitamente escalable\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"oroyarenderer-three--threejs-webgl\">\u003Ccode>@oroya/renderer-three\u003C/code> — Three.js (WebGL)\u003C/h2>\n\u003Cp>El renderer principal para visualización 3D interactiva.\u003C/p>\n\u003Ch3 id=\"setup\">Setup\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-three\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerHeight\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  dpr\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">devicePixelRatio\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">  // opcional\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"opciones-del-constructor\">Opciones del constructor\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Opción\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>canvas\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>HTMLCanvasElement\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Elemento canvas destino\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>width\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Ancho del viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>height\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Alto del viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dpr\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>window.devicePixelRatio\u003C/code>\u003C/td>\u003Ctd>Device pixel ratio (HiDPI)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"métodos\">Métodos\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Método\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>mount(scene)\u003C/code>\u003C/td>\u003Ctd>Conecta una escena. Reconstruye la escena Three.js, detecta la cámara activa, agrega luces\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>render()\u003C/code>\u003C/td>\u003Ctd>Sincroniza transforms, propaga matrices y dibuja un frame\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dispose()\u003C/code>\u003C/td>\u003Ctd>Libera recursos WebGL\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"ciclo-de-vida\">Ciclo de vida\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sequenceDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant U as User Code\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant TR as ThreeRenderer\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant TS as THREE.Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Note over U,TS: Montaje\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    U->>TR: mount(scene)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    TR->>TS: clear + add lights\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    TR->>TR: traverse → create Mesh/Group/Camera per node\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    TR->>TR: Set first Camera as activeCamera\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Note over U,TS: Render loop\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    loop requestAnimationFrame\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        U->>TR: render()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        TR->>TR: updateWorldMatrices()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        TR->>TS: sync worldMatrix → Three.js objects\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        TR->>TR: webglRenderer.render()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"traducción-de-componentes\">Traducción de componentes\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Nodo Oroya\u003C/th>\u003Cth>Objeto Three.js\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Node sin Geometry ni Camera\u003C/td>\u003Ctd>\u003Ccode>THREE.Group\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Node + \u003Ccode>Geometry(Box)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>THREE.Mesh(BoxGeometry)\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Node + \u003Ccode>Geometry(Sphere)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>THREE.Mesh(SphereGeometry)\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Node + \u003Ccode>Geometry(Path2D)\u003C/code>\u003C/td>\u003Ctd>❌ Ignorado\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Node + \u003Ccode>Camera(Perspective)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>THREE.PerspectiveCamera\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code> con \u003Ccode>color\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>MeshStandardMaterial({ color })\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code> con \u003Ccode>opacity &#x3C; 1\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>MeshStandardMaterial({ transparent: true })\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Sin \u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>MeshStandardMaterial({ color: 0xcccccc })\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"iluminación-automática\">Iluminación automática\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Tipo\u003C/th>\u003Cth>Config\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>AmbientLight\u003C/code>\u003C/td>\u003Ctd>Blanco, intensidad \u003Ccode>0.5\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>DirectionalLight\u003C/code>\u003C/td>\u003Ctd>Blanco, intensidad \u003Ccode>1.5\u003C/code>, posición \u003Ccode>(2, 5, 3)\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"resolución-de-cámaras\">Resolución de cámaras\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">flowchart TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    START[\"mount(scene)\"] --> TRAVERSE[\"Traverse scene graph\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    TRAVERSE --> FOUND{\"¿Encontró Camera?\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    FOUND -->|\"Sí\"| USE[\"Usar primera como activa\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    FOUND -->|\"No\"| FALLBACK[\"Fallback: PerspectiveCamera, FOV 75, z=5\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"ejemplo-completo\">Ejemplo completo\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene, Node, createBox, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-three\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">cam\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Perspective\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, fov: \u003C/span>\u003Cspan style=\"color:#F78C6C\">75\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  aspect: window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHeight\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1000\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">position\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">z\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> box\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">box\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">box\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">box\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(box);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerHeight\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> loop\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  box\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">rotation\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">y\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> performance\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">now\u003C/span>\u003Cspan style=\"color:#D6DEEB\">() \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.001\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  box\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(loop);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(loop);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"oroyarenderer-svg--svg-2d\">\u003Ccode>@oroya/renderer-svg\u003C/code> — SVG (2D)\u003C/h2>\n\u003Cp>Renderer ligero que genera markup SVG. Ideal para arte generativo, exportación vectorial y server-side rendering.\u003C/p>\n\u003Ch3 id=\"rendertosvg--string-puro-server-safe\">\u003Ccode>renderToSVG\u003C/code> — String puro (server-safe)\u003C/h3>\n\u003Cp>Función pura y stateless que retorna un string SVG. Funciona en Node.js sin DOM.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-svg\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> svg\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> string\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 400\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 300\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"opciones-svgrenderoptions\">Opciones (\u003Ccode>SvgRenderOptions\u003C/code>)\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Opción\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>width\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Ancho del SVG\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>height\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Alto del SVG\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>viewBox\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"0 0 {width} {height}\"\u003C/code>\u003C/td>\u003Ctd>viewBox personalizado\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"rendertosvgelement--dom-interactivo\">\u003Ccode>renderToSVGElement\u003C/code> — DOM interactivo\u003C/h3>\n\u003Cp>Crea un \u003Ccode>SVGSVGElement\u003C/code> real con event delegation. Los nodos con componente \u003Ccode>Interactive\u003C/code> reciben listeners de pointer/click/wheel.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { renderToSVGElement } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-svg\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> svg\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> dispose\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVGElement\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 800\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 600\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  container\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">app\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\">!,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Cuando ya no se necesite:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">dispose\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Limpia listeners y remueve el SVG del DOM\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"opciones-svgelementrenderoptions\">Opciones (\u003Ccode>SvgElementRenderOptions\u003C/code>)\u003C/h4>\n\u003Cp>Extiende \u003Ccode>SvgRenderOptions\u003C/code> con:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Opción\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>container\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>HTMLElement\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(opcional)\u003C/em> Elemento padre donde se adjunta el SVG automáticamente\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"retorno\">Retorno\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>svg\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SVGSVGElement\u003C/code>\u003C/td>\u003Ctd>El elemento SVG creado\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dispose\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>() => void\u003C/code>\u003C/td>\u003Ctd>Limpia event listeners y remueve el SVG del DOM\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"eventos-interactivos-soportados\">Eventos interactivos soportados\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Evento DOM\u003C/th>\u003Cth>\u003Ccode>InteractionEventType\u003C/code>\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>click\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Click\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerdown\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerDown\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerup\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerUp\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointermove\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerMove\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerenter\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerEnter\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerleave\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerLeave\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>wheel\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Wheel\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"pipeline\">Pipeline\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">flowchart TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    START[\"renderToSVG / renderToSVGElement\"] --> UPDATE[\"scene.updateWorldMatrices()\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    UPDATE --> WALK[\"Recorrer árbol recursivamente\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    WALK --> GEO{\"¿Geometry?\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    GEO -->|\"Path2D\"| PATH[\"→ path\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    GEO -->|\"Box\"| RECT[\"→ rect\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    GEO -->|\"Sphere\"| CIRCLE[\"→ circle\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    GEO -->|\"Text\"| TEXT[\"→ text\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    GEO -->|\"Ninguno\"| GROUP[\"Solo g si tiene hijos\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    PATH &#x26; RECT &#x26; CIRCLE &#x26; TEXT --> MAT{\"¿Material?\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    MAT -->|\"fill/stroke\"| STYLE[\"fill + stroke + opacity\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    MAT -->|\"fillGradient\"| GRAD[\"url(#gradient-id) + defs\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    MAT -->|\"filter/clip/mask\"| FILT[\"url(#filter-id) + defs\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    MAT -->|\"Ninguno\"| NONE[\"fill='none'\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    STYLE &#x26; GRAD &#x26; FILT &#x26; NONE --> ANIM{\"¿Animation?\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ANIM -->|\"Sí\"| ANIMC[\"animate / animateTransform hijos\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ANIM -->|\"No\"| NOANIM[\"Sin animación\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ANIMC &#x26; NOANIM --> TRANSFORM{\"¿Transform ≠ identity?\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    TRANSFORM -->|\"Sí\"| MATRIX[\"g transform='matrix(a,b,c,d,e,f)'\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    TRANSFORM -->|\"No\"| DIRECT[\"Elemento directo\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    MATRIX &#x26; DIRECT --> CHILDREN{\"¿Hijos?\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    CHILDREN -->|\"Sí\"| NEST[\"Anidar en g\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    CHILDREN -->|\"No\"| LEAF[\"Nodo hoja\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"soporte-de-geometrías\">Soporte de geometrías\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Geometría\u003C/th>\u003Cth>Elemento SVG generado\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Path2D\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>&#x3C;path d=\"...\">\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Box\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>&#x3C;rect>\u003C/code> (width × height, depth ignorado)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Sphere\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>&#x3C;circle>\u003C/code> (radio)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Text\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>&#x3C;text>\u003C/code> con font-size, font-family, font-weight, text-anchor, dominant-baseline\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"propiedades-del-material-para-svg\">Propiedades del material para SVG\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Efecto SVG\u003C/th>\u003Cth>Si ausente\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>ColorRGB\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>fill=\"rgb(R,G,B)\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>fill=\"none\"\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stroke\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>ColorRGB\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>stroke=\"rgb(R,G,B)\"\u003C/code>\u003C/td>\u003Ctd>Sin stroke\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>strokeWidth\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>stroke-width=\"N\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>1\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>opacity\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>opacity=\"N\"\u003C/code>\u003C/td>\u003Ctd>Sin atributo (opaco)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fillGradient\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GradientDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>fill=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003Ctd>Usa \u003Ccode>fill\u003C/code> normal\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>strokeGradient\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GradientDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>stroke=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003Ctd>Usa \u003Ccode>stroke\u003C/code> normal\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>filter\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SvgFilterDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>filter=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;filter>\u003C/code> en \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003Ctd>Sin filtro\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>clipPath\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SvgClipPathDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>clip-path=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;clipPath>\u003C/code> en \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003Ctd>Sin recorte\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>mask\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SvgMaskDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>mask=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;mask>\u003C/code> en \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003Ctd>Sin máscara\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"transforms-y-jerarquía\">Transforms y jerarquía\u003C/h3>\n\u003Cp>El renderer SVG aplica el \u003Ccode>localMatrix\u003C/code> de cada nodo como atributo \u003Ccode>transform=\"matrix(a,b,c,d,e,f)\"\u003C/code> y genera \u003Ccode>&#x3C;g>\u003C/code> para representar la jerarquía padre-hijo del scene graph.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> parent\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">group\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">parent\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> child\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">square\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">child\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">30\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">30\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">child\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">parent\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(child);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(parent);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">g\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> transform\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">matrix(1,0,0,1,100,50)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">rect\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> x\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">-15\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> y\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">-15\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">30\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">30\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> fill\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(255, 0, 0)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">g\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"gradientes\">Gradientes\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> circle\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">sun\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">circle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">80\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">circle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fillGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">radial\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    cx: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, cy: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }, opacity: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Tipos de gradiente:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Tipo\u003C/th>\u003Cth>Definición\u003C/th>\u003Cth>Elemento SVG\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>linear\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>LinearGradientDef\u003C/code> (x1, y1, x2, y2)\u003C/td>\u003Ctd>\u003Ccode>&#x3C;linearGradient>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>radial\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>RadialGradientDef\u003C/code> (cx, cy, r, fx, fy)\u003C/td>\u003Ctd>\u003Ccode>&#x3C;radialGradient>\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"texto\">Texto\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> label\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">title\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">label\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createText\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Oroya Animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fontSize: \u003C/span>\u003Cspan style=\"color:#F78C6C\">24\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fontFamily: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Inter\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fontWeight: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">bold\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  textAnchor: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">middle\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">label\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">label\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">200\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">30\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(label);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"css-classes-y-ids-semánticos\">CSS Classes y IDs semánticos\u003C/h3>\n\u003Cp>Cada nodo puede tener un \u003Ccode>cssClass\u003C/code> y/o \u003Ccode>cssId\u003C/code> que se emiten como atributos \u003Ccode>class\u003C/code> e \u003Ccode>id\u003C/code> en los elementos SVG generados.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">highlight-box\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">60\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">cssClass\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">highlight animated\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">cssId\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">main-callout\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(node);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">rect\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> id\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">main-callout\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> class\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">highlight animated\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> x\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">-50\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> y\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">-30\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">100\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">60\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> fill\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(255, 230, 0)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Cuando el nodo tiene hijos o transform, el atributo se aplica al \u003Ccode>&#x3C;g>\u003C/code> contenedor:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">g\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> id\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">main-callout\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> class\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">highlight animated\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> transform\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">matrix(1,0,0,1,50,25)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">rect\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> x\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">-50\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> y\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">-30\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">100\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">60\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> fill\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(255, 230, 0)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">g\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Serialización:\u003C/strong> \u003Ccode>cssClass\u003C/code> y \u003Ccode>cssId\u003C/code> se preservan en \u003Ccode>serialize()\u003C/code> / \u003Ccode>deserialize()\u003C/code>.\u003C/p>\n\u003C/blockquote>\n\u003Ch3 id=\"cámara-ortográfica-y-viewbox\">Cámara ortográfica y viewBox\u003C/h3>\n\u003Cp>Si la escena contiene un nodo con \u003Ccode>OrthographicCameraDef\u003C/code>, el renderer SVG calcula automáticamente el \u003Ccode>viewBox\u003C/code> a partir del frustum de la cámara. Un \u003Ccode>viewBox\u003C/code> explícito en las opciones tiene prioridad.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">ortho-cam\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Orthographic\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  left: \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">400\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, right: \u003C/span>\u003Cspan style=\"color:#F78C6C\">400\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  top: \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">300\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, bottom: \u003C/span>\u003Cspan style=\"color:#F78C6C\">300\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1000\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// viewBox se calcula como \"-400 -300 800 600\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> svg\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 800\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 600\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>La posición de la cámara se aplica como offset al viewBox:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">25\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// viewBox se calcula como \"-350 -275 800 600\"\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"svg-filters-clip-paths-y-masks\">SVG Filters, Clip Paths y Masks\u003C/h3>\n\u003Cp>El renderer soporta filtros SVG nativos, clip paths y máscaras a través de campos en \u003Ccode>MaterialDef\u003C/code>.\u003C/p>\n\u003Ch4 id=\"blur\">Blur\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> blurred\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">soft\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">blurred\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">40\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">blurred\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  filter: { effects: [{ type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">blur\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, stdDeviation: \u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">defs\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">filter\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> id\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">oroya-filter-0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">feGaussianBlur\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> stdDeviation\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">3\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">filter\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">defs\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">circle\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> cx\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> cy\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">40\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> fill\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(128, 204, 255)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> filter\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">url(#oroya-filter-0)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"drop-shadow\">Drop Shadow\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  filter: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    effects: [{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">dropShadow\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, dx: \u003C/span>\u003Cspan style=\"color:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, dy: \u003C/span>\u003Cspan style=\"color:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      stdDeviation: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, floodColor: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">#333\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, floodOpacity: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"clip-path\">Clip Path\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  clipPath: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    path: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">M\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Z\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"mask\">Mask\u003C/h4>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  mask: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    path: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">M\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">80\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">80\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">80\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Z\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    fill: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">white\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    opacity: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"svg-animaciones-nativas\">SVG Animaciones nativas\u003C/h3>\n\u003Cp>El componente \u003Ccode>Animation\u003C/code> permite agregar animaciones SVG declarativas (\u003Ccode>&#x3C;animate>\u003C/code> y \u003Ccode>&#x3C;animateTransform>\u003C/code>) que se ejecutan en el navegador sin JavaScript.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Animation } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> circle\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">pulse\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">circle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">30\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">circle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">circle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Animation\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    attributeName: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">opacity\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    values: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">1;0.3;1\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    dur: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">2s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">]));\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">circle\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> cx\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> cy\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">30\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> fill\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(255, 0, 0)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">animate\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> attributeName\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">opacity\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> values\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">1;0.3;1\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> dur\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">2s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> repeatCount\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">circle\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Animaciones de transformación:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Animation\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">animateTransform\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    transformType: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">rotate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    from: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">0 50 50\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    to: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">360 50 50\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    dur: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">4s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">]);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">animateTransform\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> attributeName\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">transform\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">rotate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478;font-style:italic\">  from\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0 50 50\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> to\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">360 50 50\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> dur\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">4s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> repeatCount\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>fill=“freeze”\u003C/strong> mantiene el valor final después de que la animación termina, en lugar de revertir.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nota:\u003C/strong> Las animaciones nativas solo aplican al renderer SVG. El renderer Three.js las ignora.\u003C/p>\n\u003C/blockquote>\n\u003Ch3 id=\"ejemplo-completo-1\">Ejemplo completo\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> triangle\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">triangle\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">triangle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createPath2D\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">M\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">200\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">350\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">250\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">250\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Z\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">triangle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.4\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  opacity: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(triangle);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> svg\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 400\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 300\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"casos-de-uso\">Casos de uso\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Caso\u003C/th>\u003Cth>Ventaja\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Exportar a .svg\u003C/td>\u003Ctd>Abrir en Figma, Illustrator, Inkscape\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Server-side rendering\u003C/td>\u003Ctd>Node.js sin DOM\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Arte generativo\u003C/td>\u003Ctd>Patrones procedurales como vectores\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Impresión\u003C/td>\u003Ctd>Escalable sin pérdida\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Interactividad SVG\u003C/td>\u003Ctd>\u003Ccode>renderToSVGElement\u003C/code> con event delegation\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"comparación-entre-renderers\">Comparación entre renderers\u003C/h2>\n\u003Ch3 id=\"soporte-de-geometrías-1\">Soporte de geometrías\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Geometría\u003C/th>\u003Cth>Three.js\u003C/th>\u003Cth>SVG\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Box\u003C/code>\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>✅ \u003Ccode>&#x3C;rect>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Sphere\u003C/code>\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>✅ \u003Ccode>&#x3C;circle>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Path2D\u003C/code>\u003C/td>\u003Ctd>❌\u003C/td>\u003Ctd>✅ \u003Ccode>&#x3C;path>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Text\u003C/code>\u003C/td>\u003Ctd>❌\u003C/td>\u003Ctd>✅ \u003Ccode>&#x3C;text>\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"soporte-de-material\">Soporte de material\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Propiedad\u003C/th>\u003Cth>Three.js\u003C/th>\u003Cth>SVG\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>color\u003C/code>\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>❌\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>opacity\u003C/code>\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>❌\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stroke\u003C/code>\u003C/td>\u003Ctd>❌\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>strokeWidth\u003C/code>\u003C/td>\u003Ctd>❌\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fillGradient\u003C/code>\u003C/td>\u003Ctd>❌\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>strokeGradient\u003C/code>\u003C/td>\u003Ctd>❌\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>filter\u003C/code>\u003C/td>\u003Ctd>❌\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>clipPath\u003C/code>\u003C/td>\u003Ctd>❌\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>mask\u003C/code>\u003C/td>\u003Ctd>❌\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"soporte-de-transforms\">Soporte de transforms\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Feature\u003C/th>\u003Cth>Three.js\u003C/th>\u003Cth>SVG\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Position (translate)\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>✅ \u003Ccode>matrix()\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Rotation\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>✅ \u003Ccode>matrix()\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Scale\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>✅ \u003Ccode>matrix()\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Jerarquía (\u003Ccode>&#x3C;g>\u003C/code>)\u003C/td>\u003Ctd>✅ Groups\u003C/td>\u003Ctd>✅ \u003Ccode>&#x3C;g>\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"soporte-de-componentes-especiales\">Soporte de componentes especiales\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Feature\u003C/th>\u003Cth>Three.js\u003C/th>\u003Cth>SVG\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code> (Perspective)\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>❌\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code> (Orthographic)\u003C/td>\u003Ctd>❌\u003C/td>\u003Ctd>✅ viewBox\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Interactive\u003C/code> (eventos)\u003C/td>\u003Ctd>✅ Raycaster\u003C/td>\u003Ctd>✅ Event delegation\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Animation\u003C/code> (SVG nativo)\u003C/td>\u003Ctd>❌\u003C/td>\u003Ctd>✅ \u003Ccode>&#x3C;animate>\u003C/code> / \u003Ccode>&#x3C;animateTransform>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>cssClass\u003C/code> / \u003Ccode>cssId\u003C/code>\u003C/td>\u003Ctd>❌\u003C/td>\u003Ctd>✅ atributos \u003Ccode>class\u003C/code> / \u003Ccode>id\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"crear-un-renderer-personalizado\">Crear un renderer personalizado\u003C/h2>\n\u003Cp>El contrato es simple — implementar \u003Ccode>mount\u003C/code>, \u003Ccode>render\u003C/code> y \u003Ccode>dispose\u003C/code>:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene, ComponentType, Geometry, Material, GeometryPrimitive } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">export\u003C/span>\u003Cspan style=\"color:#C792EA\"> class\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Canvas2DRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  private\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> ctx\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> CanvasRenderingContext2D\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  private\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> |\u003C/span>\u003Cspan style=\"color:#C5E478\"> null\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#FF5874\"> null\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF\">  constructor\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">canvas\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">ctx\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> canvas\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getContext\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">2d\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\">!\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  mount\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Scene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> scene; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  render\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">!\u003C/span>\u003Cspan style=\"color:#7FDBCA\">this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">return\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateWorldMatrices\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">ctx\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">clearRect\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">ctx\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">canvas\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">width\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">ctx\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">canvas\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">height\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">traverse\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">node\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF\">      const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> geo\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getComponent\u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">Geometry\u003C/span>\u003Cspan style=\"color:#C792EA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">ComponentType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">Geometry\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">      if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">!\u003C/span>\u003Cspan style=\"color:#D6DEEB\">geo) \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">return\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF\">      const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> mat\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getComponent\u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">Material\u003C/span>\u003Cspan style=\"color:#C792EA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">ComponentType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF\">      const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> wm\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">worldMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">      this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">ctx\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">save\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">      this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">ctx\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">translate\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(wm[\u003C/span>\u003Cspan style=\"color:#F78C6C\">12\u003C/span>\u003Cspan style=\"color:#D6DEEB\">], wm[\u003C/span>\u003Cspan style=\"color:#F78C6C\">13\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">      if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (geo\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">definition\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">type\u003C/span>\u003Cspan style=\"color:#C792EA\"> ===\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> GeometryPrimitive\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Box\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF\">        const\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> geo\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">definition\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">        if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (mat\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">?.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">definition\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">color\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF\">          const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> c\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> mat\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">definition\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">color\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">          this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">ctx\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">fillStyle\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> `\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB\">c\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">r\u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\">255\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#ECC48D\">,\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB\">c\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">g\u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\">255\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#ECC48D\">,\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB\">c\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">b\u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\">255\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#ECC48D\">)\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">ctx\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">fillRect\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#D6DEEB\">width\u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#D6DEEB\">height\u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, width, height);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">      this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">ctx\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">restore\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  dispose\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">this\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#FF5874\"> null\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"checklist\">Checklist\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Paso\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>1\u003C/td>\u003Ctd>Crear paquete en \u003Ccode>packages/renderer-xxx/\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>2\u003C/td>\u003Ctd>Agregar \u003Ccode>@oroya/core\u003C/code> como dependencia\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>3\u003C/td>\u003Ctd>Implementar \u003Ccode>mount()\u003C/code> — recorrer árbol y crear objetos\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>4\u003C/td>\u003Ctd>Implementar \u003Ccode>render()\u003C/code> — sincronizar transforms y dibujar\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>5\u003C/td>\u003Ctd>Implementar \u003Ccode>dispose()\u003C/code> — liberar recursos\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>6\u003C/td>\u003Ctd>Documentar geometrías y materiales soportados\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>",{"headings":530,"localImagePaths":640,"remoteImagePaths":641,"frontmatter":642,"imagePaths":643},[531,532,535,538,541,544,545,548,549,550,553,554,557,560,563,566,569,570,573,576,579,582,585,588,591,594,597,600,603,606,609,612,615,617,620,623,625,628,631,634,637],{"depth":26,"slug":519,"text":522},{"depth":28,"slug":533,"text":534},"visión-general","Visión general",{"depth":28,"slug":536,"text":537},"oroyarenderer-three--threejs-webgl","@oroya/renderer-three — Three.js (WebGL)",{"depth":35,"slug":539,"text":540},"setup","Setup",{"depth":35,"slug":542,"text":543},"opciones-del-constructor","Opciones del constructor",{"depth":35,"slug":55,"text":56},{"depth":35,"slug":546,"text":547},"ciclo-de-vida","Ciclo de vida",{"depth":35,"slug":316,"text":317},{"depth":35,"slug":319,"text":320},{"depth":35,"slug":551,"text":552},"resolución-de-cámaras","Resolución de cámaras",{"depth":35,"slug":70,"text":71},{"depth":28,"slug":555,"text":556},"oroyarenderer-svg--svg-2d","@oroya/renderer-svg — SVG (2D)",{"depth":35,"slug":558,"text":559},"rendertosvg--string-puro-server-safe","renderToSVG — String puro (server-safe)",{"depth":48,"slug":561,"text":562},"opciones-svgrenderoptions","Opciones (SvgRenderOptions)",{"depth":35,"slug":564,"text":565},"rendertosvgelement--dom-interactivo","renderToSVGElement — DOM interactivo",{"depth":48,"slug":567,"text":568},"opciones-svgelementrenderoptions","Opciones (SvgElementRenderOptions)",{"depth":48,"slug":339,"text":340},{"depth":48,"slug":571,"text":572},"eventos-interactivos-soportados","Eventos interactivos soportados",{"depth":35,"slug":574,"text":575},"pipeline","Pipeline",{"depth":35,"slug":577,"text":578},"soporte-de-geometrías","Soporte de geometrías",{"depth":35,"slug":580,"text":581},"propiedades-del-material-para-svg","Propiedades del material para SVG",{"depth":35,"slug":583,"text":584},"transforms-y-jerarquía","Transforms y jerarquía",{"depth":35,"slug":586,"text":587},"gradientes","Gradientes",{"depth":35,"slug":589,"text":590},"texto","Texto",{"depth":35,"slug":592,"text":593},"css-classes-y-ids-semánticos","CSS Classes y IDs semánticos",{"depth":35,"slug":595,"text":596},"cámara-ortográfica-y-viewbox","Cámara ortográfica y viewBox",{"depth":35,"slug":598,"text":599},"svg-filters-clip-paths-y-masks","SVG Filters, Clip Paths y Masks",{"depth":48,"slug":601,"text":602},"blur","Blur",{"depth":48,"slug":604,"text":605},"drop-shadow","Drop Shadow",{"depth":48,"slug":607,"text":608},"clip-path","Clip Path",{"depth":48,"slug":610,"text":611},"mask","Mask",{"depth":35,"slug":613,"text":614},"svg-animaciones-nativas","SVG Animaciones nativas",{"depth":35,"slug":616,"text":71},"ejemplo-completo-1",{"depth":35,"slug":618,"text":619},"casos-de-uso","Casos de uso",{"depth":28,"slug":621,"text":622},"comparación-entre-renderers","Comparación entre renderers",{"depth":35,"slug":624,"text":578},"soporte-de-geometrías-1",{"depth":35,"slug":626,"text":627},"soporte-de-material","Soporte de material",{"depth":35,"slug":629,"text":630},"soporte-de-transforms","Soporte de transforms",{"depth":35,"slug":632,"text":633},"soporte-de-componentes-especiales","Soporte de componentes especiales",{"depth":28,"slug":635,"text":636},"crear-un-renderer-personalizado","Crear un renderer personalizado",{"depth":35,"slug":638,"text":639},"checklist","Checklist",[],[],{"title":522,"description":523,"order":48,"category":372},[],"contributing",{"id":644,"data":646,"body":650,"filePath":651,"digest":652,"rendered":653},{"title":647,"description":648,"order":649,"category":432},"Contributing","Development setup, workflow, and contribution guidelines",7,"# Contributing & Development\r\n\r\nGuide for setting up the dev environment, running the project locally, and contributing.\r\n\r\n---\r\n\r\n## Prerequisites\r\n\r\n- **Node.js** v18 or higher\r\n- **pnpm** v9+ (managed via [Corepack](https://nodejs.org/api/corepack.html))\r\n\r\nTo enable Corepack (ensures the correct pnpm version is used automatically):\r\n\r\n```bash\r\ncorepack enable\r\n```\r\n\r\n---\r\n\r\n## Setup\r\n\r\n```bash\r\n# Clone the repository\r\ngit clone https://github.com/joshuacba08/oroya-animate.git\r\ncd oroya-animate\r\n\r\n# Install all dependencies (root + all packages + all apps)\r\npnpm install\r\n```\r\n\r\n---\r\n\r\n## Available Scripts (Root)\r\n\r\n| Script           | Command               | Description                                   |\r\n|------------------|-----------------------|-----------------------------------------------|\r\n| Build all packages | `pnpm build`        | Builds all packages under `packages/` with tsup. |\r\n| Run tests        | `pnpm test`           | Runs all tests with Vitest.                   |\r\n| Watch tests      | `pnpm test:watch`     | Runs tests in watch mode.                     |\r\n| Dev (Vanilla)    | `pnpm dev:vanilla`    | Starts the vanilla JS demo with Vite.         |\r\n| Dev (React)      | `pnpm dev:react`      | Starts the React demo with Vite.              |\r\n| Clean            | `pnpm clean`          | Removes all `dist/` folders.                  |\r\n| Typecheck        | `pnpm typecheck`      | Runs `tsc --noEmit` across all packages.      |\r\n\r\n---\r\n\r\n## Development Workflow\r\n\r\n### 1. Build the core packages first\r\n\r\nBefore running any demo, make sure the packages are built:\r\n\r\n```bash\r\npnpm build\r\n```\r\n\r\n### 2. Start a demo\r\n\r\n```bash\r\n# Vanilla JS demo\r\npnpm dev:vanilla\r\n\r\n# React demo\r\npnpm dev:react\r\n```\r\n\r\n### 3. Make changes to a package\r\n\r\nIf you're modifying a package (e.g., `@oroya/core`), you can run its build in watch mode:\r\n\r\n```bash\r\n# In one terminal — watch for core changes\r\ncd packages/core\r\npnpm dev\r\n\r\n# In another terminal — run the demo\r\ncd ../..\r\npnpm dev:vanilla\r\n```\r\n\r\n### 4. Run tests\r\n\r\n```bash\r\npnpm test\r\n```\r\n\r\nTests are located in `packages/core/tests/` and use [Vitest](https://vitest.dev/).\r\n\r\n---\r\n\r\n## Project Layout\r\n\r\n```\r\noroya-animate/\r\n├── package.json              # Root scripts and devDependencies\r\n├── pnpm-workspace.yaml       # Workspace definition\r\n├── tsconfig.base.json        # Shared TypeScript config\r\n├── docs/                     # Documentation (you are here)\r\n├── packages/\r\n│   ├── core/                 # @oroya/core — Scene graph, nodes, components\r\n│   ├── renderer-three/       # @oroya/renderer-three — WebGL backend\r\n│   ├── renderer-svg/         # @oroya/renderer-svg — SVG backend\r\n│   └── loader-gltf/          # @oroya/loader-gltf — glTF importer\r\n└── apps/\r\n    ├── demo-vanilla/         # Vanilla JS demo app\r\n    └── demo-react/           # React demo app\r\n```\r\n\r\n---\r\n\r\n## Build System\r\n\r\nEach package uses [tsup](https://tsup.egoist.dev/) for building:\r\n- Outputs both **ESM** (`.js`) and **CJS** (`.cjs`) formats.\r\n- Generates TypeScript declaration files (`.d.ts`).\r\n- Configuration is in `tsup.config.ts` inside each package.\r\n\r\n---\r\n\r\n## Testing Strategy\r\n\r\n- **Framework:** [Vitest](https://vitest.dev/) (Vite-native, Jest-compatible API).\r\n- **Location:** `packages/core/tests/`\r\n- **Current coverage:**\r\n  - Node creation and hierarchy (add/remove children)\r\n  - Scene serialization/deserialization round-trip\r\n\r\n### Running a specific test file\r\n\r\n```bash\r\npnpm test -- packages/core/tests/Node.test.ts\r\n```\r\n\r\n---\r\n\r\n## Code Style\r\n\r\n- TypeScript strict mode.\r\n- Components follow the ECS (Entity-Component System) pattern.\r\n- The core must **never** import from any renderer or external engine.\r\n- Renderers may import from `@oroya/core` only.","src/content/docs/contributing.md","b6c28b6e58cf65bb",{"html":654,"metadata":655},"\u003Ch1 id=\"contributing--development\">Contributing &#x26; Development\u003C/h1>\n\u003Cp>Guide for setting up the dev environment, running the project locally, and contributing.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"prerequisites\">Prerequisites\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Cstrong>Node.js\u003C/strong> v18 or higher\u003C/li>\n\u003Cli>\u003Cstrong>pnpm\u003C/strong> v9+ (managed via \u003Ca href=\"https://nodejs.org/api/corepack.html\">Corepack\u003C/a>)\u003C/li>\n\u003C/ul>\n\u003Cp>To enable Corepack (ensures the correct pnpm version is used automatically):\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">corepack\u003C/span>\u003Cspan style=\"color:#ECC48D\"> enable\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"setup\">Setup\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\"># Clone the repository\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">git\u003C/span>\u003Cspan style=\"color:#ECC48D\"> clone\u003C/span>\u003Cspan style=\"color:#ECC48D\"> https://github.com/joshuacba08/oroya-animate.git\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478;font-style:italic\">cd\u003C/span>\u003Cspan style=\"color:#ECC48D\"> oroya-animate\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\"># Install all dependencies (root + all packages + all apps)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> install\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"available-scripts-root\">Available Scripts (Root)\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Script\u003C/th>\u003Cth>Command\u003C/th>\u003Cth>Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Build all packages\u003C/td>\u003Ctd>\u003Ccode>pnpm build\u003C/code>\u003C/td>\u003Ctd>Builds all packages under \u003Ccode>packages/\u003C/code> with tsup.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Run tests\u003C/td>\u003Ctd>\u003Ccode>pnpm test\u003C/code>\u003C/td>\u003Ctd>Runs all tests with Vitest.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Watch tests\u003C/td>\u003Ctd>\u003Ccode>pnpm test:watch\u003C/code>\u003C/td>\u003Ctd>Runs tests in watch mode.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Dev (Vanilla)\u003C/td>\u003Ctd>\u003Ccode>pnpm dev:vanilla\u003C/code>\u003C/td>\u003Ctd>Starts the vanilla JS demo with Vite.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Dev (React)\u003C/td>\u003Ctd>\u003Ccode>pnpm dev:react\u003C/code>\u003C/td>\u003Ctd>Starts the React demo with Vite.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Clean\u003C/td>\u003Ctd>\u003Ccode>pnpm clean\u003C/code>\u003C/td>\u003Ctd>Removes all \u003Ccode>dist/\u003C/code> folders.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Typecheck\u003C/td>\u003Ctd>\u003Ccode>pnpm typecheck\u003C/code>\u003C/td>\u003Ctd>Runs \u003Ccode>tsc --noEmit\u003C/code> across all packages.\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"development-workflow\">Development Workflow\u003C/h2>\n\u003Ch3 id=\"1-build-the-core-packages-first\">1. Build the core packages first\u003C/h3>\n\u003Cp>Before running any demo, make sure the packages are built:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> build\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"2-start-a-demo\">2. Start a demo\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\"># Vanilla JS demo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> dev:vanilla\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\"># React demo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> dev:react\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"3-make-changes-to-a-package\">3. Make changes to a package\u003C/h3>\n\u003Cp>If you’re modifying a package (e.g., \u003Ccode>@oroya/core\u003C/code>), you can run its build in watch mode:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\"># In one terminal — watch for core changes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478;font-style:italic\">cd\u003C/span>\u003Cspan style=\"color:#ECC48D\"> packages/core\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> dev\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\"># In another terminal — run the demo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478;font-style:italic\">cd\u003C/span>\u003Cspan style=\"color:#ECC48D\"> ../..\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> dev:vanilla\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"4-run-tests\">4. Run tests\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> test\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Tests are located in \u003Ccode>packages/core/tests/\u003C/code> and use \u003Ca href=\"https://vitest.dev/\">Vitest\u003C/a>.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"project-layout\">Project Layout\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>oroya-animate/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── package.json              # Root scripts and devDependencies\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── pnpm-workspace.yaml       # Workspace definition\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── tsconfig.base.json        # Shared TypeScript config\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── docs/                     # Documentation (you are here)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── packages/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>│   ├── core/                 # @oroya/core — Scene graph, nodes, components\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>│   ├── renderer-three/       # @oroya/renderer-three — WebGL backend\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>│   ├── renderer-svg/         # @oroya/renderer-svg — SVG backend\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>│   └── loader-gltf/          # @oroya/loader-gltf — glTF importer\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>└── apps/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    ├── demo-vanilla/         # Vanilla JS demo app\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    └── demo-react/           # React demo app\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"build-system\">Build System\u003C/h2>\n\u003Cp>Each package uses \u003Ca href=\"https://tsup.egoist.dev/\">tsup\u003C/a> for building:\u003C/p>\n\u003Cul>\n\u003Cli>Outputs both \u003Cstrong>ESM\u003C/strong> (\u003Ccode>.js\u003C/code>) and \u003Cstrong>CJS\u003C/strong> (\u003Ccode>.cjs\u003C/code>) formats.\u003C/li>\n\u003Cli>Generates TypeScript declaration files (\u003Ccode>.d.ts\u003C/code>).\u003C/li>\n\u003Cli>Configuration is in \u003Ccode>tsup.config.ts\u003C/code> inside each package.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"testing-strategy\">Testing Strategy\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Cstrong>Framework:\u003C/strong> \u003Ca href=\"https://vitest.dev/\">Vitest\u003C/a> (Vite-native, Jest-compatible API).\u003C/li>\n\u003Cli>\u003Cstrong>Location:\u003C/strong> \u003Ccode>packages/core/tests/\u003C/code>\u003C/li>\n\u003Cli>\u003Cstrong>Current coverage:\u003C/strong>\n\u003Cul>\n\u003Cli>Node creation and hierarchy (add/remove children)\u003C/li>\n\u003Cli>Scene serialization/deserialization round-trip\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"running-a-specific-test-file\">Running a specific test file\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> test\u003C/span>\u003Cspan style=\"color:#82AAFF\"> --\u003C/span>\u003Cspan style=\"color:#ECC48D\"> packages/core/tests/Node.test.ts\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"code-style\">Code Style\u003C/h2>\n\u003Cul>\n\u003Cli>TypeScript strict mode.\u003C/li>\n\u003Cli>Components follow the ECS (Entity-Component System) pattern.\u003C/li>\n\u003Cli>The core must \u003Cstrong>never\u003C/strong> import from any renderer or external engine.\u003C/li>\n\u003Cli>Renderers may import from \u003Ccode>@oroya/core\u003C/code> only.\u003C/li>\n\u003C/ul>",{"headings":656,"localImagePaths":697,"remoteImagePaths":698,"frontmatter":699,"imagePaths":700},[657,660,663,664,667,670,673,676,679,682,685,688,691,694],{"depth":26,"slug":658,"text":659},"contributing--development","Contributing & Development",{"depth":28,"slug":661,"text":662},"prerequisites","Prerequisites",{"depth":28,"slug":539,"text":540},{"depth":28,"slug":665,"text":666},"available-scripts-root","Available Scripts (Root)",{"depth":28,"slug":668,"text":669},"development-workflow","Development Workflow",{"depth":35,"slug":671,"text":672},"1-build-the-core-packages-first","1. Build the core packages first",{"depth":35,"slug":674,"text":675},"2-start-a-demo","2. Start a demo",{"depth":35,"slug":677,"text":678},"3-make-changes-to-a-package","3. Make changes to a package",{"depth":35,"slug":680,"text":681},"4-run-tests","4. Run tests",{"depth":28,"slug":683,"text":684},"project-layout","Project Layout",{"depth":28,"slug":686,"text":687},"build-system","Build System",{"depth":28,"slug":689,"text":690},"testing-strategy","Testing Strategy",{"depth":35,"slug":692,"text":693},"running-a-specific-test-file","Running a specific test file",{"depth":28,"slug":695,"text":696},"code-style","Code Style",[],[],{"title":647,"description":648,"order":649,"category":432},[],"getting-started",{"id":701,"data":703,"body":707,"filePath":708,"digest":709,"rendered":710},{"title":704,"description":705,"order":26,"category":706},"Getting Started","Quick start guide for setting up Oroya Animate and creating your first scene","guide","# Getting Started with Oroya Animate\n\nWelcome! This guide will help you get your first 3D scene up and running using **Oroya Animate**, a renderer-agnostic scene graph engine for the web.\n\nOroya Animate separates your scene definition from the rendering backend. You describe your world once using `@oroya/core` and then choose how to render it - WebGL via Three.js, SVG for static graphics, or any future backend.\n\n---\n\n## Installation\n\nInstall the packages you need from npm using your preferred package manager:\n\n```bash\n# npm\nnpm install @oroya/core @oroya/renderer-three\n\n# yarn\nyarn add @oroya/core @oroya/renderer-three\n\n# pnpm\npnpm add @oroya/core @oroya/renderer-three\n```\n\n### Available packages\n\n| Package | Description |\n|---|---|\n| `@oroya/core` | Scene graph, nodes, components, serialization, math utilities |\n| `@oroya/renderer-three` | WebGL renderer powered by Three.js |\n| `@oroya/renderer-svg` | SVG renderer for 2D path-based graphics |\n| `@oroya/loader-gltf` | Load glTF models into an Oroya scene |\n\n> **Note:** `@oroya/renderer-three` and `@oroya/loader-gltf` have `three` as a peer dependency. Make sure it is installed in your project: `npm install three`.\n\n---\n\n## Quick Start - Rotating Cube\n\nThis minimal example creates a scene with a camera and a red cube, then renders it with Three.js.\n\n### 1. HTML\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n\u003Chead>\n  \u003Cmeta charset=\"UTF-8\" />\n  \u003Ctitle>Oroya Animate - Quick Start\u003C/title>\n  \u003Cstyle>\n    body { margin: 0; overflow: hidden; }\n    canvas { display: block; }\n  \u003C/style>\n\u003C/head>\n\u003Cbody>\n  \u003Ccanvas id=\"oroya-canvas\">\u003C/canvas>\n  \u003Cscript type=\"module\" src=\"./main.ts\">\u003C/script>\n\u003C/body>\n\u003C/html>\n```\n\n### 2. Scene Setup (`main.ts`)\n\n```typescript\nimport { Scene, Node, createBox, Material, Camera, CameraType } from '@oroya/core';\nimport { ThreeRenderer } from '@oroya/renderer-three';\n\n// --- Scene ---\nconst scene = new Scene();\n\n// --- Camera ---\nconst cameraNode = new Node('main-camera');\ncameraNode.addComponent(new Camera({\n  type: CameraType.Perspective,\n  fov: 75,\n  aspect: window.innerWidth / window.innerHeight,\n  near: 0.1,\n  far: 1000,\n}));\ncameraNode.transform.position.z = 5;\nscene.add(cameraNode);\n\n// --- Cube ---\nconst cubeNode = new Node('my-cube');\ncubeNode.addComponent(createBox(1, 1, 1));\ncubeNode.addComponent(new Material({ color: { r: 1, g: 0.2, b: 0.2 } }));\nscene.add(cubeNode);\n\n// --- Renderer ---\nconst canvas = document.getElementById('oroya-canvas') as HTMLCanvasElement;\nconst renderer = new ThreeRenderer({\n  canvas,\n  width: window.innerWidth,\n  height: window.innerHeight,\n});\nrenderer.mount(scene);\n\n// --- Animation loop ---\nfunction animate(time: number) {\n  time *= 0.001; // convert to seconds\n  requestAnimationFrame(animate);\n\n  const speed = 0.5;\n  cubeNode.transform.rotation.x = Math.sin(time * speed) * 2;\n  cubeNode.transform.rotation.y = Math.cos(time * speed) * 2;\n  cubeNode.transform.updateLocalMatrix();\n\n  renderer.render();\n}\nrequestAnimationFrame(animate);\n```\n\nThat's it - you should see a red cube rotating on screen.\n\n---\n\n## Key Concepts\n\n### Scene\n\nThe `Scene` is the top-level container. It holds a root `Node` and provides utility methods to add/remove nodes, traverse the graph, and update world matrices.\n\n```typescript\nconst scene = new Scene();\nscene.add(someNode);                    // add to root\nscene.add(childNode, parentNode);       // add under a specific parent\nscene.remove(someNode);                 // remove from its parent\nscene.findNodeByName('my-cube');        // search by name\nscene.findNodeById(id);                 // search by unique ID\nscene.traverse((node) => { /* ... */ });\n```\n\n### Nodes\n\nNodes are the building blocks of the scene graph. They form a parent-child hierarchy where children inherit the world transform of their parents.\n\n```typescript\nconst parent = new Node('solar-system');\nconst earth  = new Node('earth');\nconst moon   = new Node('moon');\n\nparent.add(earth);\nearth.add(moon);   // moon inherits earth's transform\n\nscene.add(parent);\n```\n\n### Components\n\nComponents attach data or behavior to nodes. Every node gets a `Transform` component by default.\n\n| Component | Description |\n|---|---|\n| **Transform** | Position (`Vec3`), rotation (`Quat`), and scale (`Vec3`). Call `updateLocalMatrix()` after mutating values. |\n| **Geometry** | Defines the shape of a node. Created via factory functions. |\n| **Material** | Defines appearance - color, opacity, fill/stroke (for SVG). |\n| **Camera** | Defines a viewpoint - Perspective (Orthographic planned). |\n\n```typescript\n// Adding components\nnode.addComponent(createBox(2, 2, 2));\nnode.addComponent(new Material({ color: { r: 0, g: 1, b: 0 }, opacity: 0.8 }));\n\n// Querying components\nnode.hasComponent(ComponentType.Geometry); // true\nconst geo = node.getComponent\u003CGeometry>(ComponentType.Geometry);\n```\n\n---\n\n## Geometry Primitives\n\nOroya provides factory functions for creating geometry components:\n\n### Box\n\n```typescript\nimport { createBox } from '@oroya/core';\n\nconst box = createBox(2, 1, 3); // width, height, depth\nnode.addComponent(box);\n```\n\n### Sphere\n\n```typescript\nimport { createSphere } from '@oroya/core';\n\nconst sphere = createSphere(0.5, 32, 32); // radius, widthSegments, heightSegments\nnode.addComponent(sphere);\n```\n\n### Path2D (for SVG rendering)\n\n```typescript\nimport { createPath2D } from '@oroya/core';\n\nconst triangle = createPath2D([\n  { command: 'moveTo', args: [50, 0] },\n  { command: 'lineTo', args: [100, 100] },\n  { command: 'lineTo', args: [0, 100] },\n  { command: 'closePath', args: [] },\n]);\nnode.addComponent(triangle);\n```\n\n---\n\n## Materials\n\nThe `Material` component controls the visual appearance of a node. Its properties adapt to the chosen renderer.\n\n```typescript\nimport { Material } from '@oroya/core';\n\n// For 3D (Three.js renderer)\nnode.addComponent(new Material({\n  color: { r: 0.2, g: 0.5, b: 1.0 },\n  opacity: 0.9,\n}));\n\n// For 2D (SVG renderer)\nnode.addComponent(new Material({\n  fill: { r: 1, g: 0.8, b: 0 },\n  stroke: { r: 0, g: 0, b: 0 },\n  strokeWidth: 2,\n}));\n```\n\nColors use the `ColorRGB` format where each channel ranges from `0` to `1`.\n\n---\n\n## Camera\n\nA camera defines the viewpoint from which the scene is rendered. Attach it to a node and position it using the node's transform.\n\n```typescript\nimport { Camera, CameraType } from '@oroya/core';\n\nconst cameraNode = new Node('camera');\ncameraNode.addComponent(new Camera({\n  type: CameraType.Perspective,\n  fov: 60,\n  aspect: 16 / 9,\n  near: 0.1,\n  far: 500,\n}));\n\n// Position and orientation\ncameraNode.transform.position = { x: 0, y: 3, z: 10 };\ncameraNode.transform.updateLocalMatrix();\n\nscene.add(cameraNode);\n```\n\nThe `ThreeRenderer` uses the first camera it finds in the scene. If none is present, it creates a default perspective camera at `z = 5`.\n\n---\n\n## Renderers\n\n### Three.js (WebGL)\n\nUse `@oroya/renderer-three` for interactive, high-performance 3D scenes.\n\n```typescript\nimport { ThreeRenderer } from '@oroya/renderer-three';\n\nconst renderer = new ThreeRenderer({\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\n  width: 800,\n  height: 600,\n  dpr: window.devicePixelRatio, // optional - defaults to devicePixelRatio\n});\n\nrenderer.mount(scene);\n\nfunction loop() {\n  renderer.render();\n  requestAnimationFrame(loop);\n}\nrequestAnimationFrame(loop);\n\n// Clean up when done\nrenderer.dispose();\n```\n\nThe renderer automatically adds ambient and directional lights to the Three.js scene so geometry is visible out of the box.\n\n### SVG\n\nUse `@oroya/renderer-svg` for scalable 2D vector output - ideal for documentation, icons, or static illustrations.\n\n```typescript\nimport { renderToSVG } from '@oroya/renderer-svg';\n\nconst svgString = renderToSVG(scene, {\n  width: 200,\n  height: 200,\n  viewBox: '0 0 200 200', // optional\n});\n\ndocument.getElementById('svg-container')!.innerHTML = svgString;\n```\n\n> SVG rendering only supports `Path2D` geometries. Use `createPath2D()` to define shapes.\n\n---\n\n## Scene Hierarchy Example\n\nTransforms propagate through the tree. A child's world matrix is the product of its parent's world matrix and its own local matrix.\n\n```typescript\nconst solarSystem = new Node('solar-system');\n\n// Sun at the origin\nconst sun = new Node('sun');\nsun.addComponent(createSphere(2, 32, 32));\nsun.addComponent(new Material({ color: { r: 1, g: 0.9, b: 0.2 } }));\nsolarSystem.add(sun);\n\n// Earth orbits the sun\nconst earth = new Node('earth');\nearth.addComponent(createSphere(0.5, 32, 32));\nearth.addComponent(new Material({ color: { r: 0.2, g: 0.5, b: 1.0 } }));\nearth.transform.position.x = 5;\nsolarSystem.add(earth);\n\n// Moon orbits the earth\nconst moon = new Node('moon');\nmoon.addComponent(createSphere(0.15, 16, 16));\nmoon.addComponent(new Material({ color: { r: 0.8, g: 0.8, b: 0.8 } }));\nmoon.transform.position.x = 1;\nearth.add(moon);\n\nscene.add(solarSystem);\n\n// In the animation loop, rotate the system\nfunction animate(time: number) {\n  time *= 0.001;\n  requestAnimationFrame(animate);\n\n  solarSystem.transform.rotation.y = time * 0.1;\n  solarSystem.transform.updateLocalMatrix();\n\n  earth.transform.rotation.y = time * 0.5;\n  earth.transform.updateLocalMatrix();\n\n  renderer.render();\n}\nrequestAnimationFrame(animate);\n```\n\n---\n\n## Loading glTF Models\n\nThe `@oroya/loader-gltf` package lets you load standard glTF/GLB files and convert them into Oroya scene nodes.\n\n```bash\nnpm install @oroya/loader-gltf three\n```\n\n```typescript\nimport { loadGLTF } from '@oroya/loader-gltf';\nimport { ThreeRenderer } from '@oroya/renderer-three';\n\nconst gltfScene = await loadGLTF('/models/robot.glb');\n\nconst renderer = new ThreeRenderer({\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\n  width: 800,\n  height: 600,\n});\nrenderer.mount(gltfScene);\n\nfunction loop() {\n  renderer.render();\n  requestAnimationFrame(loop);\n}\nrequestAnimationFrame(loop);\n```\n\n---\n\n## Serialization\n\nOroya scenes can be serialized to JSON and deserialized back, making it easy to save/load scenes or transmit them over the network.\n\n```typescript\nimport { serialize, deserialize } from '@oroya/core';\n\n// Save scene to JSON\nconst json = serialize(scene);\nlocalStorage.setItem('my-scene', json);\n\n// Load scene from JSON\nconst restored = deserialize(localStorage.getItem('my-scene')!);\nrenderer.mount(restored);\n```\n\n---\n\n## React Integration\n\nWrap Oroya in a React component to integrate it into your UI:\n\n```tsx\nimport { useEffect, useRef } from 'react';\nimport { Scene, Node, createBox, Material, Camera, CameraType } from '@oroya/core';\nimport { ThreeRenderer } from '@oroya/renderer-three';\n\nfunction OroyaCanvas({ scene }: { scene: Scene }) {\n  const canvasRef = useRef\u003CHTMLCanvasElement>(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const renderer = new ThreeRenderer({\n      canvas,\n      width: canvas.clientWidth,\n      height: canvas.clientHeight,\n    });\n    renderer.mount(scene);\n\n    let frameId: number;\n    const animate = (time: number) => {\n      time *= 0.001;\n      renderer.render();\n      frameId = requestAnimationFrame(animate);\n    };\n    frameId = requestAnimationFrame(animate);\n\n    return () => {\n      cancelAnimationFrame(frameId);\n      renderer.dispose();\n    };\n  }, [scene]);\n\n  return \u003Ccanvas ref={canvasRef} style={{ width: '100%', height: '100%' }} />;\n}\n\n// Usage\nfunction App() {\n  const scene = new Scene();\n\n  const cam = new Node('cam');\n  cam.addComponent(new Camera({\n    type: CameraType.Perspective, fov: 75,\n    aspect: 16 / 9, near: 0.1, far: 1000,\n  }));\n  cam.transform.position.z = 5;\n  scene.add(cam);\n\n  const cube = new Node('cube');\n  cube.addComponent(createBox(1, 1, 1));\n  cube.addComponent(new Material({ color: { r: 0.1, g: 0.6, b: 0.9 } }));\n  scene.add(cube);\n\n  return \u003COroyaCanvas scene={scene} />;\n}\n```\n\n---\n\n## Transform in Depth\n\nEvery `Node` has a `Transform` component with three properties:\n\n| Property | Type | Default | Description |\n|---|---|---|---|\n| `position` | `Vec3 { x, y, z }` | `{ 0, 0, 0 }` | Translation in 3D space |\n| `rotation` | `Quat { x, y, z, w }` | `{ 0, 0, 0, 1 }` | Rotation as a quaternion |\n| `scale` | `Vec3 { x, y, z }` | `{ 1, 1, 1 }` | Scale factors |\n\n**Important:** After modifying any transform property, call `updateLocalMatrix()` to recompute the local matrix. The renderer calls `scene.updateWorldMatrices()` each frame to propagate transforms down the hierarchy.\n\n```typescript\nconst node = new Node('box');\nnode.transform.position = { x: 2, y: 0, z: -3 };\nnode.transform.scale = { x: 2, y: 2, z: 2 };\nnode.transform.updateLocalMatrix();\n```\n\n---\n\n## Traversal and Search\n\nOroya provides multiple ways to navigate the scene graph:\n\n```typescript\n// Traverse all nodes depth-first\nscene.traverse((node) => {\n  console.log(node.name, node.id);\n});\n\n// Find a specific node\nconst cam = scene.findNodeByName('main-camera');\nconst node = scene.findNodeById('some-uuid');\n\n// Access the hierarchy\nconst parent = node.parent;           // Node | null\nconst children = node.children;       // Node[]\n```\n\n---\n\n## Next Steps\n\n- **[Architecture](architecture.md)** - Understand the design philosophy and module boundaries.\n- **[Renderers](renderers.md)** - Deep-dive into renderer implementations.\n- **[Scene Graph](scene-graph.md)** - Learn how the node hierarchy and transforms work.\n- **[Serialization](serialization.md)** - Full details on the JSON format.\n- **[API Reference](api-reference.md)** - Complete API documentation.\n- **[Contributing](contributing.md)** - How to contribute to Oroya Animate.","src/content/docs/getting-started.md","c1fb7b56cf3a4a3d",{"html":711,"metadata":712},"\u003Ch1 id=\"getting-started-with-oroya-animate\">Getting Started with Oroya Animate\u003C/h1>\n\u003Cp>Welcome! This guide will help you get your first 3D scene up and running using \u003Cstrong>Oroya Animate\u003C/strong>, a renderer-agnostic scene graph engine for the web.\u003C/p>\n\u003Cp>Oroya Animate separates your scene definition from the rendering backend. You describe your world once using \u003Ccode>@oroya/core\u003C/code> and then choose how to render it - WebGL via Three.js, SVG for static graphics, or any future backend.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"installation\">Installation\u003C/h2>\n\u003Cp>Install the packages you need from npm using your preferred package manager:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\"># npm\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">npm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> install\u003C/span>\u003Cspan style=\"color:#ECC48D\"> @oroya/core\u003C/span>\u003Cspan style=\"color:#ECC48D\"> @oroya/renderer-three\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\"># yarn\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">yarn\u003C/span>\u003Cspan style=\"color:#ECC48D\"> add\u003C/span>\u003Cspan style=\"color:#ECC48D\"> @oroya/core\u003C/span>\u003Cspan style=\"color:#ECC48D\"> @oroya/renderer-three\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\"># pnpm\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">pnpm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> add\u003C/span>\u003Cspan style=\"color:#ECC48D\"> @oroya/core\u003C/span>\u003Cspan style=\"color:#ECC48D\"> @oroya/renderer-three\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"available-packages\">Available packages\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Package\u003C/th>\u003Cth>Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003Ctd>Scene graph, nodes, components, serialization, math utilities\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>@oroya/renderer-three\u003C/code>\u003C/td>\u003Ctd>WebGL renderer powered by Three.js\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>@oroya/renderer-svg\u003C/code>\u003C/td>\u003Ctd>SVG renderer for 2D path-based graphics\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>@oroya/loader-gltf\u003C/code>\u003C/td>\u003Ctd>Load glTF models into an Oroya scene\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Note:\u003C/strong> \u003Ccode>@oroya/renderer-three\u003C/code> and \u003Ccode>@oroya/loader-gltf\u003C/code> have \u003Ccode>three\u003C/code> as a peer dependency. Make sure it is installed in your project: \u003Ccode>npm install three\u003C/code>.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"quick-start---rotating-cube\">Quick Start - Rotating Cube\u003C/h2>\n\u003Cp>This minimal example creates a scene with a camera and a red cube, then renders it with Three.js.\u003C/p>\n\u003Ch3 id=\"1-html\">1. HTML\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;!\u003C/span>\u003Cspan style=\"color:#CAECE6\">DOCTYPE\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> html\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">html\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> lang\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">en\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">head\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">meta\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> charset\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">UTF-8\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">title\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">Oroya Animate - Quick Start\u003C/span>\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">title\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">style\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF6363\">    body\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { \u003C/span>\u003Cspan style=\"color:#80CBC4\">margin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#80CBC4\">overflow\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF6363\">hidden\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF6363\">    canvas\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { \u003C/span>\u003Cspan style=\"color:#80CBC4\">display\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF6363\">block\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">style\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">head\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">body\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">canvas\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> id\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">oroya-canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">canvas\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">script\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">module\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> src\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">./main.ts\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">script\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">body\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">html\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"2-scene-setup-maints\">2. Scene Setup (\u003Ccode>main.ts\u003C/code>)\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene, Node, createBox, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-three\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// --- Scene ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// --- Camera ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cameraNode\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">main-camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cameraNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Perspective\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fov: \u003C/span>\u003Cspan style=\"color:#F78C6C\">75\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  aspect: window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHeight\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1000\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cameraNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">position\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">z\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cameraNode);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// --- Cube ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cubeNode\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">my-cube\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cubeNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cubeNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cubeNode);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// --- Renderer ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> canvas\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">oroya-canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB;font-style:italic\">  canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerHeight\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// --- Animation loop ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">time\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  time \u003C/span>\u003Cspan style=\"color:#C792EA\">*=\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.001\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// convert to seconds\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> speed\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cubeNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">rotation\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">x\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> speed) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cubeNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">rotation\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">y\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">cos\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> speed) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cubeNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(animate);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>That’s it - you should see a red cube rotating on screen.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"key-concepts\">Key Concepts\u003C/h2>\n\u003Ch3 id=\"scene\">Scene\u003C/h3>\n\u003Cp>The \u003Ccode>Scene\u003C/code> is the top-level container. It holds a root \u003Ccode>Node\u003C/code> and provides utility methods to add/remove nodes, traverse the graph, and update world matrices.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(someNode);                    \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// add to root\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(childNode, parentNode);       \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// add under a specific parent\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">remove\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(someNode);                 \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// remove from its parent\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">findNodeByName\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">my-cube\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);        \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// search by name\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">findNodeById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(id);                 \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// search by unique ID\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">traverse\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">node\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">/* ... */\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> });\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"nodes\">Nodes\u003C/h3>\n\u003Cp>Nodes are the building blocks of the scene graph. They form a parent-child hierarchy where children inherit the world transform of their parents.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> parent\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">solar-system\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> earth\u003C/span>\u003Cspan style=\"color:#C792EA\">  =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">earth\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> moon\u003C/span>\u003Cspan style=\"color:#C792EA\">   =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">moon\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">parent\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(earth);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">earth\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(moon);   \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// moon inherits earth's transform\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(parent);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"components\">Components\u003C/h3>\n\u003Cp>Components attach data or behavior to nodes. Every node gets a \u003Ccode>Transform\u003C/code> component by default.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Component\u003C/th>\u003Cth>Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>Transform\u003C/strong>\u003C/td>\u003Ctd>Position (\u003Ccode>Vec3\u003C/code>), rotation (\u003Ccode>Quat\u003C/code>), and scale (\u003Ccode>Vec3\u003C/code>). Call \u003Ccode>updateLocalMatrix()\u003C/code> after mutating values.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Geometry\u003C/strong>\u003C/td>\u003Ctd>Defines the shape of a node. Created via factory functions.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Material\u003C/strong>\u003C/td>\u003Ctd>Defines appearance - color, opacity, fill/stroke (for SVG).\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Camera\u003C/strong>\u003C/td>\u003Ctd>Defines a viewpoint - Perspective (Orthographic planned).\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Adding components\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }, opacity: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Querying components\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">hasComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(ComponentType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Geometry\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// true\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> geo\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getComponent\u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">Geometry\u003C/span>\u003Cspan style=\"color:#C792EA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">ComponentType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">Geometry\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"geometry-primitives\">Geometry Primitives\u003C/h2>\n\u003Cp>Oroya provides factory functions for creating geometry components:\u003C/p>\n\u003Ch3 id=\"box\">Box\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { createBox } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> box\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// width, height, depth\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(box);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"sphere\">Sphere\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { createSphere } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> sphere\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 32\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// radius, widthSegments, heightSegments\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(sphere);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"path2d-for-svg-rendering\">Path2D (for SVG rendering)\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { createPath2D } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> triangle\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createPath2D\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> command\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">moveTo\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> args\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> command\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">lineTo\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> args\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> command\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">lineTo\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> args\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> command\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">closePath\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> args\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> []\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(triangle);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"materials\">Materials\u003C/h2>\n\u003Cp>The \u003Ccode>Material\u003C/code> component controls the visual appearance of a node. Its properties adapt to the chosen renderer.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Material } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// For 3D (Three.js renderer)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  opacity: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// For 2D (SVG renderer)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Colors use the \u003Ccode>ColorRGB\u003C/code> format where each channel ranges from \u003Ccode>0\u003C/code> to \u003Ccode>1\u003C/code>.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"camera\">Camera\u003C/h2>\n\u003Cp>A camera defines the viewpoint from which the scene is rendered. Attach it to a node and position it using the node’s transform.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cameraNode\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cameraNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Perspective\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fov: \u003C/span>\u003Cspan style=\"color:#F78C6C\">60\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  aspect: \u003C/span>\u003Cspan style=\"color:#F78C6C\">16\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">500\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Position and orientation\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cameraNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">10\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cameraNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cameraNode);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>The \u003Ccode>ThreeRenderer\u003C/code> uses the first camera it finds in the scene. If none is present, it creates a default perspective camera at \u003Ccode>z = 5\u003C/code>.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"renderers\">Renderers\u003C/h2>\n\u003Ch3 id=\"threejs-webgl\">Three.js (WebGL)\u003C/h3>\n\u003Cp>Use \u003Ccode>@oroya/renderer-three\u003C/code> for interactive, high-performance 3D scenes.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-three\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 800\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 600\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  dpr\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">devicePixelRatio\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\"> // optional - defaults to devicePixelRatio\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> loop\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(loop);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(loop);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Clean up when done\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">dispose\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>The renderer automatically adds ambient and directional lights to the Three.js scene so geometry is visible out of the box.\u003C/p>\n\u003Ch3 id=\"svg\">SVG\u003C/h3>\n\u003Cp>Use \u003Ccode>@oroya/renderer-svg\u003C/code> for scalable 2D vector output - ideal for documentation, icons, or static illustrations.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-svg\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> svgString\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 200\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 200\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  viewBox\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">0 0 200 200\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\"> // optional\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">svg-container\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\">!\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHTML\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> svgString;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>SVG rendering only supports \u003Ccode>Path2D\u003C/code> geometries. Use \u003Ccode>createPath2D()\u003C/code> to define shapes.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"scene-hierarchy-example\">Scene Hierarchy Example\u003C/h2>\n\u003Cp>Transforms propagate through the tree. A child’s world matrix is the product of its parent’s world matrix and its own local matrix.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> solarSystem\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">solar-system\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Sun at the origin\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> sun\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">sun\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sun\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sun\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">solarSystem\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(sun);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Earth orbits the sun\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> earth\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">earth\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">earth\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">earth\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">earth\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">position\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">x\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">solarSystem\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(earth);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Moon orbits the earth\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> moon\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">moon\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">moon\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0.15\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">16\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">16\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">moon\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">moon\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">position\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">x\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">earth\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(moon);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(solarSystem);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// In the animation loop, rotate the system\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">time\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  time \u003C/span>\u003Cspan style=\"color:#C792EA\">*=\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.001\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  solarSystem\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">rotation\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">y\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> time \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  solarSystem\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  earth\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">rotation\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">y\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> time \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  earth\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(animate);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"loading-gltf-models\">Loading glTF Models\u003C/h2>\n\u003Cp>The \u003Ccode>@oroya/loader-gltf\u003C/code> package lets you load standard glTF/GLB files and convert them into Oroya scene nodes.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">npm\u003C/span>\u003Cspan style=\"color:#ECC48D\"> install\u003C/span>\u003Cspan style=\"color:#ECC48D\"> @oroya/loader-gltf\u003C/span>\u003Cspan style=\"color:#ECC48D\"> three\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { loadGLTF } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/loader-gltf\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-three\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> gltfScene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> await \u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">loadGLTF\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">/models/robot.glb\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 800\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 600\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(gltfScene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> loop\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(loop);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(loop);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"serialization\">Serialization\u003C/h2>\n\u003Cp>Oroya scenes can be serialized to JSON and deserialized back, making it easy to save/load scenes or transmit them over the network.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { serialize, deserialize } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Save scene to JSON\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> json\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> serialize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">localStorage\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">setItem\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">my-scene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, json);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Load scene from JSON\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> restored\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> deserialize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">localStorage\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getItem\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">my-scene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\">!\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(restored);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"react-integration\">React Integration\u003C/h2>\n\u003Cp>Wrap Oroya in a React component to integrate it into your UI:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"tsx\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { useEffect, useRef } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">react\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene, Node, createBox, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-three\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> OroyaCanvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB\">{ \u003C/span>\u003Cspan style=\"color:#D7DBE0\">scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> canvasRef\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> useRef\u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#C792EA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#FF5874;font-style:italic\">null\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  useEffect\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> canvas\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> canvasRef\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">current\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">    if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">!\u003C/span>\u003Cspan style=\"color:#D6DEEB\">canvas) \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">return\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB;font-style:italic\">      canvas\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">      width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> canvas\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">clientWidth\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">      height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> canvas\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">clientHeight\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> frameId\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> animate\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> (\u003C/span>\u003Cspan style=\"color:#D7DBE0;font-style:italic\">time\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> number\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB;font-style:italic\">      time\u003C/span>\u003Cspan style=\"color:#C792EA\"> *=\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.001\u003C/span>\u003Cspan style=\"color:#C792EA\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB;font-style:italic\">      renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#C792EA\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB;font-style:italic\">      frameId\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">animate\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    frameId \u003C/span>\u003Cspan style=\"color:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">    return\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> ()\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">      cancelAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(frameId);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">dispose\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [scene]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  return\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">canvas\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> ref\u003C/span>\u003Cspan style=\"color:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#D3423E\">{\u003C/span>\u003Cspan style=\"color:#D6DEEB\">canvasRef\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> style\u003C/span>\u003Cspan style=\"color:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#D3423E\">{\u003C/span>\u003Cspan style=\"color:#7FDBCA\">{ width: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">100%\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> height: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">100%\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> }\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Usage\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> App\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">cam\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Perspective\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> fov: \u003C/span>\u003Cspan style=\"color:#F78C6C\">75\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    aspect: \u003C/span>\u003Cspan style=\"color:#F78C6C\">16\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 9\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1000\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">position\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">z\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cube\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">cube\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cube);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  return\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> &#x3C;\u003C/span>\u003Cspan style=\"color:#F78C6C\">OroyaCanvas\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#D3423E\">{\u003C/span>\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"transform-in-depth\">Transform in Depth\u003C/h2>\n\u003Cp>Every \u003Ccode>Node\u003C/code> has a \u003Ccode>Transform\u003C/code> component with three properties:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Property\u003C/th>\u003Cth>Type\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>position\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Vec3 { x, y, z }\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{ 0, 0, 0 }\u003C/code>\u003C/td>\u003Ctd>Translation in 3D space\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>rotation\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Quat { x, y, z, w }\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{ 0, 0, 0, 1 }\u003C/code>\u003C/td>\u003Ctd>Rotation as a quaternion\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>scale\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Vec3 { x, y, z }\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{ 1, 1, 1 }\u003C/code>\u003C/td>\u003Ctd>Scale factors\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>\u003Cstrong>Important:\u003C/strong> After modifying any transform property, call \u003Ccode>updateLocalMatrix()\u003C/code> to recompute the local matrix. The renderer calls \u003Ccode>scene.updateWorldMatrices()\u003C/code> each frame to propagate transforms down the hierarchy.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">box\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">scale\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"traversal-and-search\">Traversal and Search\u003C/h2>\n\u003Cp>Oroya provides multiple ways to navigate the scene graph:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Traverse all nodes depth-first\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">traverse\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">node\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">id\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Find a specific node\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">findNodeByName\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">main-camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">findNodeById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">some-uuid\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Access the hierarchy\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> parent\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">parent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;           \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Node | null\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> children\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">children\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;       \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Node[]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"next-steps\">Next Steps\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Cstrong>\u003Ca href=\"architecture.md\">Architecture\u003C/a>\u003C/strong> - Understand the design philosophy and module boundaries.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ca href=\"renderers.md\">Renderers\u003C/a>\u003C/strong> - Deep-dive into renderer implementations.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ca href=\"scene-graph.md\">Scene Graph\u003C/a>\u003C/strong> - Learn how the node hierarchy and transforms work.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ca href=\"serialization.md\">Serialization\u003C/a>\u003C/strong> - Full details on the JSON format.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ca href=\"api-reference.md\">API Reference\u003C/a>\u003C/strong> - Complete API documentation.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ca href=\"contributing.md\">Contributing\u003C/a>\u003C/strong> - How to contribute to Oroya Animate.\u003C/li>\n\u003C/ul>",{"headings":713,"localImagePaths":788,"remoteImagePaths":789,"frontmatter":790,"imagePaths":791},[714,717,720,723,726,729,732,735,736,739,742,745,748,751,754,757,760,761,764,767,770,773,776,779,782,785],{"depth":26,"slug":715,"text":716},"getting-started-with-oroya-animate","Getting Started with Oroya Animate",{"depth":28,"slug":718,"text":719},"installation","Installation",{"depth":35,"slug":721,"text":722},"available-packages","Available packages",{"depth":28,"slug":724,"text":725},"quick-start---rotating-cube","Quick Start - Rotating Cube",{"depth":35,"slug":727,"text":728},"1-html","1. HTML",{"depth":35,"slug":730,"text":731},"2-scene-setup-maints","2. Scene Setup (main.ts)",{"depth":28,"slug":733,"text":734},"key-concepts","Key Concepts",{"depth":35,"slug":45,"text":46},{"depth":35,"slug":737,"text":738},"nodes","Nodes",{"depth":35,"slug":740,"text":741},"components","Components",{"depth":28,"slug":743,"text":744},"geometry-primitives","Geometry Primitives",{"depth":35,"slug":746,"text":747},"box","Box",{"depth":35,"slug":749,"text":750},"sphere","Sphere",{"depth":35,"slug":752,"text":753},"path2d-for-svg-rendering","Path2D (for SVG rendering)",{"depth":28,"slug":755,"text":756},"materials","Materials",{"depth":28,"slug":758,"text":759},"camera","Camera",{"depth":28,"slug":519,"text":522},{"depth":35,"slug":762,"text":763},"threejs-webgl","Three.js (WebGL)",{"depth":35,"slug":765,"text":766},"svg","SVG",{"depth":28,"slug":768,"text":769},"scene-hierarchy-example","Scene Hierarchy Example",{"depth":28,"slug":771,"text":772},"loading-gltf-models","Loading glTF Models",{"depth":28,"slug":774,"text":775},"serialization","Serialization",{"depth":28,"slug":777,"text":778},"react-integration","React Integration",{"depth":28,"slug":780,"text":781},"transform-in-depth","Transform in Depth",{"depth":28,"slug":783,"text":784},"traversal-and-search","Traversal and Search",{"depth":28,"slug":786,"text":787},"next-steps","Next Steps",[],[],{"title":704,"description":705,"order":26,"category":706},[],"scene-graph",{"id":792,"data":794,"body":797,"filePath":798,"digest":799,"rendered":800},{"title":795,"description":796,"order":35,"category":372},"Scene Graph","Node hierarchy, transform system, and the ECS component model","# Scene Graph & Transformaciones\r\n\r\nEl Scene Graph es la estructura de datos central de Oroya Animate. Es un árbol jerárquico que gestiona las relaciones espaciales entre todos los objetos de la escena.\r\n\r\n---\r\n\r\n## Tabla de contenidos\r\n\r\n- [Estructura del árbol](#estructura-del-árbol)\r\n- [Jerarquía padre-hijo](#jerarquía-padre-hijo)\r\n- [Sistema de transformaciones](#sistema-de-transformaciones)\r\n- [Propagación de matrices](#propagación-de-matrices)\r\n- [Componentes (ECS)](#componentes-ecs)\r\n- [Operaciones sobre el árbol](#operaciones-sobre-el-árbol)\r\n- [Patrones avanzados](#patrones-avanzados)\r\n\r\n---\r\n\r\n## Estructura del árbol\r\n\r\nToda `Scene` tiene un nodo `root` que es la raíz del árbol. Todos los demás nodos son hijos o descendientes de este root.\r\n\r\n```mermaid\r\ngraph TD\r\n    ROOT[\"root (Node)\"]\r\n    ROOT --> CAM[\"camera (Node)\\n📷 Camera + Transform\"]\r\n    ROOT --> ENV[\"environment (Node)\\n🔲 Transform\"]\r\n    ENV --> FLOOR[\"floor (Node)\\n📦 Geometry + Material + Transform\"]\r\n    ENV --> PLAYER[\"player (Node)\\n📦 Geometry + Material + Transform\"]\r\n    PLAYER --> WEAPON[\"weapon (Node)\\n📦 Geometry + Material + Transform\"]\r\n    ROOT --> LIGHT[\"light (Node)\\n💡 (futuro) Light + Transform\"]\r\n```\r\n\r\n### Reglas del árbol\r\n\r\n| Regla | Descripción |\r\n|-------|-------------|\r\n| **Raíz única** | La escena siempre tiene exactamente un nodo `root` |\r\n| **Un padre por nodo** | Un nodo solo puede tener un padre a la vez |\r\n| **Re-parenting automático** | Si un nodo con padre se agrega a otro padre, se remueve del anterior automáticamente |\r\n| **Transform obligatorio** | Todos los nodos tienen un `Transform` creado automáticamente |\r\n| **Nodos vacíos permitidos** | Un nodo puede existir sin Geometry ni Material — útil como contenedor/pivote |\r\n\r\n---\r\n\r\n## Jerarquía padre-hijo\r\n\r\n### Agregar nodos\r\n\r\n```typescript\r\nconst scene = new Scene();\r\n\r\n// Agregar directamente al root\r\nconst parent = new Node('parent');\r\nscene.add(parent);\r\n\r\n// Agregar como hijo de otro nodo\r\nconst child = new Node('child');\r\nscene.add(child, parent);  // Equivalente a: parent.add(child)\r\n\r\n// También funciona directo sobre el nodo\r\nconst grandchild = new Node('grandchild');\r\nchild.add(grandchild);\r\n```\r\n\r\n### Remover nodos\r\n\r\n```typescript\r\nscene.remove(child);           // Remueve del padre (dondequiera que esté)\r\nparent.remove(child);          // Remueve solo si es hijo directo\r\n```\r\n\r\n### Re-parenting\r\n\r\nCuando agregas un nodo que ya tiene padre a otro padre, se remueve del anterior automáticamente:\r\n\r\n```typescript\r\nconst groupA = new Node('group-a');\r\nconst groupB = new Node('group-b');\r\nconst box = new Node('box');\r\n\r\ngroupA.add(box);\r\nconsole.log(box.parent?.name); // 'group-a'\r\n\r\ngroupB.add(box);  // Se remueve de groupA automáticamente\r\nconsole.log(box.parent?.name); // 'group-b'\r\nconsole.log(groupA.children.length); // 0\r\n```\r\n\r\n---\r\n\r\n## Sistema de transformaciones\r\n\r\nCada nodo tiene un componente `Transform` con tres propiedades que definen su posición en espacio local:\r\n\r\n```mermaid\r\ngraph LR\r\n    subgraph \"Transform\"\r\n        P[\"position\\n{x, y, z}\"]\r\n        R[\"rotation\\n{x, y, z, w}\\n(quaternion)\"]\r\n        S[\"scale\\n{x, y, z}\"]\r\n    end\r\n\r\n    subgraph \"Matrices\"\r\n        LM[\"localMatrix\\n(4×4)\"]\r\n        WM[\"worldMatrix\\n(4×4)\"]\r\n    end\r\n\r\n    P -->|\"composeMatrix()\"| LM\r\n    R -->|\"composeMatrix()\"| LM\r\n    S -->|\"composeMatrix()\"| LM\r\n    LM -->|\"× parent.worldMatrix\"| WM\r\n```\r\n\r\n### Propiedades del Transform\r\n\r\n| Propiedad | Tipo | Default | Descripción |\r\n|-----------|------|---------|-------------|\r\n| `position` | `Vec3 {x, y, z}` | `{0, 0, 0}` | Desplazamiento relativo al padre |\r\n| `rotation` | `Quat {x, y, z, w}` | `{0, 0, 0, 1}` | Rotación como quaternion |\r\n| `scale` | `Vec3 {x, y, z}` | `{1, 1, 1}` | Factor de escala |\r\n| `localMatrix` | `Matrix4 (16 números)` | Identidad | Calculada de position + rotation + scale |\r\n| `worldMatrix` | `Matrix4 (16 números)` | Identidad | Calculada: parent.worldMatrix × localMatrix |\r\n| `isDirty` | `boolean` | `true` | Flag para optimización de recálculo |\r\n\r\n### Espacio local vs espacio del mundo\r\n\r\n| Concepto | Definición | Ejemplo |\r\n|----------|-----------|---------|\r\n| **Espacio local** | Coordenadas relativas al padre | `position = {x: 2, y: 0, z: 0}` → 2 unidades a la derecha del padre |\r\n| **Espacio del mundo** | Coordenadas absolutas en la escena | Si el padre está en `{x: 5, ...}`, la posición mundo del hijo es `{x: 7, ...}` |\r\n\r\n```\r\nEscena:\r\n  root (world: 0,0,0)\r\n  └── car (local: 10,0,0 → world: 10,0,0)\r\n      └── wheel (local: -1,-0.5,0 → world: 9,-0.5,0)\r\n          └── hubcap (local: 0,0,0.1 → world: 9,-0.5,0.1)\r\n```\r\n\r\n### Actualizar transforms\r\n\r\nDespués de modificar `position`, `rotation` o `scale`, **debes** llamar a `updateLocalMatrix()`:\r\n\r\n```typescript\r\n// ❌ Incorrecto — la matriz local no refleja el cambio\r\nnode.transform.position.x = 5;\r\n\r\n// ✅ Correcto — recalcula la matriz local\r\nnode.transform.position.x = 5;\r\nnode.transform.updateLocalMatrix();\r\n```\r\n\r\nLa world matrix se recalcula automáticamente por `renderer.render()` o manualmente con:\r\n\r\n```typescript\r\nscene.updateWorldMatrices();\r\n```\r\n\r\n---\r\n\r\n## Propagación de matrices\r\n\r\nEl algoritmo de propagación recorre el árbol en **DFS pre-order** y calcula la world matrix de cada nodo:\r\n\r\n```mermaid\r\ngraph TD\r\n    ROOT[\"root\\nworldMatrix = localMatrix\"]\r\n    A[\"Node A\\nworldMatrix = root.world × A.local\"]\r\n    B[\"Node B\\nworldMatrix = root.world × B.local\"]\r\n    C[\"Node C\\nworldMatrix = A.world × C.local\"]\r\n    D[\"Node D\\nworldMatrix = A.world × D.local\"]\r\n    E[\"Node E\\nworldMatrix = B.world × E.local\"]\r\n\r\n    ROOT --> A\r\n    ROOT --> B\r\n    A --> C\r\n    A --> D\r\n    B --> E\r\n```\r\n\r\n### Pseudocódigo del algoritmo\r\n\r\n```typescript\r\nfunction updateWorldMatrix(node: Node, parentWorldMatrix?: Matrix4): void {\r\n  // 1. Si el transform fue modificado, recalcular la matriz local\r\n  if (node.transform.isDirty) {\r\n    node.transform.updateLocalMatrix();\r\n  }\r\n\r\n  // 2. Calcular la world matrix\r\n  if (parentWorldMatrix) {\r\n    node.transform.worldMatrix = multiplyMatrices(parentWorldMatrix, node.transform.localMatrix);\r\n  } else {\r\n    node.transform.worldMatrix = node.transform.localMatrix;\r\n  }\r\n\r\n  node.transform.isDirty = false;\r\n\r\n  // 3. Propagar a todos los hijos\r\n  for (const child of node.children) {\r\n    updateWorldMatrix(child, node.transform.worldMatrix);\r\n  }\r\n}\r\n```\r\n\r\n### Ejemplo numérico\r\n\r\n```\r\nPadre: position = {x: 3, y: 0, z: 0}\r\nHijo:  position = {x: 2, y: 1, z: 0}\r\n\r\nlocalMatrix(padre)  → traslación (3, 0, 0)\r\nlocalMatrix(hijo)   → traslación (2, 1, 0)\r\n\r\nworldMatrix(padre)  = localMatrix(padre)       → (3, 0, 0) en mundo\r\nworldMatrix(hijo)   = worldMatrix(padre) × localMatrix(hijo)\r\n                    = traslación(3,0,0) × traslación(2,1,0)\r\n                    → (5, 1, 0) en mundo  ✅\r\n```\r\n\r\n---\r\n\r\n## Componentes (ECS)\r\n\r\nLos nodos son contenedores vacíos hasta que se les agregan componentes. Esto sigue un patrón **Entity-Component System (ECS) simplificado**.\r\n\r\n```mermaid\r\nclassDiagram\r\n    class Node {\r\n        +id: string\r\n        +name: string\r\n        +components: Map\r\n        +addComponent()\r\n        +getComponent()\r\n        +hasComponent()\r\n    }\r\n\r\n    class Component {\r\n        \u003C\u003Cabstract>>\r\n        +type: ComponentType\r\n        +node: Node\r\n    }\r\n\r\n    class Transform {\r\n        +position: Vec3\r\n        +rotation: Quat\r\n        +scale: Vec3\r\n    }\r\n\r\n    class Geometry {\r\n        +definition: GeometryDef\r\n    }\r\n\r\n    class Material {\r\n        +definition: MaterialDef\r\n    }\r\n\r\n    class Camera {\r\n        +definition: CameraDef\r\n    }\r\n\r\n    Node \"1\" --> \"*\" Component : components\r\n    Component \u003C|-- Transform\r\n    Component \u003C|-- Geometry\r\n    Component \u003C|-- Material\r\n    Component \u003C|-- Camera\r\n```\r\n\r\n### Tipos de componentes\r\n\r\n| Componente | `ComponentType` | Auto-creado | Descripción |\r\n|------------|-----------------|-------------|-------------|\r\n| `Transform` | `Transform` | ✅ Sí | Posición, rotación, escala, matrices |\r\n| `Geometry` | `Geometry` | ❌ No | Forma geométrica (Box, Sphere, Path2D) |\r\n| `Material` | `Material` | ❌ No | Apariencia visual (color, opacidad, fill, stroke) |\r\n| `Camera` | `Camera` | ❌ No | Punto de vista (Perspective; Orthographic planned) |\r\n\r\n### Operaciones con componentes\r\n\r\n```typescript\r\nconst node = new Node('player');\r\n\r\n// Agregar\r\nnode.addComponent(createBox(1, 2, 1));\r\nnode.addComponent(new Material({ color: { r: 0, g: 0.8, b: 0.5 } }));\r\n\r\n// Consultar\r\nconst geo = node.getComponent\u003CGeometry>(ComponentType.Geometry);\r\nconsole.log(geo?.definition.type); // 'Box'\r\n\r\n// Verificar\r\nif (node.hasComponent(ComponentType.Camera)) {\r\n  console.log('Es una cámara');\r\n}\r\n\r\n// Reemplazar (mismo tipo = sobreescribe)\r\nnode.addComponent(createSphere(1, 32, 32)); // Reemplaza el Box por una Sphere\r\n```\r\n\r\n> **Regla:** Máximo **un componente por tipo** por nodo. Agregar un segundo componente del mismo tipo reemplaza al anterior silenciosamente.\r\n\r\n---\r\n\r\n## Operaciones sobre el árbol\r\n\r\n### Traversal (recorrido)\r\n\r\nRecorre el árbol completo en DFS pre-order:\r\n\r\n```typescript\r\n// Recorrer toda la escena\r\nscene.traverse(node => {\r\n  console.log(node.name, node.children.length);\r\n});\r\n\r\n// Recorrer solo a partir de un nodo\r\nsomeNode.traverse(descendant => {\r\n  // Solo visita someNode y sus descendientes\r\n});\r\n```\r\n\r\n### Búsqueda\r\n\r\n```typescript\r\n// Por UUID (único, garantizado)\r\nconst node = scene.findNodeById('550e8400-e29b-41d4-a716-446655440000');\r\n\r\n// Por nombre (retorna el primero encontrado)\r\nconst camera = scene.findNodeByName('main-camera');\r\n```\r\n\r\n### Conteo de nodos\r\n\r\n```typescript\r\nlet count = 0;\r\nscene.traverse(() => count++);\r\nconsole.log(`La escena tiene ${count} nodos`);\r\n```\r\n\r\n---\r\n\r\n## Patrones avanzados\r\n\r\n### Nodo pivote (para órbitas)\r\n\r\nUn nodo vacío cuya rotación genera una órbita para sus hijos:\r\n\r\n```\r\nSol (esfera)\r\n└── earthPivot (vacío, rota en Y)\r\n    └── Tierra (esfera, desplazada en X)\r\n        └── moonPivot (vacío, rota más rápido)\r\n            └── Luna (esfera, desplazada en X)\r\n```\r\n\r\n```typescript\r\nconst earthPivot = new Node('earth-pivot'); // Sin geometría\r\nsun.add(earthPivot);\r\n\r\nconst earth = new Node('earth');\r\nearth.transform.position = { x: 5, y: 0, z: 0 }; // Distancia orbital\r\nearthPivot.add(earth);\r\n\r\n// Al rotar el pivot, la Tierra orbita el Sol\r\nearthPivot.transform.rotation = rotateY(angle);\r\nearthPivot.transform.updateLocalMatrix();\r\n```\r\n\r\n### Nodo grupo (para organización)\r\n\r\n```typescript\r\nconst ui = new Node('ui-layer');\r\nconst world = new Node('world-layer');\r\n\r\nscene.add(ui);\r\nscene.add(world);\r\n\r\n// Todos los elementos del mundo bajo un grupo\r\nworld.add(terrain);\r\nworld.add(buildings);\r\nworld.add(characters);\r\n\r\n// Esconder todo el mundo de golpe (futuro: visibility component)\r\nscene.remove(world); // Todo el grupo desaparece\r\n```\r\n\r\n### Cámara adjunta a un nodo\r\n\r\nLa cámara hereda el transform de su padre:\r\n\r\n```typescript\r\nconst character = new Node('character');\r\nscene.add(character);\r\n\r\nconst followCam = new Node('follow-cam');\r\nfollowCam.addComponent(new Camera({...}));\r\nfollowCam.transform.position = { x: 0, y: 3, z: 8 }; // Offset relativo\r\ncharacter.add(followCam);\r\n\r\n// Cuando el personaje se mueve, la cámara lo sigue automáticamente\r\n```\r\n\r\n### Snapshot del estado\r\n\r\nCapturar posiciones de todos los nodos:\r\n\r\n```typescript\r\nconst snapshot = new Map\u003Cstring, Vec3>();\r\n\r\nscene.traverse(node => {\r\n  const wm = node.transform.worldMatrix;\r\n  snapshot.set(node.id, {\r\n    x: wm[12], // posición X del mundo\r\n    y: wm[13], // posición Y del mundo\r\n    z: wm[14], // posición Z del mundo\r\n  });\r\n});\r\n```","src/content/docs/scene-graph.md","af26cd0f6c7f9e26",{"html":801,"metadata":802},"\u003Ch1 id=\"scene-graph--transformaciones\">Scene Graph &#x26; Transformaciones\u003C/h1>\n\u003Cp>El Scene Graph es la estructura de datos central de Oroya Animate. Es un árbol jerárquico que gestiona las relaciones espaciales entre todos los objetos de la escena.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"tabla-de-contenidos\">Tabla de contenidos\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#estructura-del-%C3%A1rbol\">Estructura del árbol\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#jerarqu%C3%ADa-padre-hijo\">Jerarquía padre-hijo\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#sistema-de-transformaciones\">Sistema de transformaciones\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#propagaci%C3%B3n-de-matrices\">Propagación de matrices\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#componentes-ecs\">Componentes (ECS)\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#operaciones-sobre-el-%C3%A1rbol\">Operaciones sobre el árbol\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#patrones-avanzados\">Patrones avanzados\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"estructura-del-árbol\">Estructura del árbol\u003C/h2>\n\u003Cp>Toda \u003Ccode>Scene\u003C/code> tiene un nodo \u003Ccode>root\u003C/code> que es la raíz del árbol. Todos los demás nodos son hijos o descendientes de este root.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ROOT[\"root (Node)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ROOT --> CAM[\"camera (Node)\\n📷 Camera + Transform\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ROOT --> ENV[\"environment (Node)\\n🔲 Transform\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ENV --> FLOOR[\"floor (Node)\\n📦 Geometry + Material + Transform\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ENV --> PLAYER[\"player (Node)\\n📦 Geometry + Material + Transform\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    PLAYER --> WEAPON[\"weapon (Node)\\n📦 Geometry + Material + Transform\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ROOT --> LIGHT[\"light (Node)\\n💡 (futuro) Light + Transform\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"reglas-del-árbol\">Reglas del árbol\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Regla\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>Raíz única\u003C/strong>\u003C/td>\u003Ctd>La escena siempre tiene exactamente un nodo \u003Ccode>root\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Un padre por nodo\u003C/strong>\u003C/td>\u003Ctd>Un nodo solo puede tener un padre a la vez\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Re-parenting automático\u003C/strong>\u003C/td>\u003Ctd>Si un nodo con padre se agrega a otro padre, se remueve del anterior automáticamente\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Transform obligatorio\u003C/strong>\u003C/td>\u003Ctd>Todos los nodos tienen un \u003Ccode>Transform\u003C/code> creado automáticamente\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Nodos vacíos permitidos\u003C/strong>\u003C/td>\u003Ctd>Un nodo puede existir sin Geometry ni Material — útil como contenedor/pivote\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"jerarquía-padre-hijo\">Jerarquía padre-hijo\u003C/h2>\n\u003Ch3 id=\"agregar-nodos\">Agregar nodos\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Agregar directamente al root\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> parent\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">parent\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(parent);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Agregar como hijo de otro nodo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> child\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">child\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(child, parent);  \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Equivalente a: parent.add(child)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// También funciona directo sobre el nodo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> grandchild\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">grandchild\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">child\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(grandchild);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"remover-nodos\">Remover nodos\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">remove\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(child);           \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Remueve del padre (dondequiera que esté)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">parent\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">remove\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(child);          \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Remueve solo si es hijo directo\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"re-parenting\">Re-parenting\u003C/h3>\n\u003Cp>Cuando agregas un nodo que ya tiene padre a otro padre, se remueve del anterior automáticamente:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> groupA\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">group-a\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> groupB\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">group-b\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> box\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">box\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">groupA\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(box);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(box\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">parent\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">?.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// 'group-a'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">groupB\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(box);  \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Se remueve de groupA automáticamente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(box\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">parent\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">?.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// 'group-b'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(groupA\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">children\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#7FDBCA\">length\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// 0\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"sistema-de-transformaciones\">Sistema de transformaciones\u003C/h2>\n\u003Cp>Cada nodo tiene un componente \u003Ccode>Transform\u003C/code> con tres propiedades que definen su posición en espacio local:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Transform\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        P[\"position\\n{x, y, z}\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        R[\"rotation\\n{x, y, z, w}\\n(quaternion)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        S[\"scale\\n{x, y, z}\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    subgraph \"Matrices\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        LM[\"localMatrix\\n(4×4)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        WM[\"worldMatrix\\n(4×4)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    P -->|\"composeMatrix()\"| LM\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    R -->|\"composeMatrix()\"| LM\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    S -->|\"composeMatrix()\"| LM\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    LM -->|\"× parent.worldMatrix\"| WM\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"propiedades-del-transform\">Propiedades del Transform\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Propiedad\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>position\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Vec3 {x, y, z}\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{0, 0, 0}\u003C/code>\u003C/td>\u003Ctd>Desplazamiento relativo al padre\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>rotation\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Quat {x, y, z, w}\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{0, 0, 0, 1}\u003C/code>\u003C/td>\u003Ctd>Rotación como quaternion\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>scale\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Vec3 {x, y, z}\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{1, 1, 1}\u003C/code>\u003C/td>\u003Ctd>Factor de escala\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>localMatrix\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Matrix4 (16 números)\u003C/code>\u003C/td>\u003Ctd>Identidad\u003C/td>\u003Ctd>Calculada de position + rotation + scale\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>worldMatrix\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Matrix4 (16 números)\u003C/code>\u003C/td>\u003Ctd>Identidad\u003C/td>\u003Ctd>Calculada: parent.worldMatrix × localMatrix\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>isDirty\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>true\u003C/code>\u003C/td>\u003Ctd>Flag para optimización de recálculo\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"espacio-local-vs-espacio-del-mundo\">Espacio local vs espacio del mundo\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Concepto\u003C/th>\u003Cth>Definición\u003C/th>\u003Cth>Ejemplo\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>Espacio local\u003C/strong>\u003C/td>\u003Ctd>Coordenadas relativas al padre\u003C/td>\u003Ctd>\u003Ccode>position = {x: 2, y: 0, z: 0}\u003C/code> → 2 unidades a la derecha del padre\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Espacio del mundo\u003C/strong>\u003C/td>\u003Ctd>Coordenadas absolutas en la escena\u003C/td>\u003Ctd>Si el padre está en \u003Ccode>{x: 5, ...}\u003C/code>, la posición mundo del hijo es \u003Ccode>{x: 7, ...}\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>Escena:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  root (world: 0,0,0)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  └── car (local: 10,0,0 → world: 10,0,0)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>      └── wheel (local: -1,-0.5,0 → world: 9,-0.5,0)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>          └── hubcap (local: 0,0,0.1 → world: 9,-0.5,0.1)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"actualizar-transforms\">Actualizar transforms\u003C/h3>\n\u003Cp>Después de modificar \u003Ccode>position\u003C/code>, \u003Ccode>rotation\u003C/code> o \u003Ccode>scale\u003C/code>, \u003Cstrong>debes\u003C/strong> llamar a \u003Ccode>updateLocalMatrix()\u003C/code>:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ❌ Incorrecto — la matriz local no refleja el cambio\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">position\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">x\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ✅ Correcto — recalcula la matriz local\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">position\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">x\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>La world matrix se recalcula automáticamente por \u003Ccode>renderer.render()\u003C/code> o manualmente con:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateWorldMatrices\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"propagación-de-matrices\">Propagación de matrices\u003C/h2>\n\u003Cp>El algoritmo de propagación recorre el árbol en \u003Cstrong>DFS pre-order\u003C/strong> y calcula la world matrix de cada nodo:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ROOT[\"root\\nworldMatrix = localMatrix\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    A[\"Node A\\nworldMatrix = root.world × A.local\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    B[\"Node B\\nworldMatrix = root.world × B.local\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    C[\"Node C\\nworldMatrix = A.world × C.local\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    D[\"Node D\\nworldMatrix = A.world × D.local\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    E[\"Node E\\nworldMatrix = B.world × E.local\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ROOT --> A\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ROOT --> B\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    A --> C\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    A --> D\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    B --> E\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"pseudocódigo-del-algoritmo\">Pseudocódigo del algoritmo\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> updateWorldMatrix\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">node\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">parentWorldMatrix\u003C/span>\u003Cspan style=\"color:#7FDBCA\">?:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Matrix4\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // 1. Si el transform fue modificado, recalcular la matriz local\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">isDirty\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // 2. Calcular la world matrix\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (parentWorldMatrix) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">worldMatrix\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> multiplyMatrices\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(parentWorldMatrix\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">localMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  } \u003C/span>\u003Cspan style=\"color:#C792EA\">else\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">worldMatrix\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">localMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">isDirty\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#FF5874\"> false\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // 3. Propagar a todos los hijos\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  for\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> child\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> of\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">children\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">    updateWorldMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(child\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">worldMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"ejemplo-numérico\">Ejemplo numérico\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>Padre: position = {x: 3, y: 0, z: 0}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Hijo:  position = {x: 2, y: 1, z: 0}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>localMatrix(padre)  → traslación (3, 0, 0)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>localMatrix(hijo)   → traslación (2, 1, 0)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>worldMatrix(padre)  = localMatrix(padre)       → (3, 0, 0) en mundo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>worldMatrix(hijo)   = worldMatrix(padre) × localMatrix(hijo)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                    = traslación(3,0,0) × traslación(2,1,0)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                    → (5, 1, 0) en mundo  ✅\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"componentes-ecs\">Componentes (ECS)\u003C/h2>\n\u003Cp>Los nodos son contenedores vacíos hasta que se les agregan componentes. Esto sigue un patrón \u003Cstrong>Entity-Component System (ECS) simplificado\u003C/strong>.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">classDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    class Node {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +id: string\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +name: string\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +components: Map\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +addComponent()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +getComponent()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +hasComponent()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    class Component {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        &#x3C;&#x3C;abstract>>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +type: ComponentType\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +node: Node\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    class Transform {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +position: Vec3\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +rotation: Quat\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +scale: Vec3\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    class Geometry {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +definition: GeometryDef\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    class Material {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +definition: MaterialDef\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    class Camera {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        +definition: CameraDef\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Node \"1\" --> \"*\" Component : components\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Component &#x3C;|-- Transform\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Component &#x3C;|-- Geometry\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Component &#x3C;|-- Material\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Component &#x3C;|-- Camera\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"tipos-de-componentes\">Tipos de componentes\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Componente\u003C/th>\u003Cth>\u003Ccode>ComponentType\u003C/code>\u003C/th>\u003Cth>Auto-creado\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>✅ Sí\u003C/td>\u003Ctd>Posición, rotación, escala, matrices\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Geometry\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Geometry\u003C/code>\u003C/td>\u003Ctd>❌ No\u003C/td>\u003Ctd>Forma geométrica (Box, Sphere, Path2D)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>❌ No\u003C/td>\u003Ctd>Apariencia visual (color, opacidad, fill, stroke)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>❌ No\u003C/td>\u003Ctd>Punto de vista (Perspective; Orthographic planned)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"operaciones-con-componentes\">Operaciones con componentes\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">player\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Agregar\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Consultar\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> geo\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getComponent\u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">Geometry\u003C/span>\u003Cspan style=\"color:#C792EA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">ComponentType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">Geometry\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(geo\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">?.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">definition\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">type\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// 'Box'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Verificar\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">hasComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(ComponentType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Es una cámara\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Reemplazar (mismo tipo = sobreescribe)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Reemplaza el Box por una Sphere\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Regla:\u003C/strong> Máximo \u003Cstrong>un componente por tipo\u003C/strong> por nodo. Agregar un segundo componente del mismo tipo reemplaza al anterior silenciosamente.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"operaciones-sobre-el-árbol\">Operaciones sobre el árbol\u003C/h2>\n\u003Ch3 id=\"traversal-recorrido\">Traversal (recorrido)\u003C/h3>\n\u003Cp>Recorre el árbol completo en DFS pre-order:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Recorrer toda la escena\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">traverse\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">node\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">children\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#7FDBCA\">length\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Recorrer solo a partir de un nodo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">someNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">traverse\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">descendant\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Solo visita someNode y sus descendientes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"búsqueda\">Búsqueda\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Por UUID (único, garantizado)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">findNodeById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">550e8400-e29b-41d4-a716-446655440000\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Por nombre (retorna el primero encontrado)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> camera\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">findNodeByName\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">main-camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"conteo-de-nodos\">Conteo de nodos\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> count\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">traverse\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> count\u003C/span>\u003Cspan style=\"color:#C792EA\">++\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#ECC48D\">La escena tiene \u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB\">count\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#ECC48D\"> nodos\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"patrones-avanzados\">Patrones avanzados\u003C/h2>\n\u003Ch3 id=\"nodo-pivote-para-órbitas\">Nodo pivote (para órbitas)\u003C/h3>\n\u003Cp>Un nodo vacío cuya rotación genera una órbita para sus hijos:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>Sol (esfera)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>└── earthPivot (vacío, rota en Y)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    └── Tierra (esfera, desplazada en X)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        └── moonPivot (vacío, rota más rápido)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            └── Luna (esfera, desplazada en X)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> earthPivot\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">earth-pivot\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Sin geometría\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sun\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(earthPivot);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> earth\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">earth\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">earth\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }; \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Distancia orbital\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">earthPivot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(earth);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Al rotar el pivot, la Tierra orbita el Sol\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">earthPivot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">rotation\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> rotateY\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(angle);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">earthPivot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"nodo-grupo-para-organización\">Nodo grupo (para organización)\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ui\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">ui-layer\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> world\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">world-layer\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(ui);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(world);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Todos los elementos del mundo bajo un grupo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">world\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(terrain);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">world\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(buildings);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">world\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(characters);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Esconder todo el mundo de golpe (futuro: visibility component)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">remove\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(world); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Todo el grupo desaparece\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"cámara-adjunta-a-un-nodo\">Cámara adjunta a un nodo\u003C/h3>\n\u003Cp>La cámara hereda el transform de su padre:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> character\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">character\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(character);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> followCam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">follow-cam\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">followCam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003Cspan style=\"color:#7FDBCA\">...\u003C/span>\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">followCam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">8\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }; \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Offset relativo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">character\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(followCam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Cuando el personaje se mueve, la cámara lo sigue automáticamente\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"snapshot-del-estado\">Snapshot del estado\u003C/h3>\n\u003Cp>Capturar posiciones de todos los nodos:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> snapshot\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Map\u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\">string\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\"> Vec3\u003C/span>\u003Cspan style=\"color:#C792EA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">traverse\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">node\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> wm\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">worldMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  snapshot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">set\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">id\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    x: wm[\u003C/span>\u003Cspan style=\"color:#F78C6C\">12\u003C/span>\u003Cspan style=\"color:#D6DEEB\">], \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// posición X del mundo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    y: wm[\u003C/span>\u003Cspan style=\"color:#F78C6C\">13\u003C/span>\u003Cspan style=\"color:#D6DEEB\">], \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// posición Y del mundo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    z: wm[\u003C/span>\u003Cspan style=\"color:#F78C6C\">14\u003C/span>\u003Cspan style=\"color:#D6DEEB\">], \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// posición Z del mundo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",{"headings":803,"localImagePaths":883,"remoteImagePaths":884,"frontmatter":885,"imagePaths":886},[804,807,808,811,814,817,820,823,826,829,832,835,838,841,844,847,850,853,856,859,862,865,868,871,874,877,880],{"depth":26,"slug":805,"text":806},"scene-graph--transformaciones","Scene Graph & Transformaciones",{"depth":28,"slug":29,"text":30},{"depth":28,"slug":809,"text":810},"estructura-del-árbol","Estructura del árbol",{"depth":35,"slug":812,"text":813},"reglas-del-árbol","Reglas del árbol",{"depth":28,"slug":815,"text":816},"jerarquía-padre-hijo","Jerarquía padre-hijo",{"depth":35,"slug":818,"text":819},"agregar-nodos","Agregar nodos",{"depth":35,"slug":821,"text":822},"remover-nodos","Remover nodos",{"depth":35,"slug":824,"text":825},"re-parenting","Re-parenting",{"depth":28,"slug":827,"text":828},"sistema-de-transformaciones","Sistema de transformaciones",{"depth":35,"slug":830,"text":831},"propiedades-del-transform","Propiedades del Transform",{"depth":35,"slug":833,"text":834},"espacio-local-vs-espacio-del-mundo","Espacio local vs espacio del mundo",{"depth":35,"slug":836,"text":837},"actualizar-transforms","Actualizar transforms",{"depth":28,"slug":839,"text":840},"propagación-de-matrices","Propagación de matrices",{"depth":35,"slug":842,"text":843},"pseudocódigo-del-algoritmo","Pseudocódigo del algoritmo",{"depth":35,"slug":845,"text":846},"ejemplo-numérico","Ejemplo numérico",{"depth":28,"slug":848,"text":849},"componentes-ecs","Componentes (ECS)",{"depth":35,"slug":851,"text":852},"tipos-de-componentes","Tipos de componentes",{"depth":35,"slug":854,"text":855},"operaciones-con-componentes","Operaciones con componentes",{"depth":28,"slug":857,"text":858},"operaciones-sobre-el-árbol","Operaciones sobre el árbol",{"depth":35,"slug":860,"text":861},"traversal-recorrido","Traversal (recorrido)",{"depth":35,"slug":863,"text":864},"búsqueda","Búsqueda",{"depth":35,"slug":866,"text":867},"conteo-de-nodos","Conteo de nodos",{"depth":28,"slug":869,"text":870},"patrones-avanzados","Patrones avanzados",{"depth":35,"slug":872,"text":873},"nodo-pivote-para-órbitas","Nodo pivote (para órbitas)",{"depth":35,"slug":875,"text":876},"nodo-grupo-para-organización","Nodo grupo (para organización)",{"depth":35,"slug":878,"text":879},"cámara-adjunta-a-un-nodo","Cámara adjunta a un nodo",{"depth":35,"slug":881,"text":882},"snapshot-del-estado","Snapshot del estado",[],[],{"title":795,"description":796,"order":35,"category":372},[],{"id":774,"data":888,"body":890,"filePath":891,"digest":892,"rendered":893},{"title":775,"description":889,"order":138,"category":372},"JSON serialization for saving, loading, and sharing scenes","# Serialización\r\n\r\nOroya Animate incluye un sistema de serialización JSON que permite guardar y cargar escenas completas. Es la base para editores visuales, colaboración y versionado de escenas.\r\n\r\n---\r\n\r\n## Tabla de contenidos\r\n\r\n- [Serializar una escena](#serializar-una-escena)\r\n- [Deserializar una escena](#deserializar-una-escena)\r\n- [Formato del JSON](#formato-del-json)\r\n- [Componentes soportados](#componentes-soportados)\r\n- [Casos de uso](#casos-de-uso)\r\n- [Limitaciones](#limitaciones)\r\n\r\n---\r\n\r\n## Serializar una escena\r\n\r\nLa función `serialize` convierte todo el scene graph a un string JSON formateado:\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, Material, serialize } from '@oroya/core';\r\n\r\nconst scene = new Scene();\r\n\r\nconst cube = new Node('hero-cube');\r\ncube.addComponent(createBox(2, 2, 2));\r\ncube.addComponent(new Material({ color: { r: 1, g: 0.5, b: 0 } }));\r\ncube.transform.position = { x: 3, y: 0, z: -1 };\r\nscene.add(cube);\r\n\r\nconst json = serialize(scene);\r\nconsole.log(json);\r\n```\r\n\r\n### Flujo de serialización\r\n\r\n```mermaid\r\nflowchart LR\r\n    S[\"Scene\"] -->|\"serialize()\"| SR[\"serializeNode(root)\"]\r\n    SR -->|\"recursivo\"| SN[\"Para cada nodo:\\nid, name, components, children\"]\r\n    SN -->|\"spread\"| SC[\"Cada component:\\n{ type, ...data }\"]\r\n    SC --> JSON[\"JSON.stringify()\\ncon indent 2\"]\r\n    JSON --> STR[\"string\"]\r\n```\r\n\r\n---\r\n\r\n## Deserializar una escena\r\n\r\nLa función `deserialize` reconstruye una `Scene` funcional desde un string JSON:\r\n\r\n```typescript\r\nimport { deserialize } from '@oroya/core';\r\n\r\nconst restoredScene = deserialize(json);\r\n\r\nconst found = restoredScene.findNodeByName('hero-cube');\r\nconsole.log(found?.transform.position); // { x: 3, y: 0, z: -1 }\r\n```\r\n\r\nLa escena restaurada es completamente funcional — puede montarse en cualquier renderer:\r\n\r\n```typescript\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst renderer = new ThreeRenderer({ canvas, width, height });\r\nrenderer.mount(restoredScene);\r\nrenderer.render();\r\n```\r\n\r\n### Flujo de deserialización\r\n\r\n```mermaid\r\nflowchart LR\r\n    STR[\"string JSON\"] -->|\"JSON.parse()\"| OBJ[\"SerializableScene\"]\r\n    OBJ -->|\"deserializeNode()\"| RN[\"Reconstruir nodos\\nrecursivamente\"]\r\n    RN -->|\"switch(type)\"| COMP[\"Recrear componentes:\\nTransform, Geometry, Material,\\nCamera, Animation\"]\r\n    COMP --> SCENE[\"new Scene()\"]\r\n    RN -->|\"children\"| SCENE\r\n```\r\n\r\n---\r\n\r\n## Formato del JSON\r\n\r\n### Estructura general\r\n\r\n```mermaid\r\ngraph TD\r\n    SS[\"SerializableScene\"] -->|\"root\"| SN[\"SerializableNode\"]\r\n    SN -->|\"id\"| ID[\"string (UUID)\"]\r\n    SN -->|\"name\"| NAME[\"string\"]\r\n    SN -->|\"components\"| COMPS[\"SerializableComponent[]\"]\r\n    SN -->|\"children\"| CHILDREN[\"SerializableNode[]\"]\r\n    CHILDREN -->|\"recursivo\"| SN\r\n    COMPS --> SC[\"{ type: ComponentType, ...data }\"]\r\n```\r\n\r\n### Ejemplo completo de output\r\n\r\n```json\r\n{\r\n  \"root\": {\r\n    \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\r\n    \"name\": \"root\",\r\n    \"components\": [\r\n      {\r\n        \"type\": \"Transform\",\r\n        \"position\": { \"x\": 0, \"y\": 0, \"z\": 0 },\r\n        \"rotation\": { \"x\": 0, \"y\": 0, \"z\": 0, \"w\": 1 },\r\n        \"scale\": { \"x\": 1, \"y\": 1, \"z\": 1 },\r\n        \"localMatrix\": [1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1],\r\n        \"worldMatrix\": [1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1],\r\n        \"isDirty\": true\r\n      }\r\n    ],\r\n    \"children\": [\r\n      {\r\n        \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\r\n        \"name\": \"hero-cube\",\r\n        \"components\": [\r\n          {\r\n            \"type\": \"Transform\",\r\n            \"position\": { \"x\": 3, \"y\": 0, \"z\": -1 },\r\n            \"rotation\": { \"x\": 0, \"y\": 0, \"z\": 0, \"w\": 1 },\r\n            \"scale\": { \"x\": 1, \"y\": 1, \"z\": 1 },\r\n            \"localMatrix\": [1,0,0,0, 0,1,0,0, 0,0,1,0, 3,0,-1,1],\r\n            \"worldMatrix\": [1,0,0,0, 0,1,0,0, 0,0,1,0, 3,0,-1,1],\r\n            \"isDirty\": false\r\n          },\r\n          {\r\n            \"type\": \"Geometry\",\r\n            \"definition\": {\r\n              \"type\": \"Box\",\r\n              \"width\": 2,\r\n              \"height\": 2,\r\n              \"depth\": 2\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"Material\",\r\n            \"definition\": {\r\n              \"color\": { \"r\": 1, \"g\": 0.5, \"b\": 0 }\r\n            }\r\n          }\r\n        ],\r\n        \"children\": []\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n### Interfaces internas\r\n\r\n| Interface | Campos | Descripción |\r\n|-----------|--------|-------------|\r\n| `SerializableScene` | `root: SerializableNode` | Contenedor de nivel superior |\r\n| `SerializableNode` | `id`, `name`, `cssClass?`, `cssId?`, `components[]`, `children[]` | Representación plana de un nodo |\r\n| `SerializableComponent` | `type: ComponentType`, `+ ...data` | Cada componente con su tipo y datos |\r\n\r\n---\r\n\r\n## Componentes soportados\r\n\r\n### En serialización (`serialize`)\r\n\r\nTodos los componentes se serializan usando spread (`{ ...component }`):\r\n\r\n| Componente | Datos serializados |\r\n|------------|-------------------|\r\n| `Transform` | `position`, `rotation`, `scale`, `localMatrix`, `worldMatrix`, `isDirty` |\r\n| `Geometry` | `definition` completo (tipo + parámetros de geometría) |\r\n| `Material` | `definition` completo (color, opacity, fill, stroke, strokeWidth, fillGradient, strokeGradient, filter, clipPath, mask) |\r\n| `Camera` | `definition` completo (Perspective: type, fov, aspect, near, far; Orthographic: type, left, right, top, bottom, near, far) |\r\n| `Animation` | `animations[]` — array de `SvgAnimationDef` (animate / animateTransform) |\r\n\r\n### En deserialización (`deserialize`)\r\n\r\n| Componente | ¿Se restaura? | Método |\r\n|------------|----------------|--------|\r\n| `Transform` | ✅ | `Object.assign(new Transform(), data)` |\r\n| `Geometry` | ✅ | `new Geometry(data.definition)` |\r\n| `Material` | ✅ | `new Material(data.definition)` |\r\n| `Camera` | ✅ | `new Camera(data.definition)` |\r\n| `Animation` | ✅ | `new Animation(data.animations)` |\r\n\r\n> **Nota:** Todos los componentes se serializan y deserializan correctamente, incluyendo `Camera` y `Animation`.\r\n\r\n### Preservación de datos\r\n\r\n| Dato | ¿Se preserva? |\r\n|------|----------------|\r\n| UUID del nodo | ✅ Exacto |\r\n| Nombre del nodo | ✅ |\r\n| Jerarquía padre-hijo | ✅ |\r\n| Posición | ✅ |\r\n| Rotación (quaternion) | ✅ |\r\n| Escala | ✅ |\r\n| Matrices (local + world) | ✅ |\r\n| Tipo de geometría | ✅ |\r\n| Parámetros de geometría | ✅ |\r\n| Color del material | ✅ |\r\n| Opacidad | ✅ |\r\n| Fill/Stroke (SVG) | ✅ |\r\n| Gradientes (fill/stroke) | ✅ |\r\n| Filter / ClipPath / Mask | ✅ |\r\n| Cámara (Perspective + Orthographic) | ✅ |\r\n| Animaciones SVG | ✅ |\r\n| `cssClass` / `cssId` | ✅ |\r\n\r\n---\r\n\r\n## Casos de uso\r\n\r\n### Persistencia en localStorage\r\n\r\n```typescript\r\nfunction saveScene(scene: Scene): void {\r\n  const json = serialize(scene);\r\n  localStorage.setItem('oroya-scene', json);\r\n}\r\n\r\nfunction loadScene(): Scene | null {\r\n  const json = localStorage.getItem('oroya-scene');\r\n  if (!json) return null;\r\n  return deserialize(json);\r\n}\r\n```\r\n\r\n### Exportar como archivo descargable\r\n\r\n```typescript\r\nfunction downloadScene(scene: Scene, filename: string): void {\r\n  const json = serialize(scene);\r\n  const blob = new Blob([json], { type: 'application/json' });\r\n  const url = URL.createObjectURL(blob);\r\n\r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = filename;\r\n  a.click();\r\n\r\n  URL.revokeObjectURL(url);\r\n}\r\n\r\ndownloadScene(scene, 'my-scene.json');\r\n```\r\n\r\n### Importar desde archivo\r\n\r\n```typescript\r\nasync function importScene(file: File): Promise\u003CScene> {\r\n  const text = await file.text();\r\n  return deserialize(text);\r\n}\r\n\r\n// Con input[type=file]\r\ninput.addEventListener('change', async (e) => {\r\n  const file = (e.target as HTMLInputElement).files?.[0];\r\n  if (file) {\r\n    const scene = await importScene(file);\r\n    renderer.mount(scene);\r\n  }\r\n});\r\n```\r\n\r\n### Server-side rendering\r\n\r\n```typescript\r\n// Recibir la escena serializada, renderizar a SVG en el servidor\r\nimport { deserialize } from '@oroya/core';\r\nimport { renderToSVG } from '@oroya/renderer-svg';\r\n\r\nfunction handleRequest(jsonBody: string): string {\r\n  const scene = deserialize(jsonBody);\r\n  return renderToSVG(scene, { width: 800, height: 600 });\r\n}\r\n```\r\n\r\n### Versionado en Git\r\n\r\nGuardar escenas como `.json` permite:\r\n\r\n```\r\nscenes/\r\n├── level-01.json    ← Versionado con git\r\n├── level-02.json\r\n└── hub-world.json\r\n```\r\n\r\nLos diffs de Git muestran exactamente qué cambió:\r\n\r\n```diff\r\n \"name\": \"hero-cube\",\r\n \"components\": [\r\n   {\r\n     \"type\": \"Transform\",\r\n-    \"position\": { \"x\": 3, \"y\": 0, \"z\": -1 },\r\n+    \"position\": { \"x\": 5, \"y\": 2, \"z\": -1 },\r\n```\r\n\r\n---\r\n\r\n## Limitaciones\r\n\r\n| Limitación | Impacto | Workaround |\r\n|------------|---------|------------|\r\n| UUIDs se preservan | Dos escenas del mismo JSON tendrán nodos con IDs idénticos | Regenerar IDs post-deserialización si se necesitan escenas independientes |\r\n| Camera no se deserializa | ~~La escena pierde su cámara al restaurar~~ | ✅ **Resuelto** — Camera y Animation se deserializan correctamente |\r\n| Componentes desconocidos | Si se agrega un tipo custom y no se registra en el `switch`, se ignora | Extender `deserializeNode()` con nuevos tipos |\r\n| xxxxxxxxxx const snapshot = new Map\u003Cstring, Vec3>();​scene.traverse(node => {  const wm = node.transform.worldMatrix;  snapshot.set(node.id, {    x: wm[12], // posición X del mundo    y: wm[13], // posición Y del mundo    z: wm[14], // posición Z del mundo  });});typescript | Archivos grandes para escenas con muchos nodos | Futuro: serialización binaria (MessagePack) |\r\n| Sin referencia a `component.node` | La referencia circular `component → node` se pierde | Se reconstruye automáticamente por `addComponent()` |","src/content/docs/serialization.md","e169181610e8ad36",{"html":894,"metadata":895},"\u003Ch1 id=\"serialización\">Serialización\u003C/h1>\n\u003Cp>Oroya Animate incluye un sistema de serialización JSON que permite guardar y cargar escenas completas. Es la base para editores visuales, colaboración y versionado de escenas.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"tabla-de-contenidos\">Tabla de contenidos\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#serializar-una-escena\">Serializar una escena\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#deserializar-una-escena\">Deserializar una escena\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#formato-del-json\">Formato del JSON\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#componentes-soportados\">Componentes soportados\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#casos-de-uso\">Casos de uso\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#limitaciones\">Limitaciones\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"serializar-una-escena\">Serializar una escena\u003C/h2>\n\u003Cp>La función \u003Ccode>serialize\u003C/code> convierte todo el scene graph a un string JSON formateado:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene, Node, createBox, Material, serialize } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cube\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">hero-cube\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cube);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> json\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> serialize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(json);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"flujo-de-serialización\">Flujo de serialización\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">flowchart LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    S[\"Scene\"] -->|\"serialize()\"| SR[\"serializeNode(root)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SR -->|\"recursivo\"| SN[\"Para cada nodo:\\nid, name, components, children\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SN -->|\"spread\"| SC[\"Cada component:\\n{ type, ...data }\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SC --> JSON[\"JSON.stringify()\\ncon indent 2\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    JSON --> STR[\"string\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"deserializar-una-escena\">Deserializar una escena\u003C/h2>\n\u003Cp>La función \u003Ccode>deserialize\u003C/code> reconstruye una \u003Ccode>Scene\u003C/code> funcional desde un string JSON:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { deserialize } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> restoredScene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> deserialize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">json\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> found\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> restoredScene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">findNodeByName\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">hero-cube\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(found\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">?.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// { x: 3, y: 0, z: -1 }\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>La escena restaurada es completamente funcional — puede montarse en cualquier renderer:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-three\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(restoredScene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"flujo-de-deserialización\">Flujo de deserialización\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">flowchart LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    STR[\"string JSON\"] -->|\"JSON.parse()\"| OBJ[\"SerializableScene\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    OBJ -->|\"deserializeNode()\"| RN[\"Reconstruir nodos\\nrecursivamente\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    RN -->|\"switch(type)\"| COMP[\"Recrear componentes:\\nTransform, Geometry, Material,\\nCamera, Animation\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    COMP --> SCENE[\"new Scene()\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    RN -->|\"children\"| SCENE\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"formato-del-json\">Formato del JSON\u003C/h2>\n\u003Ch3 id=\"estructura-general\">Estructura general\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SS[\"SerializableScene\"] -->|\"root\"| SN[\"SerializableNode\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SN -->|\"id\"| ID[\"string (UUID)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SN -->|\"name\"| NAME[\"string\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SN -->|\"components\"| COMPS[\"SerializableComponent[]\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SN -->|\"children\"| CHILDREN[\"SerializableNode[]\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    CHILDREN -->|\"recursivo\"| SN\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    COMPS --> SC[\"{ type: ComponentType, ...data }\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"ejemplo-completo-de-output\">Ejemplo completo de output\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  \"root\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    \"id\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">550e8400-e29b-41d4-a716-446655440000\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    \"name\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">root\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    \"components\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"type\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">Transform\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"position\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"x\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"y\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"z\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"rotation\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"x\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"y\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"z\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"w\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"scale\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"x\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"y\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"z\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"localMatrix\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"worldMatrix\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"isDirty\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF5874\">true\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    \"children\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"id\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">6ba7b810-9dad-11d1-80b4-00c04fd430c8\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"name\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">hero-cube\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"components\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">            \"type\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">Transform\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">            \"position\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"x\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"y\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"z\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">-1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">            \"rotation\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"x\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"y\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"z\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"w\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">            \"scale\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"x\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"y\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"z\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">            \"localMatrix\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">-1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">            \"worldMatrix\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">-1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">            \"isDirty\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF5874\">false\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">            \"type\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">Geometry\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">            \"definition\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">              \"type\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">Box\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">              \"width\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">              \"height\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">              \"depth\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">            \"type\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C789D6\">Material\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">            \"definition\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">              \"color\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: { \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"r\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"g\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">\"b\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">        \"children\"\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: []\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"interfaces-internas\">Interfaces internas\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Interface\u003C/th>\u003Cth>Campos\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>SerializableScene\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>root: SerializableNode\u003C/code>\u003C/td>\u003Ctd>Contenedor de nivel superior\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SerializableNode\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>id\u003C/code>, \u003Ccode>name\u003C/code>, \u003Ccode>cssClass?\u003C/code>, \u003Ccode>cssId?\u003C/code>, \u003Ccode>components[]\u003C/code>, \u003Ccode>children[]\u003C/code>\u003C/td>\u003Ctd>Representación plana de un nodo\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SerializableComponent\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>type: ComponentType\u003C/code>, \u003Ccode>+ ...data\u003C/code>\u003C/td>\u003Ctd>Cada componente con su tipo y datos\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"componentes-soportados\">Componentes soportados\u003C/h2>\n\u003Ch3 id=\"en-serialización-serialize\">En serialización (\u003Ccode>serialize\u003C/code>)\u003C/h3>\n\u003Cp>Todos los componentes se serializan usando spread (\u003Ccode>{ ...component }\u003C/code>):\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Componente\u003C/th>\u003Cth>Datos serializados\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>position\u003C/code>, \u003Ccode>rotation\u003C/code>, \u003Ccode>scale\u003C/code>, \u003Ccode>localMatrix\u003C/code>, \u003Ccode>worldMatrix\u003C/code>, \u003Ccode>isDirty\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Geometry\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>definition\u003C/code> completo (tipo + parámetros de geometría)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>definition\u003C/code> completo (color, opacity, fill, stroke, strokeWidth, fillGradient, strokeGradient, filter, clipPath, mask)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>definition\u003C/code> completo (Perspective: type, fov, aspect, near, far; Orthographic: type, left, right, top, bottom, near, far)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Animation\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>animations[]\u003C/code> — array de \u003Ccode>SvgAnimationDef\u003C/code> (animate / animateTransform)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"en-deserialización-deserialize\">En deserialización (\u003Ccode>deserialize\u003C/code>)\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Componente\u003C/th>\u003Cth>¿Se restaura?\u003C/th>\u003Cth>Método\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>\u003Ccode>Object.assign(new Transform(), data)\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Geometry\u003C/code>\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>\u003Ccode>new Geometry(data.definition)\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>\u003Ccode>new Material(data.definition)\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>\u003Ccode>new Camera(data.definition)\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Animation\u003C/code>\u003C/td>\u003Ctd>✅\u003C/td>\u003Ctd>\u003Ccode>new Animation(data.animations)\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nota:\u003C/strong> Todos los componentes se serializan y deserializan correctamente, incluyendo \u003Ccode>Camera\u003C/code> y \u003Ccode>Animation\u003C/code>.\u003C/p>\n\u003C/blockquote>\n\u003Ch3 id=\"preservación-de-datos\">Preservación de datos\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Dato\u003C/th>\u003Cth>¿Se preserva?\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>UUID del nodo\u003C/td>\u003Ctd>✅ Exacto\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Nombre del nodo\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Jerarquía padre-hijo\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Posición\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Rotación (quaternion)\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Escala\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Matrices (local + world)\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Tipo de geometría\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Parámetros de geometría\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Color del material\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Opacidad\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Fill/Stroke (SVG)\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Gradientes (fill/stroke)\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Filter / ClipPath / Mask\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Cámara (Perspective + Orthographic)\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Animaciones SVG\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>cssClass\u003C/code> / \u003Ccode>cssId\u003C/code>\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"casos-de-uso\">Casos de uso\u003C/h2>\n\u003Ch3 id=\"persistencia-en-localstorage\">Persistencia en localStorage\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> saveScene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Scene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> json\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> serialize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  localStorage\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">setItem\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">oroya-scene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> json);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> loadScene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> |\u003C/span>\u003Cspan style=\"color:#C5E478\"> null\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> json\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> localStorage\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getItem\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">oroya-scene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">!\u003C/span>\u003Cspan style=\"color:#D6DEEB\">json) \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">return\u003C/span>\u003Cspan style=\"color:#FF5874\"> null\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  return\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> deserialize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(json);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"exportar-como-archivo-descargable\">Exportar como archivo descargable\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> downloadScene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">filename\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> json\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> serialize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> blob\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Blob\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">json\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">application/json\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> url\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> URL\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createObjectURL\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">blob\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> a\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createElement\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">a\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  a\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">href\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> url;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  a\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">download\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> filename;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  a\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">click\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF\">  URL\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">revokeObjectURL\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(url);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">downloadScene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">my-scene.json\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"importar-desde-archivo\">Importar desde archivo\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">async\u003C/span>\u003Cspan style=\"color:#C792EA\"> function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> importScene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">file\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> File\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Promise\u003C/span>\u003Cspan style=\"color:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#FFCB8B\">Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> text\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> await \u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">file\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">text\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  return\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> deserialize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(text);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Con input[type=file]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">input\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addEventListener\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">change\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">async\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> (\u003C/span>\u003Cspan style=\"color:#D7DBE0\">e\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> file\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">e\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">target\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">HTMLInputElement\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">files\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">?.\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (file) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> await \u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">importScene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">file\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"server-side-rendering\">Server-side rendering\u003C/h3>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Recibir la escena serializada, renderizar a SVG en el servidor\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { deserialize } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-svg\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> handleRequest\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">jsonBody\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> deserialize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">jsonBody\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  return\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { width: \u003C/span>\u003Cspan style=\"color:#F78C6C\">800\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> height: \u003C/span>\u003Cspan style=\"color:#F78C6C\">600\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"versionado-en-git\">Versionado en Git\u003C/h3>\n\u003Cp>Guardar escenas como \u003Ccode>.json\u003C/code> permite:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>scenes/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── level-01.json    ← Versionado con git\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── level-02.json\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>└── hub-world.json\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Los diffs de Git muestran exactamente qué cambió:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"diff\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\"> \"name\": \"hero-cube\",\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\"> \"components\": [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">   {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">     \"type\": \"Transform\",\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#EF535090\">\u003Cspan style=\"user-select: none;\">-\u003C/span>\u003C/span>\u003Cspan style=\"color:#EF535090;font-style:italic\">    \"position\": { \"x\": 3, \"y\": 0, \"z\": -1 },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478FF\">\u003Cspan style=\"user-select: none;\">+\u003C/span>\u003C/span>\u003Cspan style=\"color:#C5E478FF;font-style:italic\">    \"position\": { \"x\": 5, \"y\": 2, \"z\": -1 },\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"limitaciones\">Limitaciones\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Limitación\u003C/th>\u003Cth>Impacto\u003C/th>\u003Cth>Workaround\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>UUIDs se preservan\u003C/td>\u003Ctd>Dos escenas del mismo JSON tendrán nodos con IDs idénticos\u003C/td>\u003Ctd>Regenerar IDs post-deserialización si se necesitan escenas independientes\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Camera no se deserializa\u003C/td>\u003Ctd>\u003Cdel>La escena pierde su cámara al restaurar\u003C/del>\u003C/td>\u003Ctd>✅ \u003Cstrong>Resuelto\u003C/strong> — Camera y Animation se deserializan correctamente\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Componentes desconocidos\u003C/td>\u003Ctd>Si se agrega un tipo custom y no se registra en el \u003Ccode>switch\u003C/code>, se ignora\u003C/td>\u003Ctd>Extender \u003Ccode>deserializeNode()\u003C/code> con nuevos tipos\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>xxxxxxxxxx const snapshot = new Map&#x3C;string, Vec3>();​scene.traverse(node => {  const wm = node.transform.worldMatrix;  snapshot.set(node.id, {    x: wm[12], // posición X del mundo    y: wm[13], // posición Y del mundo    z: wm[14], // posición Z del mundo  });});typescript\u003C/td>\u003Ctd>Archivos grandes para escenas con muchos nodos\u003C/td>\u003Ctd>Futuro: serialización binaria (MessagePack)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Sin referencia a \u003Ccode>component.node\u003C/code>\u003C/td>\u003Ctd>La referencia circular \u003Ccode>component → node\u003C/code> se pierde\u003C/td>\u003Ctd>Se reconstruye automáticamente por \u003Ccode>addComponent()\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>",{"headings":896,"localImagePaths":952,"remoteImagePaths":953,"frontmatter":954,"imagePaths":955},[897,898,899,902,905,908,911,912,915,918,921,924,927,930,933,934,937,940,943,946,949],{"depth":26,"slug":262,"text":263},{"depth":28,"slug":29,"text":30},{"depth":28,"slug":900,"text":901},"serializar-una-escena","Serializar una escena",{"depth":35,"slug":903,"text":904},"flujo-de-serialización","Flujo de serialización",{"depth":28,"slug":906,"text":907},"deserializar-una-escena","Deserializar una escena",{"depth":35,"slug":909,"text":910},"flujo-de-deserialización","Flujo de deserialización",{"depth":28,"slug":269,"text":270},{"depth":35,"slug":913,"text":914},"estructura-general","Estructura general",{"depth":35,"slug":916,"text":917},"ejemplo-completo-de-output","Ejemplo completo de output",{"depth":35,"slug":919,"text":920},"interfaces-internas","Interfaces internas",{"depth":28,"slug":922,"text":923},"componentes-soportados","Componentes soportados",{"depth":35,"slug":925,"text":926},"en-serialización-serialize","En serialización (serialize)",{"depth":35,"slug":928,"text":929},"en-deserialización-deserialize","En deserialización (deserialize)",{"depth":35,"slug":931,"text":932},"preservación-de-datos","Preservación de datos",{"depth":28,"slug":618,"text":619},{"depth":35,"slug":935,"text":936},"persistencia-en-localstorage","Persistencia en localStorage",{"depth":35,"slug":938,"text":939},"exportar-como-archivo-descargable","Exportar como archivo descargable",{"depth":35,"slug":941,"text":942},"importar-desde-archivo","Importar desde archivo",{"depth":35,"slug":944,"text":945},"server-side-rendering","Server-side rendering",{"depth":35,"slug":947,"text":948},"versionado-en-git","Versionado en Git",{"depth":28,"slug":950,"text":951},"limitaciones","Limitaciones",[],[],{"title":775,"description":889,"order":138,"category":372},[],"tutorials",["Map",958,959,1006,1007,1047,1048,1087,1088,1128,1129,1167,1168,1203,1204,1250,1251,1299,1300,1359,1360,1421,1422],"01-hello-cube",{"id":958,"data":960,"body":965,"filePath":966,"digest":967,"rendered":968},{"title":961,"description":962,"level":963,"order":26,"duration":964},"Hello Cube","Create your first 3D scene with a rotating cube","beginner","10 min","# Tutorial 1: Hello Cube 🟢\r\n\r\n> **Nivel:** Principiante  \r\n> **Tiempo estimado:** 10 minutos  \r\n> **Qué aprenderás:** Crear una escena mínima con un cubo 3D que rota usando `@oroya/core` y `@oroya/renderer-three`.\r\n\r\n---\r\n\r\n## Prerrequisitos\r\n\r\n- El monorepo clonado y con `pnpm install` ejecutado.\r\n- Los paquetes compilados (`pnpm build`).\r\n\r\n---\r\n\r\n## Paso 1: Setup del HTML\r\n\r\nCrea un archivo HTML con un `\u003Ccanvas>`:\r\n\r\n```html\r\n\u003C!DOCTYPE html>\r\n\u003Chtml lang=\"en\">\r\n\u003Chead>\r\n  \u003Cmeta charset=\"UTF-8\" />\r\n  \u003Ctitle>Hello Cube — Oroya Animate\u003C/title>\r\n  \u003Cstyle>\r\n    body { margin: 0; overflow: hidden; background: #1a1a2e; }\r\n    canvas { display: block; }\r\n  \u003C/style>\r\n\u003C/head>\r\n\u003Cbody>\r\n  \u003Ccanvas id=\"canvas\">\u003C/canvas>\r\n  \u003Cscript type=\"module\" src=\"./main.ts\">\u003C/script>\r\n\u003C/body>\r\n\u003C/html>\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Crear la escena\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\n// 1. Crear la escena\r\nconst scene = new Scene();\r\n\r\n// 2. Agregar una cámara\r\nconst cameraNode = new Node('camera');\r\ncameraNode.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 75,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 1000,\r\n}));\r\ncameraNode.transform.position.z = 5;\r\nscene.add(cameraNode);\r\n\r\n// 3. Crear el cubo\r\nconst cube = new Node('my-cube');\r\ncube.addComponent(createBox(1, 1, 1));\r\ncube.addComponent(new Material({ color: { r: 0.2, g: 0.6, b: 1.0 } }));\r\nscene.add(cube);\r\n```\r\n\r\n### ¿Qué está pasando?\r\n\r\n1. **`Scene`** es el contenedor raíz del scene graph.\r\n2. **`Node`** es un elemento del árbol. Cada nodo tiene un `Transform` automático.\r\n3. **`createBox(1,1,1)`** crea un componente de geometría de caja de 1×1×1.\r\n4. **`Material`** define el color de la superficie (RGB normalizado: 0 a 1).\r\n5. **`Camera`** define el punto de vista desde donde se renderiza.\r\n\r\n---\r\n\r\n## Paso 3: Inicializar el renderer y animar\r\n\r\n```typescript\r\n// 4. Crear el renderer Three.js\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n});\r\nrenderer.mount(scene);\r\n\r\n// 5. Loop de animación\r\nlet angle = 0;\r\n\r\nfunction animate() {\r\n  angle += 0.01;\r\n\r\n  // Rotar el cubo usando quaternion simplificado (rotación en Y)\r\n  cube.transform.rotation = {\r\n    x: 0,\r\n    y: Math.sin(angle / 2),\r\n    z: 0,\r\n    w: Math.cos(angle / 2),\r\n  };\r\n  cube.transform.updateLocalMatrix();\r\n\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\n\r\nanimate();\r\n```\r\n\r\n### Conceptos clave\r\n\r\n- **`transform.rotation`** usa quaterniones `{ x, y, z, w }`. Para rotar en el eje Y, usamos `sin(θ/2)` y `cos(θ/2)`.\r\n- **`updateLocalMatrix()`** recalcula la matriz local a partir de position/rotation/scale.\r\n- **`renderer.render()`** actualiza las matrices del mundo y dibuja el frame.\r\n\r\n---\r\n\r\n## Resultado\r\n\r\nUn cubo azul brillante rotando suavemente sobre fondo oscuro. 🎉\r\n\r\n---\r\n\r\n## Código completo\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst scene = new Scene();\r\n\r\nconst cameraNode = new Node('camera');\r\ncameraNode.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 75,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 1000,\r\n}));\r\ncameraNode.transform.position.z = 5;\r\nscene.add(cameraNode);\r\n\r\nconst cube = new Node('my-cube');\r\ncube.addComponent(createBox(1, 1, 1));\r\ncube.addComponent(new Material({ color: { r: 0.2, g: 0.6, b: 1.0 } }));\r\nscene.add(cube);\r\n\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n});\r\nrenderer.mount(scene);\r\n\r\nlet angle = 0;\r\nfunction animate() {\r\n  angle += 0.01;\r\n  cube.transform.rotation = {\r\n    x: 0,\r\n    y: Math.sin(angle / 2),\r\n    z: 0,\r\n    w: Math.cos(angle / 2),\r\n  };\r\n  cube.transform.updateLocalMatrix();\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\nanimate();\r\n```\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n➡️ [Tutorial 2: Paleta de Colores](./02-color-palette.md) — múltiples formas y colores.","src/content/tutorials/01-hello-cube.md","534e940bc34676e1",{"html":969,"metadata":970},"\u003Ch1 id=\"tutorial-1-hello-cube\">Tutorial 1: Hello Cube 🟢\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Principiante\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 10 minutos\u003Cbr>\n\u003Cstrong>Qué aprenderás:\u003C/strong> Crear una escena mínima con un cubo 3D que rota usando \u003Ccode>@oroya/core\u003C/code> y \u003Ccode>@oroya/renderer-three\u003C/code>.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"prerrequisitos\">Prerrequisitos\u003C/h2>\n\u003Cul>\n\u003Cli>El monorepo clonado y con \u003Ccode>pnpm install\u003C/code> ejecutado.\u003C/li>\n\u003Cli>Los paquetes compilados (\u003Ccode>pnpm build\u003C/code>).\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"paso-1-setup-del-html\">Paso 1: Setup del HTML\u003C/h2>\n\u003Cp>Crea un archivo HTML con un \u003Ccode>&#x3C;canvas>\u003C/code>:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;!\u003C/span>\u003Cspan style=\"color:#CAECE6\">DOCTYPE\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> html\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">html\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> lang\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">en\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">head\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">meta\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> charset\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">UTF-8\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">title\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">Hello Cube — Oroya Animate\u003C/span>\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">title\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">style\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF6363\">    body\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { \u003C/span>\u003Cspan style=\"color:#80CBC4\">margin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#80CBC4\">overflow\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF6363\">hidden\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#80CBC4\">background\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">#\u003C/span>\u003Cspan style=\"color:#FFEB95\">1a1a2e\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF6363\">    canvas\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { \u003C/span>\u003Cspan style=\"color:#80CBC4\">display\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF6363\">block\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">style\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">head\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">body\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">canvas\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> id\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">canvas\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">script\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">module\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> src\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">./main.ts\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">script\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">body\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">html\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-crear-la-escena\">Paso 2: Crear la escena\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene, Node, createBox, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-three\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// 1. Crear la escena\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// 2. Agregar una cámara\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cameraNode\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cameraNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Perspective\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fov: \u003C/span>\u003Cspan style=\"color:#F78C6C\">75\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  aspect: window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHeight\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1000\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cameraNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">position\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">z\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cameraNode);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// 3. Crear el cubo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cube\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">my-cube\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cube);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"qué-está-pasando\">¿Qué está pasando?\u003C/h3>\n\u003Col>\n\u003Cli>\u003Cstrong>\u003Ccode>Scene\u003C/code>\u003C/strong> es el contenedor raíz del scene graph.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ccode>Node\u003C/code>\u003C/strong> es un elemento del árbol. Cada nodo tiene un \u003Ccode>Transform\u003C/code> automático.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ccode>createBox(1,1,1)\u003C/code>\u003C/strong> crea un componente de geometría de caja de 1×1×1.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ccode>Material\u003C/code>\u003C/strong> define el color de la superficie (RGB normalizado: 0 a 1).\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ccode>Camera\u003C/code>\u003C/strong> define el punto de vista desde donde se renderiza.\u003C/li>\n\u003C/ol>\n\u003Chr>\n\u003Ch2 id=\"paso-3-inicializar-el-renderer-y-animar\">Paso 3: Inicializar el renderer y animar\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// 4. Crear el renderer Three.js\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerHeight\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// 5. Loop de animación\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> angle\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  angle \u003C/span>\u003Cspan style=\"color:#C792EA\">+=\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.01\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Rotar el cubo usando quaternion simplificado (rotación en Y)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">rotation\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    y: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(angle \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    w: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">cos\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(angle \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">animate\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"conceptos-clave\">Conceptos clave\u003C/h3>\n\u003Cul>\n\u003Cli>\u003Cstrong>\u003Ccode>transform.rotation\u003C/code>\u003C/strong> usa quaterniones \u003Ccode>{ x, y, z, w }\u003C/code>. Para rotar en el eje Y, usamos \u003Ccode>sin(θ/2)\u003C/code> y \u003Ccode>cos(θ/2)\u003C/code>.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ccode>updateLocalMatrix()\u003C/code>\u003C/strong> recalcula la matriz local a partir de position/rotation/scale.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ccode>renderer.render()\u003C/code>\u003C/strong> actualiza las matrices del mundo y dibuja el frame.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"resultado\">Resultado\u003C/h2>\n\u003Cp>Un cubo azul brillante rotando suavemente sobre fondo oscuro. 🎉\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"código-completo\">Código completo\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene, Node, createBox, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-three\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cameraNode\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cameraNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Perspective\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fov: \u003C/span>\u003Cspan style=\"color:#F78C6C\">75\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  aspect: window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHeight\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1000\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cameraNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">position\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">z\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cameraNode);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cube\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">my-cube\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cube);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerHeight\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> angle\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  angle \u003C/span>\u003Cspan style=\"color:#C792EA\">+=\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.01\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">rotation\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    y: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(angle \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    w: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">cos\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(angle \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">animate\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>➡️ \u003Ca href=\"./02-color-palette.md\">Tutorial 2: Paleta de Colores\u003C/a> — múltiples formas y colores.\u003C/p>",{"headings":971,"localImagePaths":1002,"remoteImagePaths":1003,"frontmatter":1004,"imagePaths":1005},[972,975,978,981,984,987,990,993,996,999],{"depth":26,"slug":973,"text":974},"tutorial-1-hello-cube","Tutorial 1: Hello Cube 🟢",{"depth":28,"slug":976,"text":977},"prerrequisitos","Prerrequisitos",{"depth":28,"slug":979,"text":980},"paso-1-setup-del-html","Paso 1: Setup del HTML",{"depth":28,"slug":982,"text":983},"paso-2-crear-la-escena","Paso 2: Crear la escena",{"depth":35,"slug":985,"text":986},"qué-está-pasando","¿Qué está pasando?",{"depth":28,"slug":988,"text":989},"paso-3-inicializar-el-renderer-y-animar","Paso 3: Inicializar el renderer y animar",{"depth":35,"slug":991,"text":992},"conceptos-clave","Conceptos clave",{"depth":28,"slug":994,"text":995},"resultado","Resultado",{"depth":28,"slug":997,"text":998},"código-completo","Código completo",{"depth":28,"slug":1000,"text":1001},"siguiente-tutorial","Siguiente tutorial",[],[],{"title":961,"description":962,"order":26,"level":963,"duration":964},[],"02-color-palette",{"id":1006,"data":1008,"body":1012,"filePath":1013,"digest":1014,"rendered":1015},{"title":1009,"description":1010,"level":963,"order":28,"duration":1011},"Color Palette","Multiple geometries, materials, and composition","15 min","# Tutorial 2: Paleta de Colores 🟢\r\n\r\n> **Nivel:** Principiante  \r\n> **Tiempo estimado:** 15 minutos  \r\n> **Qué aprenderás:** Crear múltiples nodos con diferentes geometrías, colores y posiciones.\r\n\r\n---\r\n\r\n## Objetivo\r\n\r\nConstruir una escena con 5 figuras geométricas de diferentes colores dispuestas en línea, como una paleta de pintor.\r\n\r\n---\r\n\r\n## Paso 1: Crear la escena base\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, createSphere, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst scene = new Scene();\r\n\r\n// Cámara alejada para ver todos los objetos\r\nconst cam = new Node('camera');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 60,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 100,\r\n}));\r\ncam.transform.position = { x: 0, y: 2, z: 10 };\r\nscene.add(cam);\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Definir la paleta\r\n\r\nUsamos un array para definir las figuras y sus propiedades:\r\n\r\n```typescript\r\ninterface ShapeDef {\r\n  name: string;\r\n  geometry: 'box' | 'sphere';\r\n  color: { r: number; g: number; b: number };\r\n  position: { x: number; y: number; z: number };\r\n  size: number;\r\n}\r\n\r\nconst palette: ShapeDef[] = [\r\n  { name: 'ruby',     geometry: 'box',    color: { r: 0.9, g: 0.1, b: 0.2 }, position: { x: -4, y: 0, z: 0 }, size: 1.0 },\r\n  { name: 'amber',    geometry: 'sphere', color: { r: 1.0, g: 0.7, b: 0.0 }, position: { x: -2, y: 0, z: 0 }, size: 0.7 },\r\n  { name: 'emerald',  geometry: 'box',    color: { r: 0.0, g: 0.8, b: 0.4 }, position: { x:  0, y: 0, z: 0 }, size: 1.2 },\r\n  { name: 'sapphire', geometry: 'sphere', color: { r: 0.1, g: 0.4, b: 0.9 }, position: { x:  2, y: 0, z: 0 }, size: 0.8 },\r\n  { name: 'amethyst', geometry: 'box',    color: { r: 0.6, g: 0.2, b: 0.8 }, position: { x:  4, y: 0, z: 0 }, size: 0.9 },\r\n];\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Generar los nodos\r\n\r\n```typescript\r\nconst nodes: Node[] = [];\r\n\r\npalette.forEach((shape) => {\r\n  const node = new Node(shape.name);\r\n\r\n  // Geometría\r\n  if (shape.geometry === 'box') {\r\n    node.addComponent(createBox(shape.size, shape.size, shape.size));\r\n  } else {\r\n    node.addComponent(createSphere(shape.size, 32, 32));\r\n  }\r\n\r\n  // Material\r\n  node.addComponent(new Material({ color: shape.color }));\r\n\r\n  // Posición\r\n  node.transform.position = shape.position;\r\n\r\n  scene.add(node);\r\n  nodes.push(node);\r\n});\r\n```\r\n\r\n### Conceptos clave\r\n\r\n- **`createBox(w, h, d)`** y **`createSphere(r, wSeg, hSeg)`** son factory functions que devuelven un componente `Geometry`.\r\n- Cada nodo es **independiente** — tiene su propia posición, geometría y material.\r\n- Pueden mezclarse diferentes tipos de geometría en la misma escena.\r\n\r\n---\r\n\r\n## Paso 4: Animar con rotaciones individuales\r\n\r\nCada figura rota a una velocidad diferente:\r\n\r\n```typescript\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n});\r\nrenderer.mount(scene);\r\n\r\nlet time = 0;\r\n\r\nfunction animate() {\r\n  time += 0.01;\r\n\r\n  nodes.forEach((node, i) => {\r\n    const speed = 0.5 + i * 0.3; // Velocidad diferente por nodo\r\n    const angle = time * speed;\r\n\r\n    node.transform.rotation = {\r\n      x: Math.sin(angle / 2) * 0.5,\r\n      y: Math.sin(angle / 2),\r\n      z: 0,\r\n      w: Math.cos(angle / 2),\r\n    };\r\n    node.transform.updateLocalMatrix();\r\n  });\r\n\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\n\r\nanimate();\r\n```\r\n\r\n---\r\n\r\n## Resultado\r\n\r\nCinco figuras geométricas de colores vibrantes rotando a diferentes velocidades, como una paleta de gemas flotantes. 💎\r\n\r\n---\r\n\r\n## Experimenta\r\n\r\n- Cambia los colores para crear tu propia paleta de marca.\r\n- Agrega más figuras al array.\r\n- Prueba con `opacity` en el `Material` para crear figuras translúcidas:\r\n  ```typescript\r\n  new Material({ color: { r: 1, g: 1, b: 1 }, opacity: 0.5 })\r\n  ```\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n➡️ [Tutorial 3: Guardar y Cargar Escenas](./03-save-load-scenes.md) — serialización JSON.","src/content/tutorials/02-color-palette.md","f20126734d7df81b",{"html":1016,"metadata":1017},"\u003Ch1 id=\"tutorial-2-paleta-de-colores\">Tutorial 2: Paleta de Colores 🟢\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Principiante\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 15 minutos\u003Cbr>\n\u003Cstrong>Qué aprenderás:\u003C/strong> Crear múltiples nodos con diferentes geometrías, colores y posiciones.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"objetivo\">Objetivo\u003C/h2>\n\u003Cp>Construir una escena con 5 figuras geométricas de diferentes colores dispuestas en línea, como una paleta de pintor.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"paso-1-crear-la-escena-base\">Paso 1: Crear la escena base\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene, Node, createBox, createSphere, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-three\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Cámara alejada para ver todos los objetos\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Perspective\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fov: \u003C/span>\u003Cspan style=\"color:#F78C6C\">60\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  aspect: window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHeight\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">10\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cam);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-definir-la-paleta\">Paso 2: Definir la paleta\u003C/h2>\n\u003Cp>Usamos un array para definir las figuras y sus propiedades:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">interface\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> ShapeDef {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  name\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  geometry\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">box\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> |\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">sphere\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  color\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { r\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; g\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; b\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  position\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; y\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; z\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  size\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> palette\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\"> ShapeDef\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[]\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">ruby\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">     geometry\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">box\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">    color\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> position\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> x\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#C792EA\"> -\u003C/span>\u003Cspan style=\"color:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> y\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> z\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> size\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">amber\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">    geometry\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">sphere\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> color\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.7\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> position\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> x\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#C792EA\"> -\u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> y\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> z\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> size\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.7\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">emerald\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">  geometry\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">box\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">    color\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.4\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> position\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> x\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\">  0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> y\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> z\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> size\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">sapphire\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> geometry\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">sphere\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> color\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> position\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> x\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\">  2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> y\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> z\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> size\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">amethyst\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> geometry\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">box\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">    color\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> position\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> x\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\">  4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> y\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> z\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> size\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">];\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-generar-los-nodos\">Paso 3: Generar los nodos\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> nodes\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[]\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">palette\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">forEach\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">shape\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">shape\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Geometría\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (shape\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">geometry\u003C/span>\u003Cspan style=\"color:#C792EA\"> ===\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">box\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(shape\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">size\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, shape\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">size\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, shape\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">size\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  } \u003C/span>\u003Cspan style=\"color:#C792EA\">else\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(shape\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">size\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Material\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: shape\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">color\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Posición\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> shape\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(node);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  nodes\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">push\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(node);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"conceptos-clave\">Conceptos clave\u003C/h3>\n\u003Cul>\n\u003Cli>\u003Cstrong>\u003Ccode>createBox(w, h, d)\u003C/code>\u003C/strong> y \u003Cstrong>\u003Ccode>createSphere(r, wSeg, hSeg)\u003C/code>\u003C/strong> son factory functions que devuelven un componente \u003Ccode>Geometry\u003C/code>.\u003C/li>\n\u003Cli>Cada nodo es \u003Cstrong>independiente\u003C/strong> — tiene su propia posición, geometría y material.\u003C/li>\n\u003Cli>Pueden mezclarse diferentes tipos de geometría en la misma escena.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"paso-4-animar-con-rotaciones-individuales\">Paso 4: Animar con rotaciones individuales\u003C/h2>\n\u003Cp>Cada figura rota a una velocidad diferente:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerHeight\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> time\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  time \u003C/span>\u003Cspan style=\"color:#C792EA\">+=\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.01\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  nodes\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">forEach\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">i\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> speed\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> i\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Velocidad diferente por nodo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> angle\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> time\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> speed\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">rotation\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      x: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(angle \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      y: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(angle \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      w: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">cos\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(angle \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">animate\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"resultado\">Resultado\u003C/h2>\n\u003Cp>Cinco figuras geométricas de colores vibrantes rotando a diferentes velocidades, como una paleta de gemas flotantes. 💎\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"experimenta\">Experimenta\u003C/h2>\n\u003Cul>\n\u003Cli>Cambia los colores para crear tu propia paleta de marca.\u003C/li>\n\u003Cli>Agrega más figuras al array.\u003C/li>\n\u003Cli>Prueba con \u003Ccode>opacity\u003C/code> en el \u003Ccode>Material\u003C/code> para crear figuras translúcidas:\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }, opacity: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> })\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>➡️ \u003Ca href=\"./03-save-load-scenes.md\">Tutorial 3: Guardar y Cargar Escenas\u003C/a> — serialización JSON.\u003C/p>",{"headings":1018,"localImagePaths":1043,"remoteImagePaths":1044,"frontmatter":1045,"imagePaths":1046},[1019,1022,1025,1028,1031,1034,1035,1038,1039,1042],{"depth":26,"slug":1020,"text":1021},"tutorial-2-paleta-de-colores","Tutorial 2: Paleta de Colores 🟢",{"depth":28,"slug":1023,"text":1024},"objetivo","Objetivo",{"depth":28,"slug":1026,"text":1027},"paso-1-crear-la-escena-base","Paso 1: Crear la escena base",{"depth":28,"slug":1029,"text":1030},"paso-2-definir-la-paleta","Paso 2: Definir la paleta",{"depth":28,"slug":1032,"text":1033},"paso-3-generar-los-nodos","Paso 3: Generar los nodos",{"depth":35,"slug":991,"text":992},{"depth":28,"slug":1036,"text":1037},"paso-4-animar-con-rotaciones-individuales","Paso 4: Animar con rotaciones individuales",{"depth":28,"slug":994,"text":995},{"depth":28,"slug":1040,"text":1041},"experimenta","Experimenta",{"depth":28,"slug":1000,"text":1001},[],[],{"title":1009,"description":1010,"order":28,"level":963,"duration":1011},[],"03-save-load-scenes",{"id":1047,"data":1049,"body":1052,"filePath":1053,"digest":1054,"rendered":1055},{"title":1050,"description":1051,"level":963,"order":35,"duration":964},"Save & Load Scenes","JSON serialization for persisting scenes","# Tutorial 3: Guardar y Cargar Escenas 🟢\r\n\r\n> **Nivel:** Principiante  \r\n> **Tiempo estimado:** 10 minutos  \r\n> **Qué aprenderás:** Serializar una escena a JSON y reconstruirla con `serialize` y `deserialize`.\r\n\r\n---\r\n\r\n## Objetivo\r\n\r\nCrear una escena, exportarla como JSON, y luego importarla para demostrar que la escena se preserva completamente.\r\n\r\n---\r\n\r\n## Paso 1: Construir una escena\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, createSphere, Material, serialize, deserialize } from '@oroya/core';\r\n\r\n// Crear escena original\r\nconst scene = new Scene();\r\n\r\nconst cube = new Node('hero-cube');\r\ncube.addComponent(createBox(2, 2, 2));\r\ncube.addComponent(new Material({ color: { r: 1, g: 0.3, b: 0.1 } }));\r\ncube.transform.position = { x: -2, y: 0, z: 0 };\r\nscene.add(cube);\r\n\r\nconst sphere = new Node('companion-sphere');\r\nsphere.addComponent(createSphere(1.5, 32, 32));\r\nsphere.addComponent(new Material({ color: { r: 0.1, g: 0.5, b: 1.0 } }));\r\nsphere.transform.position = { x: 2, y: 1, z: -1 };\r\nscene.add(sphere);\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Serializar\r\n\r\n```typescript\r\nconst json = serialize(scene);\r\n\r\nconsole.log(json);\r\n// Puedes guardar esto en localStorage, una base de datos, o un archivo .json\r\n```\r\n\r\nLa función `serialize` recorre todo el scene graph y convierte cada nodo y sus componentes a un objeto JSON plano.\r\n\r\n### ¿Qué se guarda?\r\n\r\n| Dato | ¿Se preserva? |\r\n|------|----------------|\r\n| Nombre del nodo | ✅ |\r\n| ID único (UUID) | ✅ |\r\n| Jerarquía padre-hijo | ✅ |\r\n| Transform (position, rotation, scale) | ✅ |\r\n| Geometry (tipo y parámetros) | ✅ |\r\n| Material (color, opacity) | ✅ |\r\n\r\n---\r\n\r\n## Paso 3: Deserializar\r\n\r\n```typescript\r\nconst restoredScene = deserialize(json);\r\n\r\n// Verificar que la escena se restauró\r\nconst foundCube = restoredScene.findNodeByName('hero-cube');\r\nconsole.log(foundCube?.transform.position);\r\n// → { x: -2, y: 0, z: -0 }\r\n\r\nconst foundSphere = restoredScene.findNodeByName('companion-sphere');\r\nconsole.log(foundSphere?.transform.position);\r\n// → { x: 2, y: 1, z: -1 }\r\n```\r\n\r\nLa escena restaurada es **completamente funcional** — puede montarse directamente en cualquier renderer:\r\n\r\n```typescript\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst renderer = new ThreeRenderer({ canvas, width, height });\r\nrenderer.mount(restoredScene);   // La escena restaurada funciona igual\r\nrenderer.render();\r\n```\r\n\r\n---\r\n\r\n## Caso de uso: Persistencia en localStorage\r\n\r\n```typescript\r\n// Guardar\r\nfunction saveScene(scene: Scene): void {\r\n  const json = serialize(scene);\r\n  localStorage.setItem('oroya-saved-scene', json);\r\n}\r\n\r\n// Cargar\r\nfunction loadScene(): Scene | null {\r\n  const json = localStorage.getItem('oroya-saved-scene');\r\n  if (!json) return null;\r\n  return deserialize(json);\r\n}\r\n```\r\n\r\n---\r\n\r\n## Caso de uso: Exportar como archivo descargable\r\n\r\n```typescript\r\nfunction downloadScene(scene: Scene, filename: string): void {\r\n  const json = serialize(scene);\r\n  const blob = new Blob([json], { type: 'application/json' });\r\n  const url = URL.createObjectURL(blob);\r\n  \r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = filename;\r\n  a.click();\r\n  \r\n  URL.revokeObjectURL(url);\r\n}\r\n\r\ndownloadScene(scene, 'my-scene.json');\r\n```\r\n\r\n---\r\n\r\n## Resultado\r\n\r\nUna escena que puede ser guardada, compartida y restaurada sin perder ningún dato. La serialización es la base para editores visuales, colaboración en tiempo real y versionado de escenas en Git. 💾\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n➡️ [Tutorial 4: Sistema Solar](./04-solar-system.md) — transforms jerárquicos y animación.","src/content/tutorials/03-save-load-scenes.md","afb0148ccef2a484",{"html":1056,"metadata":1057},"\u003Ch1 id=\"tutorial-3-guardar-y-cargar-escenas\">Tutorial 3: Guardar y Cargar Escenas 🟢\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Principiante\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 10 minutos\u003Cbr>\n\u003Cstrong>Qué aprenderás:\u003C/strong> Serializar una escena a JSON y reconstruirla con \u003Ccode>serialize\u003C/code> y \u003Ccode>deserialize\u003C/code>.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"objetivo\">Objetivo\u003C/h2>\n\u003Cp>Crear una escena, exportarla como JSON, y luego importarla para demostrar que la escena se preserva completamente.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"paso-1-construir-una-escena\">Paso 1: Construir una escena\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene, Node, createBox, createSphere, Material, serialize, deserialize } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Crear escena original\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cube\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">hero-cube\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cube);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> sphere\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">companion-sphere\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sphere\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sphere\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sphere\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(sphere);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-serializar\">Paso 2: Serializar\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> json\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> serialize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(json);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Puedes guardar esto en localStorage, una base de datos, o un archivo .json\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>La función \u003Ccode>serialize\u003C/code> recorre todo el scene graph y convierte cada nodo y sus componentes a un objeto JSON plano.\u003C/p>\n\u003Ch3 id=\"qué-se-guarda\">¿Qué se guarda?\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Dato\u003C/th>\u003Cth>¿Se preserva?\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Nombre del nodo\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>ID único (UUID)\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Jerarquía padre-hijo\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Transform (position, rotation, scale)\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Geometry (tipo y parámetros)\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Material (color, opacity)\u003C/td>\u003Ctd>✅\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"paso-3-deserializar\">Paso 3: Deserializar\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> restoredScene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> deserialize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">json\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Verificar que la escena se restauró\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> foundCube\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> restoredScene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">findNodeByName\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">hero-cube\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(foundCube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">?.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// → { x: -2, y: 0, z: -0 }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> foundSphere\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> restoredScene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">findNodeByName\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">companion-sphere\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(foundSphere\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">?.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// → { x: 2, y: 1, z: -1 }\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>La escena restaurada es \u003Cstrong>completamente funcional\u003C/strong> — puede montarse directamente en cualquier renderer:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-three\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(restoredScene);   \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// La escena restaurada funciona igual\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"caso-de-uso-persistencia-en-localstorage\">Caso de uso: Persistencia en localStorage\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Guardar\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> saveScene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Scene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> json\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> serialize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  localStorage\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">setItem\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">oroya-saved-scene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> json);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Cargar\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> loadScene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> |\u003C/span>\u003Cspan style=\"color:#C5E478\"> null\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> json\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> localStorage\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getItem\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">oroya-saved-scene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">!\u003C/span>\u003Cspan style=\"color:#D6DEEB\">json) \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">return\u003C/span>\u003Cspan style=\"color:#FF5874\"> null\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  return\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> deserialize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(json);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"caso-de-uso-exportar-como-archivo-descargable\">Caso de uso: Exportar como archivo descargable\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> downloadScene\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">scene\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">filename\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> void\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> json\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> serialize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> blob\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Blob\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">json\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">application/json\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> url\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> URL\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createObjectURL\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">blob\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> a\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createElement\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">a\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  a\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">href\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> url;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  a\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">download\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> filename;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  a\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">click\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF\">  URL\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">revokeObjectURL\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(url);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">downloadScene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">my-scene.json\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"resultado\">Resultado\u003C/h2>\n\u003Cp>Una escena que puede ser guardada, compartida y restaurada sin perder ningún dato. La serialización es la base para editores visuales, colaboración en tiempo real y versionado de escenas en Git. 💾\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>➡️ \u003Ca href=\"./04-solar-system.md\">Tutorial 4: Sistema Solar\u003C/a> — transforms jerárquicos y animación.\u003C/p>",{"headings":1058,"localImagePaths":1083,"remoteImagePaths":1084,"frontmatter":1085,"imagePaths":1086},[1059,1062,1063,1066,1069,1072,1075,1078,1081,1082],{"depth":26,"slug":1060,"text":1061},"tutorial-3-guardar-y-cargar-escenas","Tutorial 3: Guardar y Cargar Escenas 🟢",{"depth":28,"slug":1023,"text":1024},{"depth":28,"slug":1064,"text":1065},"paso-1-construir-una-escena","Paso 1: Construir una escena",{"depth":28,"slug":1067,"text":1068},"paso-2-serializar","Paso 2: Serializar",{"depth":35,"slug":1070,"text":1071},"qué-se-guarda","¿Qué se guarda?",{"depth":28,"slug":1073,"text":1074},"paso-3-deserializar","Paso 3: Deserializar",{"depth":28,"slug":1076,"text":1077},"caso-de-uso-persistencia-en-localstorage","Caso de uso: Persistencia en localStorage",{"depth":28,"slug":1079,"text":1080},"caso-de-uso-exportar-como-archivo-descargable","Caso de uso: Exportar como archivo descargable",{"depth":28,"slug":994,"text":995},{"depth":28,"slug":1000,"text":1001},[],[],{"title":1050,"description":1051,"order":35,"level":963,"duration":964},[],"05-svg-generative-art",{"id":1087,"data":1089,"body":1094,"filePath":1095,"digest":1096,"rendered":1097},{"title":1090,"description":1091,"level":1092,"order":138,"duration":1093},"SVG Generative Art","SVG renderer and procedural generation","intermediate","20 min","# Tutorial 5: Arte Generativo SVG 🟡\r\n\r\n> **Nivel:** Intermedio  \r\n> **Tiempo estimado:** 20 minutos  \r\n> **Qué aprenderás:** Usar el renderer SVG con `createPath2D` para generar arte vectorial procedural.\r\n\r\n---\r\n\r\n## Concepto: Renderer SVG\r\n\r\nA diferencia del renderer Three.js (que produce píxeles en un canvas), `renderToSVG` produce un **string SVG** puro. Esto significa:\r\n\r\n- Puede ejecutarse en **Node.js** (sin browser).\r\n- La salida es infinitamente escalable (vectores).\r\n- Perfecto para exportar gráficos, logos, patrones decorativos.\r\n\r\n---\r\n\r\n## Paso 1: Crear un path 2D\r\n\r\nLos paths en Oroya usan la misma sintaxis que SVG (`M`, `L`, `C`, `Z`, etc.):\r\n\r\n```typescript\r\nimport { Scene, Node, createPath2D, Material } from '@oroya/core';\r\nimport { renderToSVG } from '@oroya/renderer-svg';\r\n\r\nconst scene = new Scene();\r\n\r\n// Un triángulo simple\r\nconst triangle = new Node('triangle');\r\ntriangle.addComponent(createPath2D([\r\n  { command: 'M', args: [100, 10] },   // Mover a punto\r\n  { command: 'L', args: [40, 180] },    // Línea a punto\r\n  { command: 'L', args: [160, 180] },   // Línea a punto\r\n  { command: 'Z', args: [] },            // Cerrar path\r\n]));\r\ntriangle.addComponent(new Material({\r\n  fill: { r: 0.2, g: 0.6, b: 1.0 },\r\n  stroke: { r: 0.1, g: 0.3, b: 0.8 },\r\n  strokeWidth: 2,\r\n}));\r\nscene.add(triangle);\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Renderizar a SVG\r\n\r\n```typescript\r\nconst svgString = renderToSVG(scene, {\r\n  width: 200,\r\n  height: 200,\r\n  viewBox: '0 0 200 200',\r\n});\r\n\r\nconsole.log(svgString);\r\n// \u003Csvg width=\"200\" height=\"200\" ...>\r\n//   \u003Cpath d=\"M 100 10 L 40 180 L 160 180 Z\" fill=\"rgb(51, 153, 255)\" .../>\r\n// \u003C/svg>\r\n\r\n// Insertar en el DOM\r\ndocument.body.innerHTML = svgString;\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Arte generativo — Patrón de espiral\r\n\r\nAhora algo más interesante. Generamos una espiral usando matemáticas:\r\n\r\n```typescript\r\nfunction createSpiral(centerX: number, centerY: number, turns: number, points: number) {\r\n  const commands: { command: string; args: number[] }[] = [];\r\n  \r\n  for (let i = 0; i \u003C= points; i++) {\r\n    const t = (i / points) * turns * Math.PI * 2;\r\n    const radius = 5 + (i / points) * 80;\r\n    const x = centerX + Math.cos(t) * radius;\r\n    const y = centerY + Math.sin(t) * radius;\r\n    \r\n    commands.push({\r\n      command: i === 0 ? 'M' : 'L',\r\n      args: [Math.round(x * 10) / 10, Math.round(y * 10) / 10],\r\n    });\r\n  }\r\n  \r\n  return commands;\r\n}\r\n\r\nconst scene = new Scene();\r\n\r\nconst spiral = new Node('golden-spiral');\r\nspiral.addComponent(createPath2D(createSpiral(200, 200, 5, 500)));\r\nspiral.addComponent(new Material({\r\n  stroke: { r: 0.9, g: 0.7, b: 0.2 },\r\n  strokeWidth: 2,\r\n}));\r\nscene.add(spiral);\r\n\r\nconst svg = renderToSVG(scene, { width: 400, height: 400 });\r\ndocument.body.innerHTML = svg;\r\n```\r\n\r\n---\r\n\r\n## Paso 4: Patrón de mosaico generativo\r\n\r\nMúltiples figuras geométricas generadas algorítmicamente:\r\n\r\n```typescript\r\nconst scene = new Scene();\r\nconst gridSize = 5;\r\nconst cellSize = 80;\r\nconst padding = 10;\r\n\r\nfor (let row = 0; row \u003C gridSize; row++) {\r\n  for (let col = 0; col \u003C gridSize; col++) {\r\n    const x = padding + col * cellSize;\r\n    const y = padding + row * cellSize;\r\n    const size = cellSize - padding * 2;\r\n\r\n    // Alternar entre diferentes formas\r\n    const shapeType = (row + col) % 3;\r\n    let commands: { command: string; args: number[] }[];\r\n\r\n    switch (shapeType) {\r\n      case 0: // Cuadrado\r\n        commands = [\r\n          { command: 'M', args: [x, y] },\r\n          { command: 'L', args: [x + size, y] },\r\n          { command: 'L', args: [x + size, y + size] },\r\n          { command: 'L', args: [x, y + size] },\r\n          { command: 'Z', args: [] },\r\n        ];\r\n        break;\r\n      case 1: // Diamante\r\n        commands = [\r\n          { command: 'M', args: [x + size / 2, y] },\r\n          { command: 'L', args: [x + size, y + size / 2] },\r\n          { command: 'L', args: [x + size / 2, y + size] },\r\n          { command: 'L', args: [x, y + size / 2] },\r\n          { command: 'Z', args: [] },\r\n        ];\r\n        break;\r\n      default: // Triángulo\r\n        commands = [\r\n          { command: 'M', args: [x + size / 2, y] },\r\n          { command: 'L', args: [x + size, y + size] },\r\n          { command: 'L', args: [x, y + size] },\r\n          { command: 'Z', args: [] },\r\n        ];\r\n    }\r\n\r\n    const node = new Node(`tile-${row}-${col}`);\r\n    node.addComponent(createPath2D(commands));\r\n\r\n    // Colores basados en posición\r\n    const hueShift = (row + col) / (gridSize * 2);\r\n    node.addComponent(new Material({\r\n      fill: {\r\n        r: 0.2 + hueShift * 0.8,\r\n        g: 0.3 + (1 - hueShift) * 0.5,\r\n        b: 0.7 + Math.sin(hueShift * Math.PI) * 0.3,\r\n      },\r\n      stroke: { r: 0.1, g: 0.1, b: 0.2 },\r\n      strokeWidth: 1.5,\r\n    }));\r\n\r\n    scene.add(node);\r\n  }\r\n}\r\n\r\nconst totalSize = gridSize * cellSize;\r\nconst svg = renderToSVG(scene, {\r\n  width: totalSize,\r\n  height: totalSize,\r\n  viewBox: `0 0 ${totalSize} ${totalSize}`,\r\n});\r\n\r\ndocument.body.innerHTML = svg;\r\n```\r\n\r\n---\r\n\r\n## Caso de uso: Exportar SVG como archivo\r\n\r\n```typescript\r\nfunction downloadSVG(svgString: string, filename: string) {\r\n  const blob = new Blob([svgString], { type: 'image/svg+xml' });\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = filename;\r\n  a.click();\r\n  URL.revokeObjectURL(url);\r\n}\r\n\r\ndownloadSVG(svg, 'generative-mosaic.svg');\r\n```\r\n\r\n---\r\n\r\n## Resultado\r\n\r\nUn mosaico de colores con cuadrados, diamantes y triángulos generados proceduralmente. El archivo SVG exportado se puede abrir en cualquier editor de vectores (Figma, Illustrator, Inkscape). 🎨\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n➡️ [Tutorial 6: Cámaras y Puntos de Vista](./06-cameras-viewpoints.md) — posicionando cámaras.","src/content/tutorials/05-svg-generative-art.md","a5adbd565788baa6",{"html":1098,"metadata":1099},"\u003Ch1 id=\"tutorial-5-arte-generativo-svg\">Tutorial 5: Arte Generativo SVG 🟡\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Intermedio\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 20 minutos\u003Cbr>\n\u003Cstrong>Qué aprenderás:\u003C/strong> Usar el renderer SVG con \u003Ccode>createPath2D\u003C/code> para generar arte vectorial procedural.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto-renderer-svg\">Concepto: Renderer SVG\u003C/h2>\n\u003Cp>A diferencia del renderer Three.js (que produce píxeles en un canvas), \u003Ccode>renderToSVG\u003C/code> produce un \u003Cstrong>string SVG\u003C/strong> puro. Esto significa:\u003C/p>\n\u003Cul>\n\u003Cli>Puede ejecutarse en \u003Cstrong>Node.js\u003C/strong> (sin browser).\u003C/li>\n\u003Cli>La salida es infinitamente escalable (vectores).\u003C/li>\n\u003Cli>Perfecto para exportar gráficos, logos, patrones decorativos.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"paso-1-crear-un-path-2d\">Paso 1: Crear un path 2D\u003C/h2>\n\u003Cp>Los paths en Oroya usan la misma sintaxis que SVG (\u003Ccode>M\u003C/code>, \u003Ccode>L\u003C/code>, \u003Ccode>C\u003C/code>, \u003Ccode>Z\u003C/code>, etc.):\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene, Node, createPath2D, Material } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-svg\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Un triángulo simple\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> triangle\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">triangle\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">triangle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createPath2D\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">M\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">10\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },   \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Mover a punto\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">40\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">180\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },    \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Línea a punto\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">160\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">180\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },   \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Línea a punto\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Z\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [] },            \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Cerrar path\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">triangle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(triangle);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-renderizar-a-svg\">Paso 2: Renderizar a SVG\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> svgString\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 200\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 200\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  viewBox\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">0 0 200 200\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(svgString);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// &#x3C;svg width=\"200\" height=\"200\" ...>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">//   &#x3C;path d=\"M 100 10 L 40 180 L 160 180 Z\" fill=\"rgb(51, 153, 255)\" .../>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// &#x3C;/svg>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Insertar en el DOM\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">body\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHTML\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> svgString;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-arte-generativo--patrón-de-espiral\">Paso 3: Arte generativo — Patrón de espiral\u003C/h2>\n\u003Cp>Ahora algo más interesante. Generamos una espiral usando matemáticas:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createSpiral\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">centerX\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">centerY\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">turns\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">points\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> commands\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> command\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> string\u003C/span>\u003Cspan style=\"color:#C792EA\">;\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> args\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[]\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[]\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  for\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> i\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; i \u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;=\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> points; i\u003C/span>\u003Cspan style=\"color:#C792EA\">++\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> t\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">i\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> points\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> turns\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">PI\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> radius\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 5\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">i\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> points\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 80\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> x\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> centerX\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">cos\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">t\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> radius\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> y\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> centerY\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">t\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> radius\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    commands\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">push\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      command: i \u003C/span>\u003Cspan style=\"color:#C792EA\">===\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#C792EA\"> ?\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">M\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#C792EA\"> :\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      args: [Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">round\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(x \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 10\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 10\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">round\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(y \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 10\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 10\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  return\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> commands;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> spiral\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">golden-spiral\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">spiral\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createPath2D\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSpiral\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">200\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">200\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">500\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">spiral\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.7\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(spiral);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> svg\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 400\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 400\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">body\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHTML\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> svg;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-4-patrón-de-mosaico-generativo\">Paso 4: Patrón de mosaico generativo\u003C/h2>\n\u003Cp>Múltiples figuras geométricas generadas algorítmicamente:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> gridSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cellSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 80\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> padding\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 10\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">for\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> row\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; row \u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> gridSize; row\u003C/span>\u003Cspan style=\"color:#C792EA\">++\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  for\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> col\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; col \u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> gridSize; col\u003C/span>\u003Cspan style=\"color:#C792EA\">++\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> x\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> padding\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> col\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> cellSize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> y\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> padding\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> row\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> cellSize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> size\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> cellSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> -\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> padding\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">    // Alternar entre diferentes formas\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> shapeType\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">row\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> col\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> %\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> commands\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> command\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> string\u003C/span>\u003Cspan style=\"color:#C792EA\">;\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> args\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[]\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    switch\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (shapeType) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">      case\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Cuadrado\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        commands \u003C/span>\u003Cspan style=\"color:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">M\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [x, y] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [x \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> size, y] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [x \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> size, y \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> size] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [x, y \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> size] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Z\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        ];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">        break\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">      case\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Diamante\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        commands \u003C/span>\u003Cspan style=\"color:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">M\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [x \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> size \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [x \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> size, y \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> size \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [x \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> size \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> size] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [x, y \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> size \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Z\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        ];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">        break\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">      default\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Triángulo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        commands \u003C/span>\u003Cspan style=\"color:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">M\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [x \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> size \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [x \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> size, y \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> size] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [x, y \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> size] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">          { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Z\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        ];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> node\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#ECC48D;font-style:italic\">tile-\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">row\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#ECC48D;font-style:italic\">-\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">col\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createPath2D\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(commands));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">    // Colores basados en posición\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> hueShift\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">row\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> col\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">gridSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    node\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      fill: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> hueShift \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#C792EA\"> -\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> hueShift) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.7\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(hueShift \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF\">PI\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      stroke: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      strokeWidth: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(node);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> totalSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> gridSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> cellSize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> svg\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> totalSize\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> totalSize\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  viewBox\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> `\u003C/span>\u003Cspan style=\"color:#ECC48D;font-style:italic\">0 0 \u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">totalSize\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#D3423E\"> ${\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">totalSize\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">body\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHTML\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> svg;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"caso-de-uso-exportar-svg-como-archivo\">Caso de uso: Exportar SVG como archivo\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> downloadSVG\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">svgString\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">filename\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> string\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> blob\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Blob\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">svgString\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">image/svg+xml\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> url\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> URL\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createObjectURL\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">blob\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> a\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createElement\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">a\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  a\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">href\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> url;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  a\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">download\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> filename;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  a\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">click\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF\">  URL\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">revokeObjectURL\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(url);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">downloadSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(svg, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">generative-mosaic.svg\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"resultado\">Resultado\u003C/h2>\n\u003Cp>Un mosaico de colores con cuadrados, diamantes y triángulos generados proceduralmente. El archivo SVG exportado se puede abrir en cualquier editor de vectores (Figma, Illustrator, Inkscape). 🎨\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>➡️ \u003Ca href=\"./06-cameras-viewpoints.md\">Tutorial 6: Cámaras y Puntos de Vista\u003C/a> — posicionando cámaras.\u003C/p>",{"headings":1100,"localImagePaths":1124,"remoteImagePaths":1125,"frontmatter":1126,"imagePaths":1127},[1101,1104,1107,1110,1113,1116,1119,1122,1123],{"depth":26,"slug":1102,"text":1103},"tutorial-5-arte-generativo-svg","Tutorial 5: Arte Generativo SVG 🟡",{"depth":28,"slug":1105,"text":1106},"concepto-renderer-svg","Concepto: Renderer SVG",{"depth":28,"slug":1108,"text":1109},"paso-1-crear-un-path-2d","Paso 1: Crear un path 2D",{"depth":28,"slug":1111,"text":1112},"paso-2-renderizar-a-svg","Paso 2: Renderizar a SVG",{"depth":28,"slug":1114,"text":1115},"paso-3-arte-generativo--patrón-de-espiral","Paso 3: Arte generativo — Patrón de espiral",{"depth":28,"slug":1117,"text":1118},"paso-4-patrón-de-mosaico-generativo","Paso 4: Patrón de mosaico generativo",{"depth":28,"slug":1120,"text":1121},"caso-de-uso-exportar-svg-como-archivo","Caso de uso: Exportar SVG como archivo",{"depth":28,"slug":994,"text":995},{"depth":28,"slug":1000,"text":1001},[],[],{"title":1090,"description":1091,"order":138,"level":1092,"duration":1093},[],"06-cameras-viewpoints",{"id":1128,"data":1130,"body":1133,"filePath":1134,"digest":1135,"rendered":1136},{"title":1131,"description":1132,"level":1092,"order":16,"duration":1011},"Cameras & Viewpoints","Camera positioning and dynamic viewpoints","# Tutorial 6: Cámaras y Puntos de Vista 🟡\r\n\r\n> **Nivel:** Intermedio  \r\n> **Tiempo estimado:** 15 minutos  \r\n> **Qué aprenderás:** Posicionar cámaras, cambiar puntos de vista dinámicamente, y entender cómo la cámara como nodo del scene graph hereda transforms.\r\n\r\n---\r\n\r\n## Concepto: Cámaras como nodos\r\n\r\nEn Oroya Animate, la cámara es un **nodo más** del scene graph. Esto significa:\r\n\r\n- Puede tener un padre y heredar su transform.\r\n- Puede moverse y animarse como cualquier otro nodo.\r\n- Se puede cambiar de cámara activa reconstruyendo la escena.\r\n\r\n---\r\n\r\n## Paso 1: Crear una escena con objetos de referencia\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, createSphere, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst scene = new Scene();\r\n\r\n// Suelo (caja plana)\r\nconst floor = new Node('floor');\r\nfloor.addComponent(createBox(20, 0.1, 20));\r\nfloor.addComponent(new Material({ color: { r: 0.3, g: 0.3, b: 0.35 } }));\r\nfloor.transform.position = { x: 0, y: -1, z: 0 };\r\nscene.add(floor);\r\n\r\n// Tres pilares como referencia\r\nconst colors = [\r\n  { r: 0.9, g: 0.2, b: 0.2 },\r\n  { r: 0.2, g: 0.9, b: 0.3 },\r\n  { r: 0.2, g: 0.4, b: 0.9 },\r\n];\r\n\r\nfor (let i = 0; i \u003C 3; i++) {\r\n  const pillar = new Node(`pillar-${i}`);\r\n  const height = 1 + i;\r\n  pillar.addComponent(createBox(0.5, height, 0.5));\r\n  pillar.addComponent(new Material({ color: colors[i] }));\r\n  pillar.transform.position = { x: (i - 1) * 3, y: height / 2 - 1, z: 0 };\r\n  scene.add(pillar);\r\n}\r\n\r\n// Esfera central\r\nconst sphere = new Node('center-sphere');\r\nsphere.addComponent(createSphere(0.8, 32, 32));\r\nsphere.addComponent(new Material({ color: { r: 1.0, g: 0.8, b: 0.0 } }));\r\nsphere.transform.position = { x: 0, y: 0.5, z: 3 };\r\nscene.add(sphere);\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Definir múltiples cámaras\r\n\r\n```typescript\r\n// Cámara frontal\r\nconst frontCam = new Node('front-camera');\r\nfrontCam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 60,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 100,\r\n}));\r\nfrontCam.transform.position = { x: 0, y: 2, z: 10 };\r\nscene.add(frontCam);\r\n\r\n// Cámara cenital (desde arriba)\r\nconst topCam = new Node('top-camera');\r\ntopCam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 60,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 100,\r\n}));\r\ntopCam.transform.position = { x: 0, y: 15, z: 0.1 };\r\nscene.add(topCam);\r\n\r\n// Cámara lateral\r\nconst sideCam = new Node('side-camera');\r\nsideCam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 45,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 100,\r\n}));\r\nsideCam.transform.position = { x: 12, y: 3, z: 4 };\r\nscene.add(sideCam);\r\n```\r\n\r\n> **Nota:** `ThreeRenderer` usa la **primera** cámara que encuentra en el traverse del scene graph. Para cambiar la cámara activa, podemos reordenar las cámaras o remontarla escena.\r\n\r\n---\r\n\r\n## Paso 3: Cambiar de cámara con el teclado\r\n\r\n```typescript\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n});\r\n\r\nconst cameras = [frontCam, topCam, sideCam];\r\nconst cameraNames = ['Frontal', 'Cenital', 'Lateral'];\r\nlet activeCameraIndex = 0;\r\n\r\nfunction switchCamera(index: number) {\r\n  // Mover la cámara activa al inicio del árbol\r\n  // Removemos todas las cámaras y re-agregamos con la seleccionada primero\r\n  cameras.forEach(cam => scene.remove(cam));\r\n  \r\n  activeCameraIndex = index;\r\n  scene.add(cameras[activeCameraIndex]); // Primera cámara = activa\r\n  cameras.forEach((cam, i) => {\r\n    if (i !== activeCameraIndex) scene.add(cam);\r\n  });\r\n\r\n  renderer.mount(scene); // Re-montar para que detecte la nueva cámara\r\n  console.log(`📷 Cámara activa: ${cameraNames[activeCameraIndex]}`);\r\n}\r\n\r\n// Escuchar teclado\r\ndocument.addEventListener('keydown', (e) => {\r\n  if (e.key === '1') switchCamera(0);\r\n  if (e.key === '2') switchCamera(1);\r\n  if (e.key === '3') switchCamera(2);\r\n});\r\n\r\n// Render inicial\r\nswitchCamera(0);\r\n\r\nfunction animate() {\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\nanimate();\r\n```\r\n\r\n---\r\n\r\n## Paso 4: Cámara animada (dolly shot)\r\n\r\nUna cámara que se mueve suavemente en un arco:\r\n\r\n```typescript\r\nlet time = 0;\r\n\r\nfunction animate() {\r\n  time += 0.005;\r\n\r\n  // Mover la cámara activa en un arco\r\n  if (activeCameraIndex === 0) {\r\n    const cam = cameras[0];\r\n    cam.transform.position = {\r\n      x: Math.sin(time) * 10,\r\n      y: 2 + Math.sin(time * 2) * 1,\r\n      z: Math.cos(time) * 10,\r\n    };\r\n    cam.transform.updateLocalMatrix();\r\n  }\r\n\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\n\r\nanimate();\r\n```\r\n\r\n---\r\n\r\n## Concepto: Cámara adjunta a un nodo\r\n\r\nLa cámara puede ser hija de un nodo en movimiento. Por ejemplo, una \"cámara de seguimiento\" adjunta a un personaje:\r\n\r\n```typescript\r\nconst character = new Node('character');\r\ncharacter.addComponent(createBox(0.5, 1, 0.5));\r\ncharacter.addComponent(new Material({ color: { r: 0.3, g: 0.8, b: 0.5 } }));\r\nscene.add(character);\r\n\r\n// Cámara hija del personaje, desplazada hacia atrás y arriba\r\nconst followCam = new Node('follow-camera');\r\nfollowCam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 70,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 100,\r\n}));\r\nfollowCam.transform.position = { x: 0, y: 3, z: 8 }; // Offset relativo al personaje\r\ncharacter.add(followCam);\r\n\r\n// Cuando el personaje se mueve, la cámara lo sigue automáticamente\r\ncharacter.transform.position = { x: 5, y: 0, z: 0 };\r\ncharacter.transform.updateLocalMatrix();\r\n// → La cámara ahora está en (5, 3, 8) en coordenadas del mundo\r\n```\r\n\r\n---\r\n\r\n## Resultado\r\n\r\nUna escena con múltiples puntos de vista intercambiables con el teclado (`1`, `2`, `3`) y una cámara animada que orbita la escena. 🎥\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n➡️ [Tutorial 7: Ciudad Procedural](./07-procedural-city.md) — generación algorítmica.","src/content/tutorials/06-cameras-viewpoints.md","b563a61da1eb1669",{"html":1137,"metadata":1138},"\u003Ch1 id=\"tutorial-6-cámaras-y-puntos-de-vista\">Tutorial 6: Cámaras y Puntos de Vista 🟡\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Intermedio\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 15 minutos\u003Cbr>\n\u003Cstrong>Qué aprenderás:\u003C/strong> Posicionar cámaras, cambiar puntos de vista dinámicamente, y entender cómo la cámara como nodo del scene graph hereda transforms.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto-cámaras-como-nodos\">Concepto: Cámaras como nodos\u003C/h2>\n\u003Cp>En Oroya Animate, la cámara es un \u003Cstrong>nodo más\u003C/strong> del scene graph. Esto significa:\u003C/p>\n\u003Cul>\n\u003Cli>Puede tener un padre y heredar su transform.\u003C/li>\n\u003Cli>Puede moverse y animarse como cualquier otro nodo.\u003C/li>\n\u003Cli>Se puede cambiar de cámara activa reconstruyendo la escena.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"paso-1-crear-una-escena-con-objetos-de-referencia\">Paso 1: Crear una escena con objetos de referencia\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene, Node, createBox, createSphere, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-three\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Suelo (caja plana)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> floor\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">floor\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">floor\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">20\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">20\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">floor\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.35\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">floor\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(floor);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Tres pilares como referencia\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> colors\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">for\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> i\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; i \u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; i\u003C/span>\u003Cspan style=\"color:#C792EA\">++\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> pillar\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#ECC48D;font-style:italic\">pillar-\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">i\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> i\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  pillar\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, height, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  pillar\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: colors[i] }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  pillar\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: (i \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: height \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#C792EA\"> -\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(pillar);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Esfera central\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> sphere\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">center-sphere\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sphere\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sphere\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sphere\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(sphere);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-definir-múltiples-cámaras\">Paso 2: Definir múltiples cámaras\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Cámara frontal\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> frontCam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">front-camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">frontCam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Perspective\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fov: \u003C/span>\u003Cspan style=\"color:#F78C6C\">60\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  aspect: window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHeight\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">frontCam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">10\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(frontCam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Cámara cenital (desde arriba)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> topCam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">top-camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">topCam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Perspective\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fov: \u003C/span>\u003Cspan style=\"color:#F78C6C\">60\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  aspect: window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHeight\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">topCam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">15\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(topCam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Cámara lateral\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> sideCam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">side-camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sideCam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Perspective\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fov: \u003C/span>\u003Cspan style=\"color:#F78C6C\">45\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  aspect: window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHeight\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sideCam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">12\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(sideCam);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nota:\u003C/strong> \u003Ccode>ThreeRenderer\u003C/code> usa la \u003Cstrong>primera\u003C/strong> cámara que encuentra en el traverse del scene graph. Para cambiar la cámara activa, podemos reordenar las cámaras o remontarla escena.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"paso-3-cambiar-de-cámara-con-el-teclado\">Paso 3: Cambiar de cámara con el teclado\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerHeight\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cameras\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">frontCam\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> topCam\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> sideCam\u003C/span>\u003Cspan style=\"color:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cameraNames\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Frontal\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">Cenital\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">Lateral\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> activeCameraIndex\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> switchCamera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">index\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Mover la cámara activa al inicio del árbol\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Removemos todas las cámaras y re-agregamos con la seleccionada primero\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cameras\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">forEach\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">remove\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cam));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  activeCameraIndex \u003C/span>\u003Cspan style=\"color:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> index;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cameras[activeCameraIndex]); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Primera cámara = activa\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cameras\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">forEach\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">cam\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">i\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (i \u003C/span>\u003Cspan style=\"color:#C792EA\">!==\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> activeCameraIndex) scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Re-montar para que detecte la nueva cámara\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#ECC48D\">📷 Cámara activa: \u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB\">cameraNames[activeCameraIndex]\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Escuchar teclado\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addEventListener\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">keydown\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">e\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (e\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">key\u003C/span>\u003Cspan style=\"color:#C792EA\"> ===\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">1\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">switchCamera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (e\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">key\u003C/span>\u003Cspan style=\"color:#C792EA\"> ===\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">2\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">switchCamera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (e\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">key\u003C/span>\u003Cspan style=\"color:#C792EA\"> ===\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">3\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">switchCamera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Render inicial\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">switchCamera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">animate\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-4-cámara-animada-dolly-shot\">Paso 4: Cámara animada (dolly shot)\u003C/h2>\n\u003Cp>Una cámara que se mueve suavemente en un arco:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> time\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  time \u003C/span>\u003Cspan style=\"color:#C792EA\">+=\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.005\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Mover la cámara activa en un arco\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (activeCameraIndex \u003C/span>\u003Cspan style=\"color:#C792EA\">===\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> cameras\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      x: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 10\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      z: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">cos\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 10\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">animate\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"concepto-cámara-adjunta-a-un-nodo\">Concepto: Cámara adjunta a un nodo\u003C/h2>\n\u003Cp>La cámara puede ser hija de un nodo en movimiento. Por ejemplo, una “cámara de seguimiento” adjunta a un personaje:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> character\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">character\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">character\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">character\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(character);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Cámara hija del personaje, desplazada hacia atrás y arriba\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> followCam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">follow-camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">followCam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Perspective\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fov: \u003C/span>\u003Cspan style=\"color:#F78C6C\">70\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  aspect: window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHeight\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">followCam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">8\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }; \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Offset relativo al personaje\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">character\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(followCam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Cuando el personaje se mueve, la cámara lo sigue automáticamente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">character\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">character\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// → La cámara ahora está en (5, 3, 8) en coordenadas del mundo\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"resultado\">Resultado\u003C/h2>\n\u003Cp>Una escena con múltiples puntos de vista intercambiables con el teclado (\u003Ccode>1\u003C/code>, \u003Ccode>2\u003C/code>, \u003Ccode>3\u003C/code>) y una cámara animada que orbita la escena. 🎥\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>➡️ \u003Ca href=\"./07-procedural-city.md\">Tutorial 7: Ciudad Procedural\u003C/a> — generación algorítmica.\u003C/p>",{"headings":1139,"localImagePaths":1163,"remoteImagePaths":1164,"frontmatter":1165,"imagePaths":1166},[1140,1143,1146,1149,1152,1155,1158,1161,1162],{"depth":26,"slug":1141,"text":1142},"tutorial-6-cámaras-y-puntos-de-vista","Tutorial 6: Cámaras y Puntos de Vista 🟡",{"depth":28,"slug":1144,"text":1145},"concepto-cámaras-como-nodos","Concepto: Cámaras como nodos",{"depth":28,"slug":1147,"text":1148},"paso-1-crear-una-escena-con-objetos-de-referencia","Paso 1: Crear una escena con objetos de referencia",{"depth":28,"slug":1150,"text":1151},"paso-2-definir-múltiples-cámaras","Paso 2: Definir múltiples cámaras",{"depth":28,"slug":1153,"text":1154},"paso-3-cambiar-de-cámara-con-el-teclado","Paso 3: Cambiar de cámara con el teclado",{"depth":28,"slug":1156,"text":1157},"paso-4-cámara-animada-dolly-shot","Paso 4: Cámara animada (dolly shot)",{"depth":28,"slug":1159,"text":1160},"concepto-cámara-adjunta-a-un-nodo","Concepto: Cámara adjunta a un nodo",{"depth":28,"slug":994,"text":995},{"depth":28,"slug":1000,"text":1001},[],[],{"title":1131,"description":1132,"order":16,"level":1092,"duration":1011},[],"04-solar-system",{"id":1167,"data":1169,"body":1172,"filePath":1173,"digest":1174,"rendered":1175},{"title":1170,"description":1171,"level":1092,"order":48,"duration":1093},"Solar System","Hierarchical transforms and parent-child animations","# Tutorial 4: Sistema Solar 🟡\r\n\r\n> **Nivel:** Intermedio  \r\n> **Tiempo estimado:** 20 minutos  \r\n> **Qué aprenderás:** Transforms jerárquicos padre-hijo para crear órbitas anidadas.\r\n\r\n---\r\n\r\n## Concepto clave: Jerarquía de transforms\r\n\r\nCuando un nodo hijo rota, lo hace **relativo a su padre**. Si el padre también está rotando, el hijo orbita alrededor del padre. Este es el mismo principio que hace que la Luna orbite la Tierra mientras la Tierra orbita el Sol.\r\n\r\n```\r\nScene\r\n└── Sol (esfera amarilla, rota sobre sí mismo)\r\n    ├── Pivot Tierra (nodo vacío, rota → genera la órbita)\r\n    │   └── Tierra (esfera azul, desplazada en X)\r\n    │       ├── Pivot Luna (nodo vacío, rota más rápido)\r\n    │       │   └── Luna (esfera gris, desplazada en X)\r\n    └── Pivot Marte (nodo vacío, rota más lento)\r\n        └── Marte (esfera roja, desplazada en X)\r\n```\r\n\r\n---\r\n\r\n## Paso 1: Crear el Sol\r\n\r\n```typescript\r\nimport { Scene, Node, createSphere, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst scene = new Scene();\r\n\r\n// Cámara\r\nconst cam = new Node('camera');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 60,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 200,\r\n}));\r\ncam.transform.position = { x: 0, y: 8, z: 15 };\r\nscene.add(cam);\r\n\r\n// Sol\r\nconst sun = new Node('sun');\r\nsun.addComponent(createSphere(1.5, 32, 32));\r\nsun.addComponent(new Material({ color: { r: 1.0, g: 0.85, b: 0.1 } }));\r\nscene.add(sun);\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Crear las órbitas con nodos pivot\r\n\r\nEl truco: un **nodo vacío** (sin geometría) que rota crea una órbita para todos sus hijos.\r\n\r\n```typescript\r\n// --- Tierra ---\r\nconst earthPivot = new Node('earth-pivot'); // Nodo vacío que rota\r\nsun.add(earthPivot);                        // Hijo del Sol\r\n\r\nconst earth = new Node('earth');\r\nearth.addComponent(createSphere(0.6, 32, 32));\r\nearth.addComponent(new Material({ color: { r: 0.2, g: 0.5, b: 1.0 } }));\r\nearth.transform.position = { x: 5, y: 0, z: 0 }; // Distancia orbital\r\nearthPivot.add(earth);\r\n\r\n// --- Luna (hija de la Tierra) ---\r\nconst moonPivot = new Node('moon-pivot');\r\nearth.add(moonPivot);\r\n\r\nconst moon = new Node('moon');\r\nmoon.addComponent(createSphere(0.2, 16, 16));\r\nmoon.addComponent(new Material({ color: { r: 0.7, g: 0.7, b: 0.7 } }));\r\nmoon.transform.position = { x: 1.2, y: 0, z: 0 };\r\nmoonPivot.add(moon);\r\n\r\n// --- Marte ---\r\nconst marsPivot = new Node('mars-pivot');\r\nsun.add(marsPivot);\r\n\r\nconst mars = new Node('mars');\r\nmars.addComponent(createSphere(0.4, 32, 32));\r\nmars.addComponent(new Material({ color: { r: 0.9, g: 0.3, b: 0.1 } }));\r\nmars.transform.position = { x: 8, y: 0, z: 0 };\r\nmarsPivot.add(mars);\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Animar las rotaciones\r\n\r\n```typescript\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n});\r\nrenderer.mount(scene);\r\n\r\n// Helper para crear rotación en eje Y desde un ángulo\r\nfunction rotateY(angle: number) {\r\n  return {\r\n    x: 0,\r\n    y: Math.sin(angle / 2),\r\n    z: 0,\r\n    w: Math.cos(angle / 2),\r\n  };\r\n}\r\n\r\nlet time = 0;\r\n\r\nfunction animate() {\r\n  time += 0.005;\r\n\r\n  // Sol rota lentamente sobre sí mismo\r\n  sun.transform.rotation = rotateY(time * 0.5);\r\n  sun.transform.updateLocalMatrix();\r\n\r\n  // Pivot de la Tierra rota → la Tierra orbita el Sol\r\n  earthPivot.transform.rotation = rotateY(time * 2);\r\n  earthPivot.transform.updateLocalMatrix();\r\n\r\n  // Pivot de la Luna rota más rápido → la Luna orbita la Tierra\r\n  moonPivot.transform.rotation = rotateY(time * 8);\r\n  moonPivot.transform.updateLocalMatrix();\r\n\r\n  // Pivot de Marte rota más lento → Marte tiene órbita más lenta\r\n  marsPivot.transform.rotation = rotateY(time * 1.2);\r\n  marsPivot.transform.updateLocalMatrix();\r\n\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\n\r\nanimate();\r\n```\r\n\r\n---\r\n\r\n## ¿Cómo funciona?\r\n\r\nLa magia está en `updateWorldMatrices()` (llamado internamente por `renderer.render()`):\r\n\r\n1. El **Sol** tiene su propia worldMatrix.\r\n2. El **earthPivot** multiplica su rotación local × la worldMatrix del Sol.\r\n3. La **Tierra** multiplica su posición local (X=5) × la worldMatrix del pivotEarth. Resultado: orbita a distancia 5 del Sol.\r\n4. La **Luna** hace lo mismo relativo a la Tierra.\r\n\r\n```\r\nworldMatrix(luna) = local(luna) × local(moonPivot) × local(earth) × local(earthPivot) × local(sun)\r\n```\r\n\r\n---\r\n\r\n## Experimenta\r\n\r\n- Agrega más planetas con diferentes distancias y velocidades.\r\n- Inclina las órbitas usando rotaciones en X y Z en los pivots.\r\n- Agrega anillos a Saturno usando un cubo muy aplanado (`createBox(3, 0.05, 3)`).\r\n- Varía el tamaño y color de los planetas para hacerlo más realista.\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n➡️ [Tutorial 5: Arte Generativo SVG](./05-svg-generative-art.md) — renderer SVG y Path2D.","src/content/tutorials/04-solar-system.md","281bad48f3b786cd",{"html":1176,"metadata":1177},"\u003Ch1 id=\"tutorial-4-sistema-solar\">Tutorial 4: Sistema Solar 🟡\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Intermedio\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 20 minutos\u003Cbr>\n\u003Cstrong>Qué aprenderás:\u003C/strong> Transforms jerárquicos padre-hijo para crear órbitas anidadas.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto-clave-jerarquía-de-transforms\">Concepto clave: Jerarquía de transforms\u003C/h2>\n\u003Cp>Cuando un nodo hijo rota, lo hace \u003Cstrong>relativo a su padre\u003C/strong>. Si el padre también está rotando, el hijo orbita alrededor del padre. Este es el mismo principio que hace que la Luna orbite la Tierra mientras la Tierra orbita el Sol.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>└── Sol (esfera amarilla, rota sobre sí mismo)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    ├── Pivot Tierra (nodo vacío, rota → genera la órbita)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │   └── Tierra (esfera azul, desplazada en X)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │       ├── Pivot Luna (nodo vacío, rota más rápido)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │       │   └── Luna (esfera gris, desplazada en X)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    └── Pivot Marte (nodo vacío, rota más lento)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        └── Marte (esfera roja, desplazada en X)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-1-crear-el-sol\">Paso 1: Crear el Sol\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene, Node, createSphere, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-three\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Cámara\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Perspective\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fov: \u003C/span>\u003Cspan style=\"color:#F78C6C\">60\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  aspect: window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHeight\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">200\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">15\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Sol\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> sun\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">sun\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sun\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sun\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.85\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(sun);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-crear-las-órbitas-con-nodos-pivot\">Paso 2: Crear las órbitas con nodos pivot\u003C/h2>\n\u003Cp>El truco: un \u003Cstrong>nodo vacío\u003C/strong> (sin geometría) que rota crea una órbita para todos sus hijos.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// --- Tierra ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> earthPivot\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">earth-pivot\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Nodo vacío que rota\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sun\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(earthPivot);                        \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Hijo del Sol\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> earth\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">earth\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">earth\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">earth\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">earth\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }; \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Distancia orbital\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">earthPivot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(earth);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// --- Luna (hija de la Tierra) ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> moonPivot\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">moon-pivot\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">earth\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(moonPivot);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> moon\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">moon\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">moon\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">16\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">16\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">moon\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.7\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.7\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.7\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">moon\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">moonPivot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(moon);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// --- Marte ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> marsPivot\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">mars-pivot\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sun\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(marsPivot);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> mars\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">mars\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">mars\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0.4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">mars\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">mars\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">marsPivot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(mars);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-animar-las-rotaciones\">Paso 3: Animar las rotaciones\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerHeight\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Helper para crear rotación en eje Y desde un ángulo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> rotateY\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">angle\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  return\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    y: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(angle \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    w: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">cos\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(angle \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> time\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  time \u003C/span>\u003Cspan style=\"color:#C792EA\">+=\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.005\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Sol rota lentamente sobre sí mismo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  sun\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">rotation\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> rotateY\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  sun\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Pivot de la Tierra rota → la Tierra orbita el Sol\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  earthPivot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">rotation\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> rotateY\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  earthPivot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Pivot de la Luna rota más rápido → la Luna orbita la Tierra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  moonPivot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">rotation\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> rotateY\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  moonPivot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Pivot de Marte rota más lento → Marte tiene órbita más lenta\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  marsPivot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">rotation\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> rotateY\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  marsPivot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">animate\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"cómo-funciona\">¿Cómo funciona?\u003C/h2>\n\u003Cp>La magia está en \u003Ccode>updateWorldMatrices()\u003C/code> (llamado internamente por \u003Ccode>renderer.render()\u003C/code>):\u003C/p>\n\u003Col>\n\u003Cli>El \u003Cstrong>Sol\u003C/strong> tiene su propia worldMatrix.\u003C/li>\n\u003Cli>El \u003Cstrong>earthPivot\u003C/strong> multiplica su rotación local × la worldMatrix del Sol.\u003C/li>\n\u003Cli>La \u003Cstrong>Tierra\u003C/strong> multiplica su posición local (X=5) × la worldMatrix del pivotEarth. Resultado: orbita a distancia 5 del Sol.\u003C/li>\n\u003Cli>La \u003Cstrong>Luna\u003C/strong> hace lo mismo relativo a la Tierra.\u003C/li>\n\u003C/ol>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>worldMatrix(luna) = local(luna) × local(moonPivot) × local(earth) × local(earthPivot) × local(sun)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"experimenta\">Experimenta\u003C/h2>\n\u003Cul>\n\u003Cli>Agrega más planetas con diferentes distancias y velocidades.\u003C/li>\n\u003Cli>Inclina las órbitas usando rotaciones en X y Z en los pivots.\u003C/li>\n\u003Cli>Agrega anillos a Saturno usando un cubo muy aplanado (\u003Ccode>createBox(3, 0.05, 3)\u003C/code>).\u003C/li>\n\u003Cli>Varía el tamaño y color de los planetas para hacerlo más realista.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>➡️ \u003Ca href=\"./05-svg-generative-art.md\">Tutorial 5: Arte Generativo SVG\u003C/a> — renderer SVG y Path2D.\u003C/p>",{"headings":1178,"localImagePaths":1199,"remoteImagePaths":1200,"frontmatter":1201,"imagePaths":1202},[1179,1182,1185,1188,1191,1194,1197,1198],{"depth":26,"slug":1180,"text":1181},"tutorial-4-sistema-solar","Tutorial 4: Sistema Solar 🟡",{"depth":28,"slug":1183,"text":1184},"concepto-clave-jerarquía-de-transforms","Concepto clave: Jerarquía de transforms",{"depth":28,"slug":1186,"text":1187},"paso-1-crear-el-sol","Paso 1: Crear el Sol",{"depth":28,"slug":1189,"text":1190},"paso-2-crear-las-órbitas-con-nodos-pivot","Paso 2: Crear las órbitas con nodos pivot",{"depth":28,"slug":1192,"text":1193},"paso-3-animar-las-rotaciones","Paso 3: Animar las rotaciones",{"depth":28,"slug":1195,"text":1196},"cómo-funciona","¿Cómo funciona?",{"depth":28,"slug":1040,"text":1041},{"depth":28,"slug":1000,"text":1001},[],[],{"title":1170,"description":1171,"order":48,"level":1092,"duration":1093},[],"07-procedural-city",{"id":1203,"data":1205,"body":1210,"filePath":1211,"digest":1212,"rendered":1213},{"title":1206,"description":1207,"level":1208,"order":649,"duration":1209},"Procedural City","Algorithmic generation of complex scenes","advanced","30 min","# Tutorial 7: Ciudad Procedural 🔴\r\n\r\n> **Nivel:** Avanzado  \r\n> **Tiempo estimado:** 30 minutos  \r\n> **Qué aprenderás:** Generar escenas complejas algorítmicamente, usar el scene graph como estructura de datos, y aplicar técnicas de generación procedural de ciudades.\r\n\r\n---\r\n\r\n## Concepto\r\n\r\nEn lugar de colocar objetos uno por uno, definimos **reglas** que generan la ciudad automáticamente. Esto demuestra el poder del scene graph como estructura de datos programable.\r\n\r\n---\r\n\r\n## Paso 1: Definir los parámetros de la ciudad\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\ninterface CityConfig {\r\n  gridSize: number;       // Grilla NxN de cuadras\r\n  blockSize: number;      // Tamaño de cada cuadra\r\n  streetWidth: number;    // Ancho de calles\r\n  maxBuildingHeight: number;\r\n  minBuildingHeight: number;\r\n  buildingsPerBlock: number;\r\n}\r\n\r\nconst config: CityConfig = {\r\n  gridSize: 6,\r\n  blockSize: 8,\r\n  streetWidth: 2,\r\n  maxBuildingHeight: 12,\r\n  minBuildingHeight: 1,\r\n  buildingsPerBlock: 4,\r\n};\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Generar el suelo y las calles\r\n\r\n```typescript\r\nconst scene = new Scene();\r\n\r\n// Helper: color aleatorio en un rango\r\nfunction randomColor(base: { r: number; g: number; b: number }, variance: number) {\r\n  return {\r\n    r: Math.min(1, Math.max(0, base.r + (Math.random() - 0.5) * variance)),\r\n    g: Math.min(1, Math.max(0, base.g + (Math.random() - 0.5) * variance)),\r\n    b: Math.min(1, Math.max(0, base.b + (Math.random() - 0.5) * variance)),\r\n  };\r\n}\r\n\r\n// Suelo principal\r\nconst totalSize = config.gridSize * (config.blockSize + config.streetWidth);\r\nconst ground = new Node('ground');\r\nground.addComponent(createBox(totalSize, 0.1, totalSize));\r\nground.addComponent(new Material({ color: { r: 0.2, g: 0.2, b: 0.25 } }));\r\nground.transform.position = { x: 0, y: -0.05, z: 0 };\r\nscene.add(ground);\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Generar edificios por cuadra\r\n\r\n```typescript\r\n// Nodo contenedor para toda la ciudad\r\nconst city = new Node('city');\r\nscene.add(city);\r\n\r\n// Offset para centrar la ciudad en el origen\r\nconst offset = -totalSize / 2;\r\n\r\nfor (let row = 0; row \u003C config.gridSize; row++) {\r\n  for (let col = 0; col \u003C config.gridSize; col++) {\r\n    // Nodo contenedor por cuadra (agrupación lógica)\r\n    const block = new Node(`block-${row}-${col}`);\r\n    const blockX = offset + col * (config.blockSize + config.streetWidth) + config.blockSize / 2;\r\n    const blockZ = offset + row * (config.blockSize + config.streetWidth) + config.blockSize / 2;\r\n    block.transform.position = { x: blockX, y: 0, z: blockZ };\r\n    city.add(block);\r\n\r\n    // Generar edificios dentro de la cuadra\r\n    for (let b = 0; b \u003C config.buildingsPerBlock; b++) {\r\n      const height = config.minBuildingHeight + \r\n        Math.random() * (config.maxBuildingHeight - config.minBuildingHeight);\r\n      \r\n      // Posición aleatoria dentro de la cuadra\r\n      const margin = 1;\r\n      const maxOffset = config.blockSize / 2 - margin;\r\n      const bx = (Math.random() - 0.5) * maxOffset * 2;\r\n      const bz = (Math.random() - 0.5) * maxOffset * 2;\r\n\r\n      // Tamaño aleatorio del edificio\r\n      const width = 0.8 + Math.random() * 2;\r\n      const depth = 0.8 + Math.random() * 2;\r\n\r\n      const building = new Node(`building-${row}-${col}-${b}`);\r\n      building.addComponent(createBox(width, height, depth));\r\n      \r\n      // Color: tonos grises/azulados para edificios urbanos\r\n      building.addComponent(new Material({\r\n        color: randomColor({ r: 0.4, g: 0.45, b: 0.55 }, 0.15),\r\n      }));\r\n      \r\n      building.transform.position = { x: bx, y: height / 2, z: bz };\r\n      block.add(building);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\n## Paso 4: Agregar detalles — Parque central y torre destacada\r\n\r\n```typescript\r\n// Parque central (cuadra central diferente)\r\nconst centerIdx = Math.floor(config.gridSize / 2);\r\nconst parkBlock = city.findNodeByName(`block-${centerIdx}-${centerIdx}`);\r\nif (parkBlock) {\r\n  // Limpiar edificios del bloque central\r\n  [...parkBlock.children].forEach(child => parkBlock.remove(child));\r\n\r\n  // Agregar un \"parque\" (una caja verde plana)\r\n  const park = new Node('central-park');\r\n  park.addComponent(createBox(config.blockSize - 1, 0.2, config.blockSize - 1));\r\n  park.addComponent(new Material({ color: { r: 0.1, g: 0.6, b: 0.2 } }));\r\n  park.transform.position = { x: 0, y: 0.1, z: 0 };\r\n  parkBlock.add(park);\r\n}\r\n\r\n// Torre principal (edificio más alto, color dorado)\r\nconst tower = new Node('main-tower');\r\nconst towerHeight = config.maxBuildingHeight * 2;\r\ntower.addComponent(createBox(1.5, towerHeight, 1.5));\r\ntower.addComponent(new Material({ color: { r: 0.9, g: 0.75, b: 0.3 } }));\r\ntower.transform.position = { x: 3, y: towerHeight / 2, z: -3 };\r\ncity.add(tower);\r\n```\r\n\r\n---\r\n\r\n## Paso 5: Cámara con vista panorámica y animación\r\n\r\n```typescript\r\nconst cam = new Node('city-camera');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 50,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 200,\r\n}));\r\nscene.add(cam);\r\n\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n});\r\nrenderer.mount(scene);\r\n\r\nlet time = 0;\r\n\r\nfunction animate() {\r\n  time += 0.003;\r\n\r\n  // Órbita de la cámara alrededor de la ciudad\r\n  const radius = totalSize * 0.8;\r\n  cam.transform.position = {\r\n    x: Math.sin(time) * radius,\r\n    y: 15 + Math.sin(time * 0.5) * 5,\r\n    z: Math.cos(time) * radius,\r\n  };\r\n  cam.transform.updateLocalMatrix();\r\n\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\n\r\nanimate();\r\n```\r\n\r\n---\r\n\r\n## Estadísticas de la escena generada\r\n\r\nCon la configuración por defecto (`gridSize: 6, buildingsPerBlock: 4`):\r\n\r\n| Elemento | Cantidad |\r\n|----------|----------|\r\n| Cuadras | 36 |\r\n| Edificios | ~144 |\r\n| Nodos totales | ~180+ |\r\n| Nodos totales (con ground, park, tower, camera) | ~185 |\r\n\r\nTodo gestionado por el scene graph con actualizaciones de matrices automáticas.\r\n\r\n---\r\n\r\n## Técnicas aplicadas\r\n\r\n1. **Generación procedural** — Sin hardcodear posiciones, todo es algorítmico.\r\n2. **Agrupación jerárquica** — Cada cuadra es un nodo padre, facilitando operaciones como \"eliminar toda la cuadra\".\r\n3. **Scene graph como datos** — Usar `findNodeByName` para localizar y modificar secciones.\r\n4. **Variación controlada** — Aleatorización dentro de rangos definidos para resultados orgánicos pero coherentes.\r\n\r\n---\r\n\r\n## Experimenta\r\n\r\n- Cambia `gridSize` a 10 para una ciudad más grande.\r\n- Agrega \"antenas\" (cajas delgadas y altas) encima de algunos edificios como nodos hijos.\r\n- Implementa un sistema de \"zonas\" donde el centro tenga edificios más altos y la periferia más bajos.\r\n- Serializa la ciudad generada con `serialize()` y cárgala luego con `deserialize()`.\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n➡️ [Tutorial 8: Multi-Renderer](./08-multi-renderer.md) — misma escena en Three.js y SVG.","src/content/tutorials/07-procedural-city.md","341f82a1f4b27d3e",{"html":1214,"metadata":1215},"\u003Ch1 id=\"tutorial-7-ciudad-procedural\">Tutorial 7: Ciudad Procedural 🔴\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Avanzado\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 30 minutos\u003Cbr>\n\u003Cstrong>Qué aprenderás:\u003C/strong> Generar escenas complejas algorítmicamente, usar el scene graph como estructura de datos, y aplicar técnicas de generación procedural de ciudades.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto\">Concepto\u003C/h2>\n\u003Cp>En lugar de colocar objetos uno por uno, definimos \u003Cstrong>reglas\u003C/strong> que generan la ciudad automáticamente. Esto demuestra el poder del scene graph como estructura de datos programable.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"paso-1-definir-los-parámetros-de-la-ciudad\">Paso 1: Definir los parámetros de la ciudad\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene, Node, createBox, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-three\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">interface\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> CityConfig {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  gridSize\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;       \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Grilla NxN de cuadras\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  blockSize\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;      \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Tamaño de cada cuadra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  streetWidth\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;    \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Ancho de calles\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  maxBuildingHeight\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  minBuildingHeight\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  buildingsPerBlock\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> config\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\"> CityConfig\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  gridSize\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 6\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  blockSize\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 8\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  streetWidth\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  maxBuildingHeight\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 12\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  minBuildingHeight\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  buildingsPerBlock\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 4\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-generar-el-suelo-y-las-calles\">Paso 2: Generar el suelo y las calles\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Helper: color aleatorio en un rango\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> randomColor\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">base\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { r\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; g\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; b\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">variance\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  return\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    r: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">min\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">max\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> base\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">r\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">random\u003C/span>\u003Cspan style=\"color:#D6DEEB\">() \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> variance))\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    g: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">min\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">max\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> base\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">g\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">random\u003C/span>\u003Cspan style=\"color:#D6DEEB\">() \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> variance))\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    b: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">min\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">max\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> base\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">b\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">random\u003C/span>\u003Cspan style=\"color:#D6DEEB\">() \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> variance))\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Suelo principal\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> totalSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">gridSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">blockSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">streetWidth\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ground\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">ground\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">ground\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(totalSize, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, totalSize));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">ground\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.25\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">ground\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">0.05\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(ground);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-generar-edificios-por-cuadra\">Paso 3: Generar edificios por cuadra\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Nodo contenedor para toda la ciudad\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> city\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">city\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(city);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Offset para centrar la ciudad en el origen\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> offset\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#C792EA\"> -\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">totalSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">for\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> row\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; row \u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">gridSize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; row\u003C/span>\u003Cspan style=\"color:#C792EA\">++\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  for\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> col\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; col \u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">gridSize\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; col\u003C/span>\u003Cspan style=\"color:#C792EA\">++\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">    // Nodo contenedor por cuadra (agrupación lógica)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> block\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#ECC48D;font-style:italic\">block-\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">row\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#ECC48D;font-style:italic\">-\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">col\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> blockX\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> offset\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> col\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">blockSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">streetWidth\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">blockSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> blockZ\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> offset\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> row\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">blockSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">streetWidth\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">blockSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    block\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: blockX, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: blockZ };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    city\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(block);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">    // Generar edificios dentro de la cuadra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">    for\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; b \u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">buildingsPerBlock\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; b\u003C/span>\u003Cspan style=\"color:#C792EA\">++\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">      const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">minBuildingHeight\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">random\u003C/span>\u003Cspan style=\"color:#D6DEEB\">() \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">maxBuildingHeight\u003C/span>\u003Cspan style=\"color:#C792EA\"> -\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">minBuildingHeight\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">      // Posición aleatoria dentro de la cuadra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">      const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> margin\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">      const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> maxOffset\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">blockSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#C792EA\"> -\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> margin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">      const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> bx\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">random\u003C/span>\u003Cspan style=\"color:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#C792EA\"> -\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> maxOffset\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">      const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> bz\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">random\u003C/span>\u003Cspan style=\"color:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#C792EA\"> -\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> maxOffset\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">      // Tamaño aleatorio del edificio\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">      const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.8\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">random\u003C/span>\u003Cspan style=\"color:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">      const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> depth\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.8\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">random\u003C/span>\u003Cspan style=\"color:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">      const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> building\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#ECC48D;font-style:italic\">building-\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">row\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#ECC48D;font-style:italic\">-\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">col\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#ECC48D;font-style:italic\">-\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">b\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      building\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(width, height, depth));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">      // Color: tonos grises/azulados para edificios urbanos\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      building\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">        color: \u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">randomColor\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.45\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.55\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.15\u003C/span>\u003Cspan style=\"color:#D6DEEB\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      building\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: bx, y: height \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: bz };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      block\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(building);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-4-agregar-detalles--parque-central-y-torre-destacada\">Paso 4: Agregar detalles — Parque central y torre destacada\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Parque central (cuadra central diferente)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> centerIdx\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">floor\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">gridSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> parkBlock\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> city\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">findNodeByName\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#ECC48D;font-style:italic\">block-\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">centerIdx\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#ECC48D;font-style:italic\">-\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">centerIdx\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (parkBlock) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Limpiar edificios del bloque central\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  [\u003C/span>\u003Cspan style=\"color:#7FDBCA\">...\u003C/span>\u003Cspan style=\"color:#D6DEEB\">parkBlock\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">children\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">forEach\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">child\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> parkBlock\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">remove\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(child));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Agregar un \"parque\" (una caja verde plana)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> park\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">central-park\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  park\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">blockSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> -\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">blockSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> -\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  park\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  park\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  parkBlock\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(park);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Torre principal (edificio más alto, color dorado)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> tower\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">main-tower\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> towerHeight\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> config\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">maxBuildingHeight\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">tower\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, towerHeight, \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">tower\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.75\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">tower\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: towerHeight \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">city\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(tower);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-5-cámara-con-vista-panorámica-y-animación\">Paso 5: Cámara con vista panorámica y animación\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">city-camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Perspective\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fov: \u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  aspect: window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHeight\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">200\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerWidth\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> window\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">innerHeight\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> time\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  time \u003C/span>\u003Cspan style=\"color:#C792EA\">+=\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.003\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Órbita de la cámara alrededor de la ciudad\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> radius\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> totalSize\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    x: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> radius\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">15\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 5\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    z: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">cos\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> radius\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">animate\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"estadísticas-de-la-escena-generada\">Estadísticas de la escena generada\u003C/h2>\n\u003Cp>Con la configuración por defecto (\u003Ccode>gridSize: 6, buildingsPerBlock: 4\u003C/code>):\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Elemento\u003C/th>\u003Cth>Cantidad\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Cuadras\u003C/td>\u003Ctd>36\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Edificios\u003C/td>\u003Ctd>~144\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Nodos totales\u003C/td>\u003Ctd>~180+\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Nodos totales (con ground, park, tower, camera)\u003C/td>\u003Ctd>~185\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>Todo gestionado por el scene graph con actualizaciones de matrices automáticas.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"técnicas-aplicadas\">Técnicas aplicadas\u003C/h2>\n\u003Col>\n\u003Cli>\u003Cstrong>Generación procedural\u003C/strong> — Sin hardcodear posiciones, todo es algorítmico.\u003C/li>\n\u003Cli>\u003Cstrong>Agrupación jerárquica\u003C/strong> — Cada cuadra es un nodo padre, facilitando operaciones como “eliminar toda la cuadra”.\u003C/li>\n\u003Cli>\u003Cstrong>Scene graph como datos\u003C/strong> — Usar \u003Ccode>findNodeByName\u003C/code> para localizar y modificar secciones.\u003C/li>\n\u003Cli>\u003Cstrong>Variación controlada\u003C/strong> — Aleatorización dentro de rangos definidos para resultados orgánicos pero coherentes.\u003C/li>\n\u003C/ol>\n\u003Chr>\n\u003Ch2 id=\"experimenta\">Experimenta\u003C/h2>\n\u003Cul>\n\u003Cli>Cambia \u003Ccode>gridSize\u003C/code> a 10 para una ciudad más grande.\u003C/li>\n\u003Cli>Agrega “antenas” (cajas delgadas y altas) encima de algunos edificios como nodos hijos.\u003C/li>\n\u003Cli>Implementa un sistema de “zonas” donde el centro tenga edificios más altos y la periferia más bajos.\u003C/li>\n\u003Cli>Serializa la ciudad generada con \u003Ccode>serialize()\u003C/code> y cárgala luego con \u003Ccode>deserialize()\u003C/code>.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>➡️ \u003Ca href=\"./08-multi-renderer.md\">Tutorial 8: Multi-Renderer\u003C/a> — misma escena en Three.js y SVG.\u003C/p>",{"headings":1216,"localImagePaths":1246,"remoteImagePaths":1247,"frontmatter":1248,"imagePaths":1249},[1217,1220,1223,1226,1229,1232,1235,1238,1241,1244,1245],{"depth":26,"slug":1218,"text":1219},"tutorial-7-ciudad-procedural","Tutorial 7: Ciudad Procedural 🔴",{"depth":28,"slug":1221,"text":1222},"concepto","Concepto",{"depth":28,"slug":1224,"text":1225},"paso-1-definir-los-parámetros-de-la-ciudad","Paso 1: Definir los parámetros de la ciudad",{"depth":28,"slug":1227,"text":1228},"paso-2-generar-el-suelo-y-las-calles","Paso 2: Generar el suelo y las calles",{"depth":28,"slug":1230,"text":1231},"paso-3-generar-edificios-por-cuadra","Paso 3: Generar edificios por cuadra",{"depth":28,"slug":1233,"text":1234},"paso-4-agregar-detalles--parque-central-y-torre-destacada","Paso 4: Agregar detalles — Parque central y torre destacada",{"depth":28,"slug":1236,"text":1237},"paso-5-cámara-con-vista-panorámica-y-animación","Paso 5: Cámara con vista panorámica y animación",{"depth":28,"slug":1239,"text":1240},"estadísticas-de-la-escena-generada","Estadísticas de la escena generada",{"depth":28,"slug":1242,"text":1243},"técnicas-aplicadas","Técnicas aplicadas",{"depth":28,"slug":1040,"text":1041},{"depth":28,"slug":1000,"text":1001},[],[],{"title":1206,"description":1207,"order":649,"level":1208,"duration":1209},[],"08-multi-renderer",{"id":1250,"data":1252,"body":1256,"filePath":1257,"digest":1258,"rendered":1259},{"title":1253,"description":1254,"level":1208,"order":431,"duration":1255},"Multi-Renderer","Same scene rendered with multiple backends","25 min","# Tutorial 8: Multi-Renderer 🔴\r\n\r\n> **Nivel:** Avanzado  \r\n> **Tiempo estimado:** 25 minutos  \r\n> **Qué aprenderás:** Renderizar la **misma escena** con múltiples backends (Three.js y SVG) simultáneamente, demostrando la arquitectura engine-agnostic de Oroya Animate.\r\n\r\n---\r\n\r\n## Concepto: Una escena, múltiples representaciones\r\n\r\nEsta es la propuesta de valor central de Oroya Animate:\r\n\r\n```\r\n         ┌─────────────────┐\r\n         │   @oroya/core    │\r\n         │    Scene Graph   │\r\n         └────────┬────────┘\r\n                  │\r\n        ┌─────────┴─────────┐\r\n        │                   │\r\n   Three.js (3D)       SVG (2D)\r\n   WebGL canvas      SVG markup\r\n```\r\n\r\nLa escena se define **una sola vez**. Cada renderer la interpreta según sus capacidades.\r\n\r\n---\r\n\r\n## Paso 1: Setup del HTML\r\n\r\nNecesitamos dos áreas: un canvas para Three.js y un contenedor para SVG:\r\n\r\n```html\r\n\u003C!DOCTYPE html>\r\n\u003Chtml lang=\"en\">\r\n\u003Chead>\r\n  \u003Cmeta charset=\"UTF-8\" />\r\n  \u003Ctitle>Multi-Renderer — Oroya Animate\u003C/title>\r\n  \u003Cstyle>\r\n    body {\r\n      margin: 0;\r\n      background: #0f0f1a;\r\n      color: #fff;\r\n      font-family: system-ui, sans-serif;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      gap: 20px;\r\n      padding: 20px;\r\n    }\r\n    .renderers {\r\n      display: flex;\r\n      gap: 20px;\r\n      flex-wrap: wrap;\r\n      justify-content: center;\r\n    }\r\n    .renderer-panel {\r\n      border: 1px solid #333;\r\n      border-radius: 8px;\r\n      overflow: hidden;\r\n    }\r\n    .renderer-panel h3 {\r\n      margin: 0;\r\n      padding: 8px 16px;\r\n      background: #1a1a2e;\r\n      font-size: 14px;\r\n      text-align: center;\r\n    }\r\n    canvas { display: block; }\r\n    .svg-container { background: #fff; }\r\n  \u003C/style>\r\n\u003C/head>\r\n\u003Cbody>\r\n  \u003Ch1>🔀 Multi-Renderer Demo\u003C/h1>\r\n  \u003Cdiv class=\"renderers\">\r\n    \u003Cdiv class=\"renderer-panel\">\r\n      \u003Ch3>Three.js (WebGL 3D)\u003C/h3>\r\n      \u003Ccanvas id=\"three-canvas\" width=\"400\" height=\"400\">\u003C/canvas>\r\n    \u003C/div>\r\n    \u003Cdiv class=\"renderer-panel\">\r\n      \u003Ch3>SVG (Vector 2D)\u003C/h3>\r\n      \u003Cdiv id=\"svg-container\" class=\"svg-container\" style=\"width:400px;height:400px\">\u003C/div>\r\n    \u003C/div>\r\n  \u003C/div>\r\n  \u003Cscript type=\"module\" src=\"./main.ts\">\u003C/script>\r\n\u003C/body>\r\n\u003C/html>\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Crear la escena compartida\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, createSphere, createPath2D, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\nimport { renderToSVG } from '@oroya/renderer-svg';\r\n\r\n// ═══════════════════════════════════════════\r\n// ESCENA COMPARTIDA — definida una sola vez\r\n// ═══════════════════════════════════════════\r\nconst scene = new Scene();\r\n\r\n// Objetos 3D (para Three.js)\r\nconst cube = new Node('cube');\r\ncube.addComponent(createBox(1.5, 1.5, 1.5));\r\ncube.addComponent(new Material({ color: { r: 0.3, g: 0.6, b: 1.0 } }));\r\ncube.transform.position = { x: -2, y: 0, z: 0 };\r\nscene.add(cube);\r\n\r\nconst sphere = new Node('sphere');\r\nsphere.addComponent(createSphere(1, 32, 32));\r\nsphere.addComponent(new Material({ color: { r: 1.0, g: 0.4, b: 0.2 } }));\r\nsphere.transform.position = { x: 2, y: 0, z: 0 };\r\nscene.add(sphere);\r\n\r\n// Objetos 2D (para SVG)\r\nconst star = new Node('star');\r\nstar.addComponent(createPath2D(createStarPath(200, 200, 5, 80, 35)));\r\nstar.addComponent(new Material({\r\n  fill: { r: 1.0, g: 0.85, b: 0.0 },\r\n  stroke: { r: 0.8, g: 0.6, b: 0.0 },\r\n  strokeWidth: 2,\r\n}));\r\nscene.add(star);\r\n\r\n// Cámara (solo la usa Three.js)\r\nconst cam = new Node('camera');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 60,\r\n  aspect: 1,      // Canvas cuadrado 400x400\r\n  near: 0.1,\r\n  far: 100,\r\n}));\r\ncam.transform.position = { x: 0, y: 2, z: 6 };\r\nscene.add(cam);\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Helper para crear estrellas SVG\r\n\r\n```typescript\r\nfunction createStarPath(\r\n  cx: number, cy: number, \r\n  points: number, outerR: number, innerR: number,\r\n) {\r\n  const commands: { command: string; args: number[] }[] = [];\r\n\r\n  for (let i = 0; i \u003C points * 2; i++) {\r\n    const angle = (i * Math.PI) / points - Math.PI / 2;\r\n    const r = i % 2 === 0 ? outerR : innerR;\r\n    const x = cx + Math.cos(angle) * r;\r\n    const y = cy + Math.sin(angle) * r;\r\n\r\n    commands.push({\r\n      command: i === 0 ? 'M' : 'L',\r\n      args: [Math.round(x * 10) / 10, Math.round(y * 10) / 10],\r\n    });\r\n  }\r\n\r\n  commands.push({ command: 'Z', args: [] });\r\n  return commands;\r\n}\r\n```\r\n\r\n---\r\n\r\n## Paso 4: Renderizar con ambos backends\r\n\r\n```typescript\r\n// ═══════════════════════════════════════════\r\n// RENDERER THREE.JS — renderizado 3D \r\n// ═══════════════════════════════════════════\r\nconst threeRenderer = new ThreeRenderer({\r\n  canvas: document.getElementById('three-canvas') as HTMLCanvasElement,\r\n  width: 400,\r\n  height: 400,\r\n});\r\nthreeRenderer.mount(scene);\r\n\r\n// ═══════════════════════════════════════════\r\n// RENDERER SVG — renderizado 2D\r\n// ═══════════════════════════════════════════\r\nfunction updateSVG() {\r\n  const svgString = renderToSVG(scene, {\r\n    width: 400,\r\n    height: 400,\r\n    viewBox: '0 0 400 400',\r\n  });\r\n  document.getElementById('svg-container')!.innerHTML = svgString;\r\n}\r\n\r\n// ═══════════════════════════════════════════\r\n// ANIMACIÓN — ambos renderers leen la misma escena\r\n// ═══════════════════════════════════════════\r\nlet time = 0;\r\nlet lastSvgUpdate = 0;\r\n\r\nfunction animate() {\r\n  time += 0.01;\r\n\r\n  // Animar los objetos 3D\r\n  cube.transform.rotation = {\r\n    x: Math.sin(time * 0.7 / 2) * 0.5,\r\n    y: Math.sin(time / 2),\r\n    z: 0,\r\n    w: Math.cos(time / 2),\r\n  };\r\n  cube.transform.updateLocalMatrix();\r\n\r\n  sphere.transform.position = {\r\n    x: 2,\r\n    y: Math.sin(time * 2) * 0.5,\r\n    z: 0,\r\n  };\r\n  sphere.transform.updateLocalMatrix();\r\n\r\n  // Three.js: renderizar cada frame\r\n  threeRenderer.render();\r\n\r\n  // SVG: actualizar cada 100ms (no necesita 60fps)\r\n  if (time - lastSvgUpdate > 0.1) {\r\n    updateSVG();\r\n    lastSvgUpdate = time;\r\n  }\r\n\r\n  requestAnimationFrame(animate);\r\n}\r\n\r\nupdateSVG();  // Render inicial SVG\r\nanimate();\r\n```\r\n\r\n---\r\n\r\n## ¿Qué renderiza cada backend?\r\n\r\n| Elemento | Three.js | SVG |\r\n|----------|----------|-----|\r\n| `cube` (Box) | ✅ Cubo 3D con sombras | ❌ Sin soporte para Box |\r\n| `sphere` (Sphere) | ✅ Esfera 3D | ❌ Sin soporte para Sphere |\r\n| `star` (Path2D) | ❌ Sin soporte para Path2D | ✅ Estrella vectorial |\r\n| `camera` | ✅ Define el punto de vista | ❌ No aplica |\r\n\r\nCada renderer ignora los componentes que no sabe manejar. Esto es **intencional** — permite que la misma escena tenga contenido para diferentes backends.\r\n\r\n---\r\n\r\n## Arquitectura del patrón\r\n\r\n```mermaid\r\ngraph LR\r\n    A[Scene Graph] --> B{Component Type?}\r\n    B -->|Box, Sphere| C[Three.js Renderer]\r\n    B -->|Path2D| D[SVG Renderer]\r\n    B -->|Camera| C\r\n    C --> E[WebGL Canvas]\r\n    D --> F[SVG String]\r\n```\r\n\r\n### Beneficios de este patrón\r\n\r\n1. **Código DRY** — La escena se define una vez.\r\n2. **Testeable** — Se puede verificar la escena sin renderer.\r\n3. **Extensible** — Agregar un nuevo renderer (Canvas2D, WebGPU) no requiere cambiar el core.\r\n4. **Server-side** — El SVG renderer funciona en Node.js sin browser.\r\n\r\n---\r\n\r\n## Caso de uso innovador: Preview 2D + Export 3D\r\n\r\n```typescript\r\n// En el editor (rápido, ligero)\r\nconst preview = renderToSVG(scene, { width: 800, height: 600 });\r\ndocument.getElementById('preview')!.innerHTML = preview;\r\n\r\n// Al exportar (full quality)\r\nconst renderer = new ThreeRenderer({ canvas, width: 1920, height: 1080 });\r\nrenderer.mount(scene);\r\nrenderer.render();\r\n// → Capturar canvas como imagen para export\r\n```\r\n\r\n---\r\n\r\n## Resultado\r\n\r\nUna ventana dividida mostrando la misma escena renderizada simultáneamente en WebGL 3D y SVG 2D, demostrando que el scene graph es verdaderamente agnóstico del backend. 🔀\r\n\r\n---\r\n\r\n## ¿Qué sigue?\r\n\r\nHas completado todos los tutoriales. Ahora puedes:\r\n\r\n- 🏗️ Construir tus propias escenas combinando las técnicas aprendidas.\r\n- 🔌 Crear un nuevo renderer (Canvas2D, WebGPU) siguiendo el patrón de `@oroya/renderer-three`.\r\n- 📦 Contribuir al proyecto — revisa la [guía de contribución](../contributing.md).\r\n\r\n➡️ [Volver al índice de tutoriales](./README.md)","src/content/tutorials/08-multi-renderer.md","bf8937d141e05c36",{"html":1260,"metadata":1261},"\u003Ch1 id=\"tutorial-8-multi-renderer\">Tutorial 8: Multi-Renderer 🔴\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Avanzado\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 25 minutos\u003Cbr>\n\u003Cstrong>Qué aprenderás:\u003C/strong> Renderizar la \u003Cstrong>misma escena\u003C/strong> con múltiples backends (Three.js y SVG) simultáneamente, demostrando la arquitectura engine-agnostic de Oroya Animate.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto-una-escena-múltiples-representaciones\">Concepto: Una escena, múltiples representaciones\u003C/h2>\n\u003Cp>Esta es la propuesta de valor central de Oroya Animate:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>         ┌─────────────────┐\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         │   @oroya/core    │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         │    Scene Graph   │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         └────────┬────────┘\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                  │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        ┌─────────┴─────────┐\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        │                   │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>   Three.js (3D)       SVG (2D)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>   WebGL canvas      SVG markup\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>La escena se define \u003Cstrong>una sola vez\u003C/strong>. Cada renderer la interpreta según sus capacidades.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"paso-1-setup-del-html\">Paso 1: Setup del HTML\u003C/h2>\n\u003Cp>Necesitamos dos áreas: un canvas para Three.js y un contenedor para SVG:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;!\u003C/span>\u003Cspan style=\"color:#CAECE6\">DOCTYPE\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> html\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">html\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> lang\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">en\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">head\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">meta\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> charset\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">UTF-8\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">title\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">Multi-Renderer — Oroya Animate\u003C/span>\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">title\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">style\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF6363\">    body\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      margin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      background\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">#\u003C/span>\u003Cspan style=\"color:#FFEB95\">0f0f1a\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      color\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">#\u003C/span>\u003Cspan style=\"color:#FFEB95\">fff\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      font-family\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#7FDBCA\">system-ui\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#7FDBCA\">sans-serif\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      display\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF6363\">flex\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      flex-direction\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF6363\">column\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      align-items\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF6363\">center\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      gap\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">20\u003C/span>\u003Cspan style=\"color:#FFEB95\">px\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      padding\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">20\u003C/span>\u003Cspan style=\"color:#FFEB95\">px\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">    .\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\">renderers\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      display\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF6363\">flex\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      gap\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">20\u003C/span>\u003Cspan style=\"color:#FFEB95\">px\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      flex-wrap\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF6363\">wrap\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      justify-content\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF6363\">center\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">    .\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\">renderer-panel\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      border\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#FFEB95\">px\u003C/span>\u003Cspan style=\"color:#FF6363\"> solid\u003C/span>\u003Cspan style=\"color:#F78C6C\"> #\u003C/span>\u003Cspan style=\"color:#FFEB95\">333\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      border-radius\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">8\u003C/span>\u003Cspan style=\"color:#FFEB95\">px\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      overflow\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF6363\">hidden\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">    .\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\">renderer-panel\u003C/span>\u003Cspan style=\"color:#FF6363\"> h3\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      margin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      padding\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">8\u003C/span>\u003Cspan style=\"color:#FFEB95\">px\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 16\u003C/span>\u003Cspan style=\"color:#FFEB95\">px\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      background\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">#\u003C/span>\u003Cspan style=\"color:#FFEB95\">1a1a2e\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      font-size\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">14\u003C/span>\u003Cspan style=\"color:#FFEB95\">px\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">      text-align\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF6363\">center\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF6363\">    canvas\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { \u003C/span>\u003Cspan style=\"color:#80CBC4\">display\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#FF6363\">block\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">    .\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\">svg-container\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { \u003C/span>\u003Cspan style=\"color:#80CBC4\">background\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#F78C6C\">#\u003C/span>\u003Cspan style=\"color:#FFEB95\">fff\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">style\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">head\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">body\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">h1\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">🔀 Multi-Renderer Demo\u003C/span>\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">h1\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">div\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> class\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">renderers\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">div\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> class\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">renderer-panel\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">h3\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">Three.js (WebGL 3D)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">h3\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">canvas\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> id\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">three-canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">400\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">400\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">canvas\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    &#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">div\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">div\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> class\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">renderer-panel\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">h3\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003Cspan style=\"color:#D6DEEB\">SVG (Vector 2D)\u003C/span>\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">h3\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">div\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> id\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">svg-container\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> class\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">svg-container\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> style\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">width:400px;height:400px\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">div\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    &#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">div\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">div\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">script\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> type\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">module\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> src\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">./main.ts\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">script\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">body\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">html\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-crear-la-escena-compartida\">Paso 2: Crear la escena compartida\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { Scene, Node, createBox, createSphere, createPath2D, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-three\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-svg\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ═══════════════════════════════════════════\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ESCENA COMPARTIDA — definida una sola vez\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ═══════════════════════════════════════════\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Objetos 3D (para Three.js)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cube\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">cube\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cube);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> sphere\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">sphere\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sphere\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">32\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sphere\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sphere\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(sphere);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Objetos 2D (para SVG)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> star\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">star\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">star\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createPath2D\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createStarPath\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">200\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">200\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">80\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">35\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">star\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.85\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(star);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Cámara (solo la usa Three.js)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">camera\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Perspective\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fov: \u003C/span>\u003Cspan style=\"color:#F78C6C\">60\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  aspect: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,      \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Canvas cuadrado 400x400\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">6\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cam);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-helper-para-crear-estrellas-svg\">Paso 3: Helper para crear estrellas SVG\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createStarPath\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D7DBE0\">  cx\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">cy\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D7DBE0\">  points\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">outerR\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">innerR\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> commands\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> command\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> string\u003C/span>\u003Cspan style=\"color:#C792EA\">;\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> args\u003C/span>\u003Cspan style=\"color:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> number\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[]\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[]\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  for\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> i\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; i \u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> points \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; i\u003C/span>\u003Cspan style=\"color:#C792EA\">++\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> angle\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">i\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">PI\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> points\u003C/span>\u003Cspan style=\"color:#C792EA\"> -\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">PI\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> i\u003C/span>\u003Cspan style=\"color:#C792EA\"> %\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#C792EA\"> ===\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#C792EA\"> ?\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> outerR\u003C/span>\u003Cspan style=\"color:#C792EA\"> :\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> innerR\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> x\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> cx\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">cos\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">angle\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> y\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> cy\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">angle\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    commands\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">push\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      command: i \u003C/span>\u003Cspan style=\"color:#C792EA\">===\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#C792EA\"> ?\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">M\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#C792EA\"> :\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      args: [Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">round\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(x \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 10\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 10\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">round\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(y \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 10\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 10\u003C/span>\u003Cspan style=\"color:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  commands\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">push\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Z\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> args: [] });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  return\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> commands;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-4-renderizar-con-ambos-backends\">Paso 4: Renderizar con ambos backends\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ═══════════════════════════════════════════\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// RENDERER THREE.JS — renderizado 3D \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ═══════════════════════════════════════════\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> threeRenderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">three-canvas\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> as \u003C/span>\u003Cspan style=\"color:#FFCB8B;font-style:italic\">HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 400\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 400\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">threeRenderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ═══════════════════════════════════════════\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// RENDERER SVG — renderizado 2D\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ═══════════════════════════════════════════\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> updateSVG\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> svgString\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">    width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 400\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">    height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 400\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">    viewBox\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">0 0 400 400\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">svg-container\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\">!\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHTML\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> svgString;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ═══════════════════════════════════════════\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ANIMACIÓN — ambos renderers leen la misma escena\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// ═══════════════════════════════════════════\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> time\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> lastSvgUpdate\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  time \u003C/span>\u003Cspan style=\"color:#C792EA\">+=\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.01\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Animar los objetos 3D\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">rotation\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    x: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.7\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    y: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    w: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">cos\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time \u003C/span>\u003Cspan style=\"color:#C792EA\">/\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cube\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  sphere\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    y: Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(time \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  sphere\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Three.js: renderizar cada frame\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  threeRenderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // SVG: actualizar cada 100ms (no necesita 60fps)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  if\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (time \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> lastSvgUpdate \u003C/span>\u003Cspan style=\"color:#C792EA\">>\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">    updateSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    lastSvgUpdate \u003C/span>\u003Cspan style=\"color:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> time;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();  \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Render inicial SVG\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">animate\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"qué-renderiza-cada-backend\">¿Qué renderiza cada backend?\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Elemento\u003C/th>\u003Cth>Three.js\u003C/th>\u003Cth>SVG\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>cube\u003C/code> (Box)\u003C/td>\u003Ctd>✅ Cubo 3D con sombras\u003C/td>\u003Ctd>❌ Sin soporte para Box\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>sphere\u003C/code> (Sphere)\u003C/td>\u003Ctd>✅ Esfera 3D\u003C/td>\u003Ctd>❌ Sin soporte para Sphere\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>star\u003C/code> (Path2D)\u003C/td>\u003Ctd>❌ Sin soporte para Path2D\u003C/td>\u003Ctd>✅ Estrella vectorial\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>camera\u003C/code>\u003C/td>\u003Ctd>✅ Define el punto de vista\u003C/td>\u003Ctd>❌ No aplica\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>Cada renderer ignora los componentes que no sabe manejar. Esto es \u003Cstrong>intencional\u003C/strong> — permite que la misma escena tenga contenido para diferentes backends.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"arquitectura-del-patrón\">Arquitectura del patrón\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    A[Scene Graph] --> B{Component Type?}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    B -->|Box, Sphere| C[Three.js Renderer]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    B -->|Path2D| D[SVG Renderer]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    B -->|Camera| C\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    C --> E[WebGL Canvas]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    D --> F[SVG String]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"beneficios-de-este-patrón\">Beneficios de este patrón\u003C/h3>\n\u003Col>\n\u003Cli>\u003Cstrong>Código DRY\u003C/strong> — La escena se define una vez.\u003C/li>\n\u003Cli>\u003Cstrong>Testeable\u003C/strong> — Se puede verificar la escena sin renderer.\u003C/li>\n\u003Cli>\u003Cstrong>Extensible\u003C/strong> — Agregar un nuevo renderer (Canvas2D, WebGPU) no requiere cambiar el core.\u003C/li>\n\u003Cli>\u003Cstrong>Server-side\u003C/strong> — El SVG renderer funciona en Node.js sin browser.\u003C/li>\n\u003C/ol>\n\u003Chr>\n\u003Ch2 id=\"caso-de-uso-innovador-preview-2d--export-3d\">Caso de uso innovador: Preview 2D + Export 3D\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// En el editor (rápido, ligero)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> preview\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 800\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 600\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">preview\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\">!\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHTML\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> preview;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Al exportar (full quality)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#C792EA\">{\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> canvas\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1920\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1080\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">mount\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">renderer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">render\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// → Capturar canvas como imagen para export\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"resultado\">Resultado\u003C/h2>\n\u003Cp>Una ventana dividida mostrando la misma escena renderizada simultáneamente en WebGL 3D y SVG 2D, demostrando que el scene graph es verdaderamente agnóstico del backend. 🔀\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"qué-sigue\">¿Qué sigue?\u003C/h2>\n\u003Cp>Has completado todos los tutoriales. Ahora puedes:\u003C/p>\n\u003Cul>\n\u003Cli>🏗️ Construir tus propias escenas combinando las técnicas aprendidas.\u003C/li>\n\u003Cli>🔌 Crear un nuevo renderer (Canvas2D, WebGPU) siguiendo el patrón de \u003Ccode>@oroya/renderer-three\u003C/code>.\u003C/li>\n\u003Cli>📦 Contribuir al proyecto — revisa la \u003Ca href=\"../contributing.md\">guía de contribución\u003C/a>.\u003C/li>\n\u003C/ul>\n\u003Cp>➡️ \u003Ca href=\"./README.md\">Volver al índice de tutoriales\u003C/a>\u003C/p>",{"headings":1262,"localImagePaths":1295,"remoteImagePaths":1296,"frontmatter":1297,"imagePaths":1298},[1263,1266,1269,1270,1273,1276,1279,1282,1285,1288,1291,1292],{"depth":26,"slug":1264,"text":1265},"tutorial-8-multi-renderer","Tutorial 8: Multi-Renderer 🔴",{"depth":28,"slug":1267,"text":1268},"concepto-una-escena-múltiples-representaciones","Concepto: Una escena, múltiples representaciones",{"depth":28,"slug":979,"text":980},{"depth":28,"slug":1271,"text":1272},"paso-2-crear-la-escena-compartida","Paso 2: Crear la escena compartida",{"depth":28,"slug":1274,"text":1275},"paso-3-helper-para-crear-estrellas-svg","Paso 3: Helper para crear estrellas SVG",{"depth":28,"slug":1277,"text":1278},"paso-4-renderizar-con-ambos-backends","Paso 4: Renderizar con ambos backends",{"depth":28,"slug":1280,"text":1281},"qué-renderiza-cada-backend","¿Qué renderiza cada backend?",{"depth":28,"slug":1283,"text":1284},"arquitectura-del-patrón","Arquitectura del patrón",{"depth":35,"slug":1286,"text":1287},"beneficios-de-este-patrón","Beneficios de este patrón",{"depth":28,"slug":1289,"text":1290},"caso-de-uso-innovador-preview-2d--export-3d","Caso de uso innovador: Preview 2D + Export 3D",{"depth":28,"slug":994,"text":995},{"depth":28,"slug":1293,"text":1294},"qué-sigue","¿Qué sigue?",[],[],{"title":1253,"description":1254,"order":431,"level":1208,"duration":1255},[],"09-svg-gradients-filters",{"id":1299,"data":1301,"body":1305,"filePath":1306,"digest":1307,"rendered":1308},{"title":1302,"description":1303,"level":1092,"order":1304,"duration":1255},"SVG Gradients & Filters","Gradients, blur, drop-shadow, clip-paths and masks",9,"# Tutorial 9: Gradientes, Filtros y Efectos SVG 🟡\r\n\r\n> **Nivel:** Intermedio  \r\n> **Tiempo estimado:** 25 minutos  \r\n> **Qué aprenderás:** Aplicar gradientes lineales/radiales, filtros (blur, drop-shadow), clip-paths y masks usando el renderer SVG.\r\n\r\n---\r\n\r\n## Concepto: Efectos visuales SVG\r\n\r\nEl renderer SVG de Oroya genera automáticamente bloques `\u003Cdefs>` con gradientes, filtros, clip-paths y masks cuando los defines en el `MaterialDef` de un nodo. No necesitas escribir SVG a mano — el renderer traduce la API declarativa a markup válido.\r\n\r\n```mermaid\r\ngraph LR\r\n    MD[\"MaterialDef\"] --> R[\"renderToSVG\"]\r\n    R -->|\"fillGradient\"| D1[\"defs → linearGradient / radialGradient\"]\r\n    R -->|\"filter\"| D2[\"defs → filter → feGaussianBlur / feDropShadow\"]\r\n    R -->|\"clipPath\"| D3[\"defs → clipPath → path\"]\r\n    R -->|\"mask\"| D4[\"defs → mask → path\"]\r\n```\r\n\r\n---\r\n\r\n## Paso 1: Setup base\r\n\r\n```typescript\r\nimport {\r\n  Scene, Node, Camera, CameraType, Material,\r\n  createBox, createSphere, createPath2D, createText,\r\n} from '@oroya/core';\r\nimport { renderToSVG } from '@oroya/renderer-svg';\r\n\r\nconst scene = new Scene();\r\n\r\n// Cámara ortográfica define el viewBox automáticamente\r\nconst cam = new Node('cam');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Orthographic,\r\n  left: 0, right: 600,\r\n  top: 0, bottom: 400,\r\n  near: 0.1, far: 100,\r\n}));\r\nscene.add(cam);\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Gradiente lineal\r\n\r\nUn gradiente lineal define un degradé de color entre dos puntos. Las coordenadas `x1, y1, x2, y2` van de 0 a 1 (relativas al bounding box del elemento).\r\n\r\n```typescript\r\nconst gradientBox = new Node('gradient-box');\r\ngradientBox.addComponent(createBox(200, 120, 0));\r\ngradientBox.addComponent(new Material({\r\n  fillGradient: {\r\n    type: 'linear',\r\n    x1: 0, y1: 0, x2: 1, y2: 1, // diagonal\r\n    stops: [\r\n      { offset: 0, color: { r: 0.2, g: 0.5, b: 1.0 } },\r\n      { offset: 0.5, color: { r: 1, g: 1, b: 1 } },\r\n      { offset: 1, color: { r: 0.8, g: 0.2, b: 0.6 } },\r\n    ],\r\n  },\r\n  stroke: { r: 0.3, g: 0.3, b: 0.4 },\r\n  strokeWidth: 2,\r\n}));\r\ngradientBox.transform.position = { x: 150, y: 100, z: 0 };\r\ngradientBox.transform.updateLocalMatrix();\r\nscene.add(gradientBox);\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Cdefs>\r\n  \u003ClinearGradient id=\"oroya-grad-0\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">\r\n    \u003Cstop offset=\"0\" stop-color=\"rgb(51, 128, 255)\" />\r\n    \u003Cstop offset=\"0.5\" stop-color=\"rgb(255, 255, 255)\" />\r\n    \u003Cstop offset=\"1\" stop-color=\"rgb(204, 51, 153)\" />\r\n  \u003C/linearGradient>\r\n\u003C/defs>\r\n\u003Cg transform=\"matrix(1,0,0,1,150,100)\">\r\n  \u003Crect x=\"-100\" y=\"-60\" width=\"200\" height=\"120\"\r\n        fill=\"url(#oroya-grad-0)\" stroke=\"rgb(77, 77, 102)\" stroke-width=\"2\" />\r\n\u003C/g>\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Gradiente radial\r\n\r\nIdeal para crear efectos de brillo o esferas estilizadas:\r\n\r\n```typescript\r\nconst sun = new Node('sun');\r\nsun.addComponent(createSphere(60));\r\nsun.addComponent(new Material({\r\n  fillGradient: {\r\n    type: 'radial',\r\n    cx: 0.4, cy: 0.4, r: 0.6,  // Centro desplazado → efecto 3D\r\n    stops: [\r\n      { offset: 0, color: { r: 1, g: 1, b: 0.8 } },       // Centro brillante\r\n      { offset: 0.6, color: { r: 1, g: 0.8, b: 0 } },     // Amarillo medio\r\n      { offset: 1, color: { r: 0.9, g: 0.3, b: 0 }, opacity: 0.8 }, // Borde oscuro\r\n    ],\r\n  },\r\n}));\r\nsun.transform.position = { x: 450, y: 100, z: 0 };\r\nsun.transform.updateLocalMatrix();\r\nscene.add(sun);\r\n```\r\n\r\n> **Tip:** Desplazar `cx/cy` del centro (0.5, 0.5) crea un efecto de iluminación lateral muy convincente.\r\n\r\n---\r\n\r\n## Paso 4: Filtro Blur\r\n\r\nEl efecto `blur` aplica un desenfoque gaussiano al elemento completo:\r\n\r\n```typescript\r\nconst blurred = new Node('blurred-circle');\r\nblurred.addComponent(createSphere(50));\r\nblurred.addComponent(new Material({\r\n  fill: { r: 0.5, g: 0.8, b: 1.0 },\r\n  filter: {\r\n    effects: [{ type: 'blur', stdDeviation: 4 }],\r\n  },\r\n}));\r\nblurred.transform.position = { x: 150, y: 280, z: 0 };\r\nblurred.transform.updateLocalMatrix();\r\nscene.add(blurred);\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Cdefs>\r\n  \u003Cfilter id=\"oroya-filter-0\">\r\n    \u003CfeGaussianBlur stdDeviation=\"4\" />\r\n  \u003C/filter>\r\n\u003C/defs>\r\n\u003Ccircle cx=\"0\" cy=\"0\" r=\"50\" fill=\"rgb(128, 204, 255)\"\r\n        filter=\"url(#oroya-filter-0)\" />\r\n```\r\n\r\n---\r\n\r\n## Paso 5: Drop Shadow\r\n\r\nCombina desplazamiento y desenfoque para crear una sombra proyectada:\r\n\r\n```typescript\r\nconst card = new Node('shadow-card');\r\ncard.addComponent(createBox(160, 100, 0));\r\ncard.addComponent(new Material({\r\n  fill: { r: 1.0, g: 0.95, b: 0.9 },\r\n  stroke: { r: 0.8, g: 0.7, b: 0.6 },\r\n  strokeWidth: 1,\r\n  filter: {\r\n    effects: [{\r\n      type: 'dropShadow',\r\n      dx: 5, dy: 5,            // Desplazamiento de la sombra\r\n      stdDeviation: 3,          // Desenfoque de la sombra\r\n      floodColor: '#333',       // Color de la sombra\r\n      floodOpacity: 0.4,        // Transparencia de la sombra\r\n    }],\r\n  },\r\n}));\r\ncard.transform.position = { x: 320, y: 280, z: 0 };\r\ncard.transform.updateLocalMatrix();\r\nscene.add(card);\r\n```\r\n\r\n---\r\n\r\n## Paso 6: Clip Path\r\n\r\nRecorta un nodo a una forma vectorial arbitraria. Solo se muestra la intersección entre la geometría original y el path de recorte:\r\n\r\n```typescript\r\n// Un círculo recortado con forma de estrella\r\nconst clipped = new Node('star-clipped');\r\nclipped.addComponent(createSphere(55));\r\nclipped.addComponent(new Material({\r\n  fillGradient: {\r\n    type: 'radial',\r\n    stops: [\r\n      { offset: 0, color: { r: 1, g: 1, b: 0.3 } },\r\n      { offset: 1, color: { r: 1, g: 0.4, b: 0 } },\r\n    ],\r\n  },\r\n  clipPath: {\r\n    path: createStarPath(0, 0, 5, 55, 22),\r\n  },\r\n}));\r\nclipped.transform.position = { x: 500, y: 280, z: 0 };\r\nclipped.transform.updateLocalMatrix();\r\nscene.add(clipped);\r\n\r\n// Helper: genera un path de estrella\r\nfunction createStarPath(cx, cy, points, outerR, innerR) {\r\n  const cmds = [];\r\n  for (let i = 0; i \u003C points * 2; i++) {\r\n    const angle = (i * Math.PI) / points - Math.PI / 2;\r\n    const r = i % 2 === 0 ? outerR : innerR;\r\n    cmds.push({\r\n      command: i === 0 ? 'M' : 'L',\r\n      args: [cx + Math.cos(angle) * r, cy + Math.sin(angle) * r],\r\n    });\r\n  }\r\n  cmds.push({ command: 'Z', args: [] });\r\n  return cmds;\r\n}\r\n```\r\n\r\n---\r\n\r\n## Paso 7: Mask\r\n\r\nSimilar al clip-path, pero usa **luminancia** en lugar de forma vectorial binaria. Las áreas blancas son visibles, las negras son transparentes:\r\n\r\n```typescript\r\nconst masked = new Node('masked-rect');\r\nmasked.addComponent(createBox(140, 100, 0));\r\nmasked.addComponent(new Material({\r\n  fillGradient: {\r\n    type: 'linear', x1: 0, y1: 0, x2: 1, y2: 0,\r\n    stops: [\r\n      { offset: 0, color: { r: 0.9, g: 0.1, b: 0.5 } },\r\n      { offset: 1, color: { r: 0.2, g: 0.1, b: 0.9 } },\r\n    ],\r\n  },\r\n  mask: {\r\n    path: [\r\n      { command: 'M', args: [-70, -50] },\r\n      { command: 'L', args: [70, -50] },\r\n      { command: 'L', args: [70, 50] },\r\n      { command: 'L', args: [-70, 50] },\r\n      { command: 'Z', args: [] },\r\n    ],\r\n    fill: 'white',     // Área visible\r\n    opacity: 0.85,      // Semitransparente\r\n  },\r\n}));\r\n```\r\n\r\n---\r\n\r\n## Paso 8: Stroke Gradient\r\n\r\nLos gradientes también se pueden aplicar al trazo de un path:\r\n\r\n```typescript\r\nconst line = new Node('rainbow-line');\r\nline.addComponent(createPath2D([\r\n  { command: 'M', args: [50, 370] },\r\n  { command: 'C', args: [200, 330, 400, 410, 550, 370] },\r\n]));\r\nline.addComponent(new Material({\r\n  strokeGradient: {\r\n    type: 'linear',\r\n    x1: 0, y1: 0.5, x2: 1, y2: 0.5,\r\n    stops: [\r\n      { offset: 0, color: { r: 1, g: 0, b: 0 } },\r\n      { offset: 0.33, color: { r: 0, g: 1, b: 0 } },\r\n      { offset: 0.66, color: { r: 0, g: 0, b: 1 } },\r\n      { offset: 1, color: { r: 1, g: 0, b: 1 } },\r\n    ],\r\n  },\r\n  strokeWidth: 4,\r\n}));\r\nscene.add(line);\r\n```\r\n\r\n---\r\n\r\n## Paso 9: Renderizar\r\n\r\n```typescript\r\nconst svg = renderToSVG(scene, { width: 600, height: 400 });\r\ndocument.body.innerHTML = svg;\r\n```\r\n\r\n---\r\n\r\n## Combinando múltiples efectos\r\n\r\nUn nodo puede tener gradiente + filtro + clip-path simultáneamente:\r\n\r\n```typescript\r\nconst fancy = new Node('fancy');\r\nfancy.addComponent(createBox(120, 120, 0));\r\nfancy.addComponent(new Material({\r\n  fillGradient: {\r\n    type: 'radial',\r\n    stops: [\r\n      { offset: 0, color: { r: 1, g: 0.9, b: 0.3 } },\r\n      { offset: 1, color: { r: 1, g: 0.3, b: 0 } },\r\n    ],\r\n  },\r\n  filter: {\r\n    effects: [{ type: 'dropShadow', dx: 3, dy: 3, stdDeviation: 2, floodOpacity: 0.3 }],\r\n  },\r\n  clipPath: {\r\n    path: createStarPath(0, 0, 6, 60, 30),\r\n  },\r\n}));\r\n```\r\n\r\n---\r\n\r\n## Resumen de propiedades SVG del Material\r\n\r\n| Propiedad | Genera | Prioridad |\r\n|-----------|--------|-----------|\r\n| `fill` | `fill=\"rgb(...)\"` | Baja |\r\n| `fillGradient` | `fill=\"url(#id)\"` + `\u003Cdefs>` | **Sobre** `fill` |\r\n| `stroke` | `stroke=\"rgb(...)\"` | Baja |\r\n| `strokeGradient` | `stroke=\"url(#id)\"` + `\u003Cdefs>` | **Sobre** `stroke` |\r\n| `filter` | `filter=\"url(#id)\"` + `\u003Cfilter>` | Acumulable |\r\n| `clipPath` | `clip-path=\"url(#id)\"` + `\u003CclipPath>` | Acumulable |\r\n| `mask` | `mask=\"url(#id)\"` + `\u003Cmask>` | Acumulable |\r\n\r\n---\r\n\r\n## Demo interactiva\r\n\r\nPuedes explorar todos estos efectos en la demo **\"SVG Showcase\"** del demo-react.\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n➡️ [Tutorial 10: Animaciones SVG Nativas](./10-svg-animations.md) — animaciones declarativas sin JavaScript.","src/content/tutorials/09-svg-gradients-filters.md","1da23eecb5d26b09",{"html":1309,"metadata":1310},"\u003Ch1 id=\"tutorial-9-gradientes-filtros-y-efectos-svg\">Tutorial 9: Gradientes, Filtros y Efectos SVG 🟡\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Intermedio\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 25 minutos\u003Cbr>\n\u003Cstrong>Qué aprenderás:\u003C/strong> Aplicar gradientes lineales/radiales, filtros (blur, drop-shadow), clip-paths y masks usando el renderer SVG.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto-efectos-visuales-svg\">Concepto: Efectos visuales SVG\u003C/h2>\n\u003Cp>El renderer SVG de Oroya genera automáticamente bloques \u003Ccode>&#x3C;defs>\u003C/code> con gradientes, filtros, clip-paths y masks cuando los defines en el \u003Ccode>MaterialDef\u003C/code> de un nodo. No necesitas escribir SVG a mano — el renderer traduce la API declarativa a markup válido.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    MD[\"MaterialDef\"] --> R[\"renderToSVG\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    R -->|\"fillGradient\"| D1[\"defs → linearGradient / radialGradient\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    R -->|\"filter\"| D2[\"defs → filter → feGaussianBlur / feDropShadow\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    R -->|\"clipPath\"| D3[\"defs → clipPath → path\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    R -->|\"mask\"| D4[\"defs → mask → path\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-1-setup-base\">Paso 1: Setup base\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  Scene, Node, Camera, CameraType, Material,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  createBox, createSphere, createPath2D, createText,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">} \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-svg\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Cámara ortográfica define el viewBox automáticamente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">cam\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Orthographic\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  left: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, right: \u003C/span>\u003Cspan style=\"color:#F78C6C\">600\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  top: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, bottom: \u003C/span>\u003Cspan style=\"color:#F78C6C\">400\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cam);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-gradiente-lineal\">Paso 2: Gradiente lineal\u003C/h2>\n\u003Cp>Un gradiente lineal define un degradé de color entre dos puntos. Las coordenadas \u003Ccode>x1, y1, x2, y2\u003C/code> van de 0 a 1 (relativas al bounding box del elemento).\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> gradientBox\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">gradient-box\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">gradientBox\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">200\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">120\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">gradientBox\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fillGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">linear\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    x1: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y1: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, x2: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y2: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// diagonal\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.4\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">gradientBox\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">150\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">gradientBox\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(gradientBox);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">defs\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">linearGradient\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> id\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">oroya-grad-0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> x1\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> y1\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> x2\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">1\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> y2\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">1\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">stop\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> offset\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> stop-color\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(51, 128, 255)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">stop\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> offset\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0.5\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> stop-color\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(255, 255, 255)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">stop\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> offset\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">1\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> stop-color\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(204, 51, 153)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">linearGradient\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">defs\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">g\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> transform\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">matrix(1,0,0,1,150,100)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">rect\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> x\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">-100\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> y\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">-60\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">200\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">120\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478;font-style:italic\">        fill\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">url(#oroya-grad-0)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> stroke\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(77, 77, 102)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> stroke-width\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">2\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">g\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-gradiente-radial\">Paso 3: Gradiente radial\u003C/h2>\n\u003Cp>Ideal para crear efectos de brillo o esferas estilizadas:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> sun\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">sun\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sun\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">60\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sun\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fillGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">radial\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    cx: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, cy: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,  \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Centro desplazado → efecto 3D\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },       \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Centro brillante\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },     \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Amarillo medio\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }, opacity: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }, \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Borde oscuro\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sun\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">450\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sun\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(sun);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Tip:\u003C/strong> Desplazar \u003Ccode>cx/cy\u003C/code> del centro (0.5, 0.5) crea un efecto de iluminación lateral muy convincente.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"paso-4-filtro-blur\">Paso 4: Filtro Blur\u003C/h2>\n\u003Cp>El efecto \u003Ccode>blur\u003C/code> aplica un desenfoque gaussiano al elemento completo:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> blurred\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">blurred-circle\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">blurred\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">blurred\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  filter: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    effects: [{ type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">blur\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, stdDeviation: \u003C/span>\u003Cspan style=\"color:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">blurred\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">150\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">280\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">blurred\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(blurred);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">defs\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">filter\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> id\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">oroya-filter-0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">feGaussianBlur\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> stdDeviation\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">4\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">filter\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">defs\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">circle\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> cx\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> cy\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">50\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> fill\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(128, 204, 255)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478;font-style:italic\">        filter\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">url(#oroya-filter-0)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-5-drop-shadow\">Paso 5: Drop Shadow\u003C/h2>\n\u003Cp>Combina desplazamiento y desenfoque para crear una sombra proyectada:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> card\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">shadow-card\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">card\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">160\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">card\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.95\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.7\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  filter: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    effects: [{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">dropShadow\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      dx: \u003C/span>\u003Cspan style=\"color:#F78C6C\">5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, dy: \u003C/span>\u003Cspan style=\"color:#F78C6C\">5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,            \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Desplazamiento de la sombra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      stdDeviation: \u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,          \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Desenfoque de la sombra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      floodColor: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">#333\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,       \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Color de la sombra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      floodOpacity: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,        \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Transparencia de la sombra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">card\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">320\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">280\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">card\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(card);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-6-clip-path\">Paso 6: Clip Path\u003C/h2>\n\u003Cp>Recorta un nodo a una forma vectorial arbitraria. Solo se muestra la intersección entre la geometría original y el path de recorte:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Un círculo recortado con forma de estrella\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> clipped\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">star-clipped\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">clipped\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">55\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">clipped\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fillGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">radial\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  clipPath: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    path: \u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createStarPath\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">55\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">22\u003C/span>\u003Cspan style=\"color:#D6DEEB\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">clipped\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">500\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">280\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">clipped\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(clipped);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Helper: genera un path de estrella\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">function\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> createStarPath\u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">cx\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">cy\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">points\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">outerR\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D7DBE0\">innerR\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">  const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cmds\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  for\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> i\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; i \u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> points \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; i\u003C/span>\u003Cspan style=\"color:#C792EA\">++\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> angle\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">i\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">PI\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> points\u003C/span>\u003Cspan style=\"color:#C792EA\"> -\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">PI\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> i\u003C/span>\u003Cspan style=\"color:#C792EA\"> %\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#C792EA\"> ===\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#C792EA\"> ?\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> outerR\u003C/span>\u003Cspan style=\"color:#C792EA\"> :\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> innerR\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    cmds\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">push\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      command: i \u003C/span>\u003Cspan style=\"color:#C792EA\">===\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#C792EA\"> ?\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">M\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#C792EA\"> :\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      args: [cx \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">cos\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(angle) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> r\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> cy \u003C/span>\u003Cspan style=\"color:#C792EA\">+\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> Math\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">sin\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(angle) \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> r]\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  cmds\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">push\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Z\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#5F7E97\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> args: [] });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  return\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> cmds;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-7-mask\">Paso 7: Mask\u003C/h2>\n\u003Cp>Similar al clip-path, pero usa \u003Cstrong>luminancia\u003C/strong> en lugar de forma vectorial binaria. Las áreas blancas son visibles, las negras son transparentes:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> masked\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">masked-rect\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">masked\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">140\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">masked\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fillGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">linear\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, x1: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y1: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, x2: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y2: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  mask: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    path: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">M\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">70\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">70\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">70\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">L\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#C792EA\">-\u003C/span>\u003Cspan style=\"color:#F78C6C\">70\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Z\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    fill: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">white\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,     \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Área visible\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    opacity: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.85\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,      \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Semitransparente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-8-stroke-gradient\">Paso 8: Stroke Gradient\u003C/h2>\n\u003Cp>Los gradientes también se pueden aplicar al trazo de un path:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> line\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">rainbow-line\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">line\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createPath2D\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">M\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">370\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  { command: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">C\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, args: [\u003C/span>\u003Cspan style=\"color:#F78C6C\">200\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">330\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">400\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">410\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">550\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">370\u003C/span>\u003Cspan style=\"color:#D6DEEB\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">line\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  strokeGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">linear\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    x1: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y1: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, x2: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y2: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.33\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.66\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(line);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-9-renderizar\">Paso 9: Renderizar\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> svg\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 600\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 400\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">body\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHTML\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> svg;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"combinando-múltiples-efectos\">Combinando múltiples efectos\u003C/h2>\n\u003Cp>Un nodo puede tener gradiente + filtro + clip-path simultáneamente:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> fancy\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">fancy\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">fancy\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">120\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">120\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">fancy\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fillGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">radial\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  filter: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    effects: [{ type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">dropShadow\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, dx: \u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, dy: \u003C/span>\u003Cspan style=\"color:#F78C6C\">3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, stdDeviation: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, floodOpacity: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  clipPath: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    path: \u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createStarPath\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">60\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">30\u003C/span>\u003Cspan style=\"color:#D6DEEB\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"resumen-de-propiedades-svg-del-material\">Resumen de propiedades SVG del Material\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Propiedad\u003C/th>\u003Cth>Genera\u003C/th>\u003Cth>Prioridad\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>fill=\"rgb(...)\"\u003C/code>\u003C/td>\u003Ctd>Baja\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fillGradient\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>fill=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003Ctd>\u003Cstrong>Sobre\u003C/strong> \u003Ccode>fill\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stroke\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>stroke=\"rgb(...)\"\u003C/code>\u003C/td>\u003Ctd>Baja\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>strokeGradient\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>stroke=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003Ctd>\u003Cstrong>Sobre\u003C/strong> \u003Ccode>stroke\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>filter\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>filter=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;filter>\u003C/code>\u003C/td>\u003Ctd>Acumulable\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>clipPath\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>clip-path=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;clipPath>\u003C/code>\u003C/td>\u003Ctd>Acumulable\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>mask\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>mask=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;mask>\u003C/code>\u003C/td>\u003Ctd>Acumulable\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"demo-interactiva\">Demo interactiva\u003C/h2>\n\u003Cp>Puedes explorar todos estos efectos en la demo \u003Cstrong>“SVG Showcase”\u003C/strong> del demo-react.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>➡️ \u003Ca href=\"./10-svg-animations.md\">Tutorial 10: Animaciones SVG Nativas\u003C/a> — animaciones declarativas sin JavaScript.\u003C/p>",{"headings":1311,"localImagePaths":1355,"remoteImagePaths":1356,"frontmatter":1357,"imagePaths":1358},[1312,1315,1318,1321,1324,1327,1330,1333,1336,1339,1342,1345,1348,1351,1354],{"depth":26,"slug":1313,"text":1314},"tutorial-9-gradientes-filtros-y-efectos-svg","Tutorial 9: Gradientes, Filtros y Efectos SVG 🟡",{"depth":28,"slug":1316,"text":1317},"concepto-efectos-visuales-svg","Concepto: Efectos visuales SVG",{"depth":28,"slug":1319,"text":1320},"paso-1-setup-base","Paso 1: Setup base",{"depth":28,"slug":1322,"text":1323},"paso-2-gradiente-lineal","Paso 2: Gradiente lineal",{"depth":28,"slug":1325,"text":1326},"paso-3-gradiente-radial","Paso 3: Gradiente radial",{"depth":28,"slug":1328,"text":1329},"paso-4-filtro-blur","Paso 4: Filtro Blur",{"depth":28,"slug":1331,"text":1332},"paso-5-drop-shadow","Paso 5: Drop Shadow",{"depth":28,"slug":1334,"text":1335},"paso-6-clip-path","Paso 6: Clip Path",{"depth":28,"slug":1337,"text":1338},"paso-7-mask","Paso 7: Mask",{"depth":28,"slug":1340,"text":1341},"paso-8-stroke-gradient","Paso 8: Stroke Gradient",{"depth":28,"slug":1343,"text":1344},"paso-9-renderizar","Paso 9: Renderizar",{"depth":28,"slug":1346,"text":1347},"combinando-múltiples-efectos","Combinando múltiples efectos",{"depth":28,"slug":1349,"text":1350},"resumen-de-propiedades-svg-del-material","Resumen de propiedades SVG del Material",{"depth":28,"slug":1352,"text":1353},"demo-interactiva","Demo interactiva",{"depth":28,"slug":1000,"text":1001},[],[],{"title":1302,"description":1303,"order":1304,"level":1092,"duration":1255},[],"10-svg-animations",{"id":1359,"data":1361,"body":1365,"filePath":1366,"digest":1367,"rendered":1368},{"title":1362,"description":1363,"level":1092,"order":1364,"duration":1093},"SVG Animations","Declarative animations with animate and animateTransform",10,"# Tutorial 10: Animaciones SVG Nativas 🟡\r\n\r\n> **Nivel:** Intermedio  \r\n> **Tiempo estimado:** 20 minutos  \r\n> **Qué aprenderás:** Crear animaciones declarativas con `\u003Canimate>` y `\u003CanimateTransform>` usando el componente `Animation` de Oroya.\r\n\r\n---\r\n\r\n## Concepto: Animaciones sin JavaScript\r\n\r\nLas animaciones SVG nativas se declaran dentro del markup SVG y el navegador las ejecuta directamente, sin `requestAnimationFrame` ni JavaScript. Son ideales para:\r\n\r\n- **Exportación:** El archivo `.svg` es auto-animado al abrirlo en un browser.\r\n- **Performance:** El motor de renderizado del browser optimiza las animaciones.\r\n- **Server-side:** Funciona con `renderToSVG()` — el string SVG incluye las animaciones.\r\n\r\n```mermaid\r\ngraph LR\r\n    A[\"Animation component\"] --> B[\"renderToSVG\"]\r\n    B -->|\"animate\"| C[\"\u003Canimate attributeName=... />\"]\r\n    B -->|\"animateTransform\"| D[\"\u003CanimateTransform type=... />\"]\r\n    C --> E[\"Navegador ejecuta\"]\r\n    D --> E\r\n```\r\n\r\n---\r\n\r\n## Paso 1: Setup\r\n\r\n```typescript\r\nimport {\r\n  Scene, Node, Camera, CameraType,\r\n  Material, Animation,\r\n  createBox, createSphere, createPath2D,\r\n} from '@oroya/core';\r\nimport { renderToSVG } from '@oroya/renderer-svg';\r\n\r\nconst scene = new Scene();\r\n\r\nconst cam = new Node('cam');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Orthographic,\r\n  left: 0, right: 600,\r\n  top: 0, bottom: 400,\r\n  near: 0.1, far: 100,\r\n}));\r\nscene.add(cam);\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Animar opacidad (pulse)\r\n\r\nEl tipo `'animate'` genera un elemento `\u003Canimate>` que anima un atributo escalar:\r\n\r\n```typescript\r\nconst pulse = new Node('pulse');\r\npulse.addComponent(createSphere(40));\r\npulse.addComponent(new Material({ fill: { r: 1, g: 0.2, b: 0.2 } }));\r\npulse.addComponent(new Animation([\r\n  {\r\n    type: 'animate',\r\n    attributeName: 'opacity',\r\n    values: '1;0.2;1',      // Keyframes separados por \";\"\r\n    dur: '2s',               // Duración del ciclo\r\n    repeatCount: 'indefinite', // Repetir infinitamente\r\n  },\r\n]));\r\npulse.transform.position = { x: 100, y: 100, z: 0 };\r\npulse.transform.updateLocalMatrix();\r\nscene.add(pulse);\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Ccircle cx=\"0\" cy=\"0\" r=\"40\" fill=\"rgb(255, 51, 51)\">\r\n  \u003Canimate attributeName=\"opacity\" values=\"1;0.2;1\"\r\n           dur=\"2s\" repeatCount=\"indefinite\" />\r\n\u003C/circle>\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Rotar un cuadrado\r\n\r\nEl tipo `'animateTransform'` genera `\u003CanimateTransform>` para transformaciones geométricas:\r\n\r\n```typescript\r\nconst spinner = new Node('spinner');\r\nspinner.addComponent(createBox(60, 60, 0));\r\nspinner.addComponent(new Material({\r\n  fill: { r: 0.3, g: 0.6, b: 1.0 },\r\n  stroke: { r: 0.1, g: 0.3, b: 0.8 },\r\n  strokeWidth: 2,\r\n}));\r\nspinner.addComponent(new Animation([\r\n  {\r\n    type: 'animateTransform',\r\n    transformType: 'rotate',       // Tipo: rotate, scale, translate, skewX, skewY\r\n    from: '0 0 0',                 // from=\"ángulo cx cy\"\r\n    to: '360 0 0',                 // to=\"ángulo cx cy\"\r\n    dur: '3s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n]));\r\nspinner.transform.position = { x: 300, y: 100, z: 0 };\r\nspinner.transform.updateLocalMatrix();\r\nscene.add(spinner);\r\n```\r\n\r\n### Sintaxis de `from`/`to` para cada `transformType`\r\n\r\n| transformType | Formato | Ejemplo |\r\n|--------------|---------|---------|\r\n| `rotate` | `\"angle cx cy\"` | `\"360 0 0\"` (360° alrededor del centro) |\r\n| `translate` | `\"tx ty\"` | `\"0 -50\"` (mover 50px arriba) |\r\n| `scale` | `\"sx sy\"` | `\"1.5 1.5\"` (escalar 150%) |\r\n| `skewX` | `\"angle\"` | `\"30\"` (inclinar 30°) |\r\n| `skewY` | `\"angle\"` | `\"15\"` (inclinar 15°) |\r\n\r\n---\r\n\r\n## Paso 4: Escalar con values\r\n\r\nUsando `values` en lugar de `from/to` para definir múltiples keyframes:\r\n\r\n```typescript\r\nconst scalable = new Node('scalable');\r\nscalable.addComponent(createSphere(30));\r\nscalable.addComponent(new Material({ fill: { r: 0.2, g: 0.9, b: 0.5 } }));\r\nscalable.addComponent(new Animation([\r\n  {\r\n    type: 'animateTransform',\r\n    transformType: 'scale',\r\n    values: '1;1.5;1',           // Tres keyframes: normal → grande → normal\r\n    dur: '1.5s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n]));\r\nscalable.transform.position = { x: 500, y: 100, z: 0 };\r\nscalable.transform.updateLocalMatrix();\r\nscene.add(scalable);\r\n```\r\n\r\n---\r\n\r\n## Paso 5: Ciclo de colores\r\n\r\n`\u003Canimate>` puede animar cualquier atributo SVG, incluyendo `fill`:\r\n\r\n```typescript\r\nconst colorCycle = new Node('color-cycle');\r\ncolorCycle.addComponent(createBox(100, 70, 0));\r\ncolorCycle.addComponent(new Material({ fill: { r: 1, g: 0, b: 0 } }));\r\ncolorCycle.addComponent(new Animation([\r\n  {\r\n    type: 'animate',\r\n    attributeName: 'fill',\r\n    values: 'rgb(255,0,0);rgb(0,255,0);rgb(0,0,255);rgb(255,0,0)',\r\n    dur: '3s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n]));\r\ncolorCycle.transform.position = { x: 100, y: 280, z: 0 };\r\ncolorCycle.transform.updateLocalMatrix();\r\nscene.add(colorCycle);\r\n```\r\n\r\n---\r\n\r\n## Paso 6: Bounce con easing (keySplines)\r\n\r\nPara animaciones con curvas de easing, usa `calcMode=\"spline\"` con `keySplines`:\r\n\r\n```typescript\r\nconst bouncer = new Node('bouncer');\r\nbouncer.addComponent(createSphere(20));\r\nbouncer.addComponent(new Material({ fill: { r: 1, g: 0.8, b: 0.1 } }));\r\nbouncer.addComponent(new Animation([\r\n  {\r\n    type: 'animateTransform',\r\n    transformType: 'translate',\r\n    values: '0 -40;0 40;0 -40',\r\n    dur: '1.5s',\r\n    repeatCount: 'indefinite',\r\n    calcMode: 'spline',\r\n    keyTimes: '0;0.5;1',\r\n    keySplines: '0.42 0 0.58 1;0.42 0 0.58 1', // ease-in-out entre cada par\r\n  },\r\n]));\r\nbouncer.transform.position = { x: 300, y: 280, z: 0 };\r\nbouncer.transform.updateLocalMatrix();\r\nscene.add(bouncer);\r\n```\r\n\r\n### Guía rápida de `keySplines`\r\n\r\nCada segmento entre keyframes necesita una curva Bézier cúbica definida por 4 valores: `x1 y1 x2 y2`.\r\n\r\n| Easing | keySplines |\r\n|--------|-----------|\r\n| Lineal | `0 0 1 1` |\r\n| Ease-in | `0.42 0 1 1` |\r\n| Ease-out | `0 0 0.58 1` |\r\n| Ease-in-out | `0.42 0 0.58 1` |\r\n| Bounce | `0.3 1.5 0.7 1` |\r\n\r\n---\r\n\r\n## Paso 7: Combinar múltiples animaciones\r\n\r\nUn nodo puede tener varias animaciones simultáneas:\r\n\r\n```typescript\r\nconst star = new Node('star');\r\nstar.addComponent(createPath2D(createStarPath(0, 0, 6, 35, 15)));\r\nstar.addComponent(new Material({\r\n  fillGradient: {\r\n    type: 'linear', x1: 0, y1: 0, x2: 1, y2: 1,\r\n    stops: [\r\n      { offset: 0, color: { r: 1, g: 0.5, b: 0 } },\r\n      { offset: 1, color: { r: 1, g: 0, b: 0.5 } },\r\n    ],\r\n  },\r\n}));\r\nstar.addComponent(new Animation([\r\n  // Rotación continua\r\n  {\r\n    type: 'animateTransform',\r\n    transformType: 'rotate',\r\n    from: '0 0 0',\r\n    to: '360 0 0',\r\n    dur: '4s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n  // Pulso de opacidad\r\n  {\r\n    type: 'animate',\r\n    attributeName: 'opacity',\r\n    values: '1;0.4;1',\r\n    dur: '2s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n]));\r\nstar.transform.position = { x: 500, y: 280, z: 0 };\r\nstar.transform.updateLocalMatrix();\r\nscene.add(star);\r\n```\r\n\r\n---\r\n\r\n## Paso 8: Animación con freeze (una sola vez)\r\n\r\nUsa `fill=\"freeze\"` para que el valor final persista después de terminar:\r\n\r\n```typescript\r\nconst oneShot = new Node('one-shot');\r\noneShot.addComponent(createBox(80, 50, 0));\r\noneShot.addComponent(new Material({ fill: { r: 0.5, g: 0.5, b: 0.5 } }));\r\noneShot.addComponent(new Animation([\r\n  {\r\n    type: 'animate',\r\n    attributeName: 'fill',\r\n    from: 'rgb(128,128,128)',\r\n    to: 'rgb(0,255,128)',\r\n    dur: '2s',\r\n    repeatCount: '1',\r\n    fill: 'freeze',   // Mantiene el color final\r\n  },\r\n]));\r\n```\r\n\r\n> **`fill=\"remove\"` vs `fill=\"freeze\"`:**  \r\n> - `remove` (default) — al terminar, vuelve al valor original.  \r\n> - `freeze` — mantiene el valor final de la animación.\r\n\r\n---\r\n\r\n## Paso 9: Renderizar\r\n\r\n```typescript\r\nconst svg = renderToSVG(scene, { width: 600, height: 400 });\r\n\r\n// En browser: se auto-anima al insertarlo en el DOM\r\ndocument.body.innerHTML = svg;\r\n\r\n// En Node.js: exportar como archivo .svg auto-animado\r\nimport { writeFileSync } from 'fs';\r\nwriteFileSync('animated.svg', svg);\r\n```\r\n\r\n---\r\n\r\n## Referencia rápida de SvgAnimateDef\r\n\r\n| Campo | Tipo | Descripción |\r\n|-------|------|-------------|\r\n| `type` | `'animate'` | Discriminante |\r\n| `attributeName` | `string` | Atributo SVG a animar (`'opacity'`, `'fill'`, `'r'`, etc.) |\r\n| `from` / `to` | `string` | Valor inicial / final |\r\n| `values` | `string` | Keyframes separados por `;` (alternativa a from/to) |\r\n| `dur` | `string` | Duración (`'2s'`, `'500ms'`) |\r\n| `repeatCount` | `string` | `'indefinite'` o un número (`'3'`) |\r\n| `fill` | `string` | `'freeze'` o `'remove'` |\r\n| `calcMode` | `string` | `'linear'`, `'spline'`, `'discrete'`, `'paced'` |\r\n| `keyTimes` | `string` | Tiempos clave (`'0;0.5;1'`) |\r\n| `keySplines` | `string` | Curvas Bézier entre keyframes |\r\n\r\n## Referencia rápida de SvgAnimateTransformDef\r\n\r\n| Campo | Tipo | Descripción |\r\n|-------|------|-------------|\r\n| `type` | `'animateTransform'` | Discriminante |\r\n| `transformType` | `string` | `'rotate'`, `'translate'`, `'scale'`, `'skewX'`, `'skewY'` |\r\n| `from` / `to` / `values` | `string` | Valores de la transformación |\r\n| `dur` | `string` | Duración |\r\n| `repeatCount` | `string` | Repeticiones |\r\n| `additive` | `string` | `'sum'` para acumular con el transform base |\r\n\r\n---\r\n\r\n## Demo interactiva\r\n\r\nExplora todas estas animaciones en la demo **\"SVG Animations\"** del demo-react.\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n➡️ [Tutorial 11: SVG Interactivo](./11-svg-interactive.md) — event delegation con `renderToSVGElement`.","src/content/tutorials/10-svg-animations.md","701a6ddc2890bc10",{"html":1369,"metadata":1370},"\u003Ch1 id=\"tutorial-10-animaciones-svg-nativas\">Tutorial 10: Animaciones SVG Nativas 🟡\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Intermedio\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 20 minutos\u003Cbr>\n\u003Cstrong>Qué aprenderás:\u003C/strong> Crear animaciones declarativas con \u003Ccode>&#x3C;animate>\u003C/code> y \u003Ccode>&#x3C;animateTransform>\u003C/code> usando el componente \u003Ccode>Animation\u003C/code> de Oroya.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto-animaciones-sin-javascript\">Concepto: Animaciones sin JavaScript\u003C/h2>\n\u003Cp>Las animaciones SVG nativas se declaran dentro del markup SVG y el navegador las ejecuta directamente, sin \u003Ccode>requestAnimationFrame\u003C/code> ni JavaScript. Son ideales para:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Exportación:\u003C/strong> El archivo \u003Ccode>.svg\u003C/code> es auto-animado al abrirlo en un browser.\u003C/li>\n\u003Cli>\u003Cstrong>Performance:\u003C/strong> El motor de renderizado del browser optimiza las animaciones.\u003C/li>\n\u003Cli>\u003Cstrong>Server-side:\u003C/strong> Funciona con \u003Ccode>renderToSVG()\u003C/code> — el string SVG incluye las animaciones.\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    A[\"Animation component\"] --> B[\"renderToSVG\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    B -->|\"animate\"| C[\"&#x3C;animate attributeName=... />\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    B -->|\"animateTransform\"| D[\"&#x3C;animateTransform type=... />\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    C --> E[\"Navegador ejecuta\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    D --> E\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-1-setup\">Paso 1: Setup\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  Scene, Node, Camera, CameraType,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  Material, Animation,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  createBox, createSphere, createPath2D,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">} \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-svg\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">cam\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Orthographic\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  left: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, right: \u003C/span>\u003Cspan style=\"color:#F78C6C\">600\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  top: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, bottom: \u003C/span>\u003Cspan style=\"color:#F78C6C\">400\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cam);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-animar-opacidad-pulse\">Paso 2: Animar opacidad (pulse)\u003C/h2>\n\u003Cp>El tipo \u003Ccode>'animate'\u003C/code> genera un elemento \u003Ccode>&#x3C;animate>\u003C/code> que anima un atributo escalar:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> pulse\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">pulse\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">pulse\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">40\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">pulse\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">pulse\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Animation\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    attributeName: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">opacity\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    values: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">1;0.2;1\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,      \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Keyframes separados por \";\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    dur: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">2s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,               \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Duración del ciclo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Repetir infinitamente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">pulse\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">pulse\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(pulse);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">circle\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> cx\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> cy\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">40\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> fill\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(255, 51, 51)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">animate\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> attributeName\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">opacity\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> values\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">1;0.2;1\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478;font-style:italic\">           dur\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">2s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> repeatCount\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#CAECE6\">circle\u003C/span>\u003Cspan style=\"color:#7FDBCA\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-rotar-un-cuadrado\">Paso 3: Rotar un cuadrado\u003C/h2>\n\u003Cp>El tipo \u003Ccode>'animateTransform'\u003C/code> genera \u003Ccode>&#x3C;animateTransform>\u003C/code> para transformaciones geométricas:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> spinner\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">spinner\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">spinner\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">60\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">60\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">spinner\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">spinner\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Animation\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">animateTransform\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    transformType: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">rotate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,       \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Tipo: rotate, scale, translate, skewX, skewY\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    from: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">0 0 0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,                 \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// from=\"ángulo cx cy\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    to: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">360 0 0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,                 \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// to=\"ángulo cx cy\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    dur: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">3s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">spinner\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">300\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">spinner\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(spinner);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"sintaxis-de-fromto-para-cada-transformtype\">Sintaxis de \u003Ccode>from\u003C/code>/\u003Ccode>to\u003C/code> para cada \u003Ccode>transformType\u003C/code>\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>transformType\u003C/th>\u003Cth>Formato\u003C/th>\u003Cth>Ejemplo\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>rotate\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"angle cx cy\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"360 0 0\"\u003C/code> (360° alrededor del centro)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>translate\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"tx ty\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"0 -50\"\u003C/code> (mover 50px arriba)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>scale\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"sx sy\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"1.5 1.5\"\u003C/code> (escalar 150%)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>skewX\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"angle\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"30\"\u003C/code> (inclinar 30°)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>skewY\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"angle\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"15\"\u003C/code> (inclinar 15°)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"paso-4-escalar-con-values\">Paso 4: Escalar con values\u003C/h2>\n\u003Cp>Usando \u003Ccode>values\u003C/code> en lugar de \u003Ccode>from/to\u003C/code> para definir múltiples keyframes:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scalable\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">scalable\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scalable\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">30\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scalable\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scalable\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Animation\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">animateTransform\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    transformType: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">scale\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    values: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">1;1.5;1\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,           \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Tres keyframes: normal → grande → normal\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    dur: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">1.5s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scalable\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">500\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scalable\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(scalable);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-5-ciclo-de-colores\">Paso 5: Ciclo de colores\u003C/h2>\n\u003Cp>\u003Ccode>&#x3C;animate>\u003C/code> puede animar cualquier atributo SVG, incluyendo \u003Ccode>fill\u003C/code>:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> colorCycle\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">color-cycle\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">colorCycle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">70\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">colorCycle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">colorCycle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Animation\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    attributeName: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">fill\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    values: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(255,0,0);rgb(0,255,0);rgb(0,0,255);rgb(255,0,0)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    dur: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">3s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">colorCycle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">280\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">colorCycle\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(colorCycle);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-6-bounce-con-easing-keysplines\">Paso 6: Bounce con easing (keySplines)\u003C/h2>\n\u003Cp>Para animaciones con curvas de easing, usa \u003Ccode>calcMode=\"spline\"\u003C/code> con \u003Ccode>keySplines\u003C/code>:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> bouncer\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">bouncer\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">bouncer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">20\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">bouncer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">bouncer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Animation\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">animateTransform\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    transformType: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">translate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    values: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">0 -40;0 40;0 -40\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    dur: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">1.5s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    calcMode: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">spline\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    keyTimes: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">0;0.5;1\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    keySplines: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">0.42 0 0.58 1;0.42 0 0.58 1\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// ease-in-out entre cada par\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">bouncer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">300\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">280\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">bouncer\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(bouncer);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"guía-rápida-de-keysplines\">Guía rápida de \u003Ccode>keySplines\u003C/code>\u003C/h3>\n\u003Cp>Cada segmento entre keyframes necesita una curva Bézier cúbica definida por 4 valores: \u003Ccode>x1 y1 x2 y2\u003C/code>.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Easing\u003C/th>\u003Cth>keySplines\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Lineal\u003C/td>\u003Ctd>\u003Ccode>0 0 1 1\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Ease-in\u003C/td>\u003Ctd>\u003Ccode>0.42 0 1 1\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Ease-out\u003C/td>\u003Ctd>\u003Ccode>0 0 0.58 1\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Ease-in-out\u003C/td>\u003Ctd>\u003Ccode>0.42 0 0.58 1\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Bounce\u003C/td>\u003Ctd>\u003Ccode>0.3 1.5 0.7 1\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"paso-7-combinar-múltiples-animaciones\">Paso 7: Combinar múltiples animaciones\u003C/h2>\n\u003Cp>Un nodo puede tener varias animaciones simultáneas:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> star\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">star\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">star\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createPath2D\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createStarPath\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">35\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">15\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">star\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fillGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">linear\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, x1: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y1: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, x2: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y2: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      { offset: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, color: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">star\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Animation\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Rotación continua\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">animateTransform\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    transformType: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">rotate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    from: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">0 0 0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    to: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">360 0 0\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    dur: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">4s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // Pulso de opacidad\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    attributeName: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">opacity\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    values: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">1;0.4;1\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    dur: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">2s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">indefinite\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">star\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">500\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">280\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">star\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(star);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-8-animación-con-freeze-una-sola-vez\">Paso 8: Animación con freeze (una sola vez)\u003C/h2>\n\u003Cp>Usa \u003Ccode>fill=\"freeze\"\u003C/code> para que el valor final persista después de terminar:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> oneShot\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">one-shot\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">oneShot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">80\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">oneShot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">oneShot\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Animation\u003C/span>\u003Cspan style=\"color:#D6DEEB\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    type: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">animate\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    attributeName: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">fill\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    from: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(128,128,128)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    to: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">rgb(0,255,128)\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    dur: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">2s\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">1\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    fill: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">freeze\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,   \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// Mantiene el color final\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">]));\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>\u003Ccode>fill=\"remove\"\u003C/code> vs \u003Ccode>fill=\"freeze\"\u003C/code>:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode>remove\u003C/code> (default) — al terminar, vuelve al valor original.\u003C/li>\n\u003Cli>\u003Ccode>freeze\u003C/code> — mantiene el valor final de la animación.\u003C/li>\n\u003C/ul>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"paso-9-renderizar\">Paso 9: Renderizar\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> svg\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 600\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 400\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// En browser: se auto-anima al insertarlo en el DOM\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">body\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">innerHTML\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> svg;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// En Node.js: exportar como archivo .svg auto-animado\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { writeFileSync } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">fs\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">writeFileSync\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">animated.svg\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, svg);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"referencia-rápida-de-svganimatedef\">Referencia rápida de SvgAnimateDef\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'animate'\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>attributeName\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Atributo SVG a animar (\u003Ccode>'opacity'\u003C/code>, \u003Ccode>'fill'\u003C/code>, \u003Ccode>'r'\u003C/code>, etc.)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>from\u003C/code> / \u003Ccode>to\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Valor inicial / final\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>values\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Keyframes separados por \u003Ccode>;\u003C/code> (alternativa a from/to)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dur\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Duración (\u003Ccode>'2s'\u003C/code>, \u003Ccode>'500ms'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>repeatCount\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'indefinite'\u003C/code> o un número (\u003Ccode>'3'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'freeze'\u003C/code> o \u003Ccode>'remove'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>calcMode\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'linear'\u003C/code>, \u003Ccode>'spline'\u003C/code>, \u003Ccode>'discrete'\u003C/code>, \u003Ccode>'paced'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>keyTimes\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Tiempos clave (\u003Ccode>'0;0.5;1'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>keySplines\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Curvas Bézier entre keyframes\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch2 id=\"referencia-rápida-de-svganimatetransformdef\">Referencia rápida de SvgAnimateTransformDef\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripción\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'animateTransform'\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>transformType\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'rotate'\u003C/code>, \u003Ccode>'translate'\u003C/code>, \u003Ccode>'scale'\u003C/code>, \u003Ccode>'skewX'\u003C/code>, \u003Ccode>'skewY'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>from\u003C/code> / \u003Ccode>to\u003C/code> / \u003Ccode>values\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Valores de la transformación\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dur\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Duración\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>repeatCount\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Repeticiones\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>additive\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'sum'\u003C/code> para acumular con el transform base\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"demo-interactiva\">Demo interactiva\u003C/h2>\n\u003Cp>Explora todas estas animaciones en la demo \u003Cstrong>“SVG Animations”\u003C/strong> del demo-react.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>➡️ \u003Ca href=\"./11-svg-interactive.md\">Tutorial 11: SVG Interactivo\u003C/a> — event delegation con \u003Ccode>renderToSVGElement\u003C/code>.\u003C/p>",{"headings":1371,"localImagePaths":1417,"remoteImagePaths":1418,"frontmatter":1419,"imagePaths":1420},[1372,1375,1378,1381,1384,1387,1390,1393,1396,1399,1402,1405,1408,1409,1412,1415,1416],{"depth":26,"slug":1373,"text":1374},"tutorial-10-animaciones-svg-nativas","Tutorial 10: Animaciones SVG Nativas 🟡",{"depth":28,"slug":1376,"text":1377},"concepto-animaciones-sin-javascript","Concepto: Animaciones sin JavaScript",{"depth":28,"slug":1379,"text":1380},"paso-1-setup","Paso 1: Setup",{"depth":28,"slug":1382,"text":1383},"paso-2-animar-opacidad-pulse","Paso 2: Animar opacidad (pulse)",{"depth":28,"slug":1385,"text":1386},"paso-3-rotar-un-cuadrado","Paso 3: Rotar un cuadrado",{"depth":35,"slug":1388,"text":1389},"sintaxis-de-fromto-para-cada-transformtype","Sintaxis de from/to para cada transformType",{"depth":28,"slug":1391,"text":1392},"paso-4-escalar-con-values","Paso 4: Escalar con values",{"depth":28,"slug":1394,"text":1395},"paso-5-ciclo-de-colores","Paso 5: Ciclo de colores",{"depth":28,"slug":1397,"text":1398},"paso-6-bounce-con-easing-keysplines","Paso 6: Bounce con easing (keySplines)",{"depth":35,"slug":1400,"text":1401},"guía-rápida-de-keysplines","Guía rápida de keySplines",{"depth":28,"slug":1403,"text":1404},"paso-7-combinar-múltiples-animaciones","Paso 7: Combinar múltiples animaciones",{"depth":28,"slug":1406,"text":1407},"paso-8-animación-con-freeze-una-sola-vez","Paso 8: Animación con freeze (una sola vez)",{"depth":28,"slug":1343,"text":1344},{"depth":28,"slug":1410,"text":1411},"referencia-rápida-de-svganimatedef","Referencia rápida de SvgAnimateDef",{"depth":28,"slug":1413,"text":1414},"referencia-rápida-de-svganimatetransformdef","Referencia rápida de SvgAnimateTransformDef",{"depth":28,"slug":1352,"text":1353},{"depth":28,"slug":1000,"text":1001},[],[],{"title":1362,"description":1363,"order":1364,"level":1092,"duration":1093},[],"11-svg-interactive",{"id":1421,"data":1423,"body":1427,"filePath":1428,"digest":1429,"rendered":1430},{"title":1424,"description":1425,"level":1208,"order":1426,"duration":1255},"SVG Interactive","Interactive SVG with event delegation",11,"# Tutorial 11: SVG Interactivo 🔴\r\n\r\n> **Nivel:** Avanzado  \r\n> **Tiempo estimado:** 25 minutos  \r\n> **Qué aprenderás:** Crear interfaces SVG interactivas con `renderToSVGElement`, el componente `Interactive` y event delegation sobre nodos del scene graph.\r\n\r\n---\r\n\r\n## Concepto: `renderToSVG` vs `renderToSVGElement`\r\n\r\n| Función | Retorno | Interactividad | DOM requerido |\r\n|---------|---------|---------------|---------------|\r\n| `renderToSVG` | `string` | No | No (server-safe) |\r\n| `renderToSVGElement` | `SVGSVGElement` + `dispose()` | Si | Si |\r\n\r\n`renderToSVGElement` crea un elemento SVG real en el DOM y adjunta event listeners a los nodos que tienen el componente `Interactive`. Los eventos se traducen al sistema de `InteractionEvent` de Oroya, con soporte para bubbling y `stopPropagation()`.\r\n\r\n```mermaid\r\nsequenceDiagram\r\n    participant User as Usuario\r\n    participant SVG as SVGElement\r\n    participant Oroya as Scene Graph\r\n    participant Handler as Event Handler\r\n\r\n    User->>SVG: click / hover / wheel\r\n    SVG->>Oroya: dispatch InteractionEvent\r\n    Oroya->>Handler: node.on('click', handler)\r\n    Note over Oroya: Event bubbling (hijo → padre)\r\n```\r\n\r\n---\r\n\r\n## Paso 1: Setup con renderToSVGElement\r\n\r\n```typescript\r\nimport {\r\n  Scene, Node, Camera, CameraType,\r\n  Material, Interactive,\r\n  createBox, createSphere, createPath2D,\r\n} from '@oroya/core';\r\nimport { renderToSVGElement } from '@oroya/renderer-svg';\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Crear nodos interactivos\r\n\r\nEl componente `Interactive` marca un nodo como receptivo a eventos. Configura el cursor CSS y habilita la detección:\r\n\r\n```typescript\r\nconst scene = new Scene();\r\n\r\n// Cámara ortográfica\r\nconst cam = new Node('cam');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Orthographic,\r\n  left: 0, right: 600,\r\n  top: 0, bottom: 400,\r\n  near: 0.1, far: 100,\r\n}));\r\nscene.add(cam);\r\n\r\n// Botón interactivo\r\nconst button = new Node('my-button');\r\nbutton.addComponent(createBox(160, 50, 0));\r\nbutton.addComponent(new Material({\r\n  fill: { r: 0.2, g: 0.6, b: 1.0 },\r\n  stroke: { r: 0.1, g: 0.3, b: 0.8 },\r\n  strokeWidth: 2,\r\n}));\r\nbutton.addComponent(new Interactive({ cursor: 'pointer' }));\r\nbutton.transform.position = { x: 300, y: 100, z: 0 };\r\nbutton.transform.updateLocalMatrix();\r\nscene.add(button);\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Registrar event handlers\r\n\r\nLos handlers se registran en el nodo usando `node.on()`, igual que con Three.js:\r\n\r\n```typescript\r\nlet clickCount = 0;\r\n\r\nbutton.on('click', (e) => {\r\n  clickCount++;\r\n  console.log(`Clicked ${clickCount} times!`);\r\n  console.log('Screen position:', e.screenPosition);\r\n});\r\n\r\nbutton.on('pointerenter', () => {\r\n  console.log('Mouse entered the button');\r\n});\r\n\r\nbutton.on('pointerleave', () => {\r\n  console.log('Mouse left the button');\r\n});\r\n```\r\n\r\n---\r\n\r\n## Paso 4: Montar el SVG interactivo\r\n\r\n```typescript\r\nconst { svg, dispose } = renderToSVGElement(scene, {\r\n  width: 600,\r\n  height: 400,\r\n  container: document.getElementById('app')!, // Se adjunta automáticamente\r\n});\r\n\r\n// El SVG ya está en el DOM y responde a eventos\r\n```\r\n\r\n---\r\n\r\n## Paso 5: Eventos soportados\r\n\r\n| Evento DOM | InteractionEventType | Caso de uso |\r\n|-----------|---------------------|-------------|\r\n| `click` | `Click` | Botones, selección |\r\n| `pointerdown` | `PointerDown` | Inicio de drag, efecto press |\r\n| `pointerup` | `PointerUp` | Fin de drag |\r\n| `pointermove` | `PointerMove` | Tracking del puntero |\r\n| `pointerenter` | `PointerEnter` | Hover in |\r\n| `pointerleave` | `PointerLeave` | Hover out |\r\n| `wheel` | `Wheel` | Zoom, scroll |\r\n\r\n---\r\n\r\n## Paso 6: Event bubbling\r\n\r\nLos eventos se propagan de hijo a padre, igual que en el DOM:\r\n\r\n```typescript\r\nconst group = new Node('group');\r\ngroup.addComponent(new Interactive({ cursor: 'default' }));\r\nscene.add(group);\r\n\r\nconst child = new Node('child');\r\nchild.addComponent(createSphere(30));\r\nchild.addComponent(new Material({ fill: { r: 1, g: 0.5, b: 0 } }));\r\nchild.addComponent(new Interactive({ cursor: 'pointer' }));\r\nchild.transform.position = { x: 300, y: 250, z: 0 };\r\nchild.transform.updateLocalMatrix();\r\ngroup.add(child); // child es hijo de group\r\n\r\n// El click en child primero llama al handler de child, luego el de group\r\nchild.on('click', (e) => {\r\n  console.log('Child clicked!', e.target.name);  // \"child\"\r\n  // e.stopPropagation(); // Descomenta para detener el bubbling\r\n});\r\n\r\ngroup.on('click', (e) => {\r\n  console.log('Group received click!', e.target.name);      // \"child\"\r\n  console.log('Current target:', e.currentTarget.name); // \"group\"\r\n});\r\n```\r\n\r\n---\r\n\r\n## Paso 7: Grilla interactiva — ejemplo completo\r\n\r\nUn ejemplo práctico con múltiples elementos interactivos:\r\n\r\n```typescript\r\nconst scene = new Scene();\r\n\r\nconst cam = new Node('cam');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Orthographic,\r\n  left: 0, right: 600, top: 0, bottom: 400,\r\n  near: 0.1, far: 100,\r\n}));\r\nscene.add(cam);\r\n\r\nconst colors = [\r\n  { r: 0.95, g: 0.3, b: 0.3 },\r\n  { r: 0.3, g: 0.65, b: 1.0 },\r\n  { r: 0.2, g: 0.85, b: 0.5 },\r\n  { r: 1.0, g: 0.75, b: 0.15 },\r\n  { r: 0.7, g: 0.3, b: 0.9 },\r\n  { r: 1.0, g: 0.5, b: 0.2 },\r\n];\r\n\r\nconst cols = 3;\r\nconst rows = 2;\r\nconst cellW = 600 / cols;\r\nconst cellH = 400 / rows;\r\n\r\nfor (let r = 0; r \u003C rows; r++) {\r\n  for (let c = 0; c \u003C cols; c++) {\r\n    const idx = r * cols + c;\r\n    const cx = cellW * (c + 0.5);\r\n    const cy = cellH * (r + 0.5);\r\n    const color = colors[idx % colors.length];\r\n\r\n    const tile = new Node(`tile-${r}-${c}`);\r\n    tile.addComponent(createBox(cellW * 0.7, cellH * 0.6, 0));\r\n    tile.addComponent(new Material({\r\n      fill: color,\r\n      stroke: { r: color.r * 0.5, g: color.g * 0.5, b: color.b * 0.5 },\r\n      strokeWidth: 2,\r\n    }));\r\n    tile.addComponent(new Interactive({ cursor: 'pointer' }));\r\n    tile.cssClass = 'tile';\r\n    tile.cssId = `tile-${idx}`;\r\n    tile.transform.position = { x: cx, y: cy, z: 0 };\r\n    tile.transform.updateLocalMatrix();\r\n\r\n    // Click handler\r\n    tile.on('click', () => {\r\n      console.log(`Tile ${tile.name} clicked!`);\r\n    });\r\n\r\n    // Hover handler\r\n    tile.on('pointerenter', () => {\r\n      console.log(`Hovering ${tile.name}`);\r\n    });\r\n\r\n    scene.add(tile);\r\n  }\r\n}\r\n\r\n// Montar SVG interactivo\r\nconst { svg, dispose } = renderToSVGElement(scene, {\r\n  width: 600,\r\n  height: 400,\r\n  container: document.body,\r\n});\r\n```\r\n\r\n---\r\n\r\n## Paso 8: CSS classes y IDs\r\n\r\nLos nodos pueden tener `cssClass` y `cssId` que se emiten como atributos HTML en el SVG generado. Esto permite estilizar con CSS externo:\r\n\r\n```typescript\r\ntile.cssClass = 'interactive-tile highlight';\r\ntile.cssId = 'main-tile';\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Crect id=\"main-tile\" class=\"interactive-tile highlight\" ... />\r\n```\r\n\r\nEsto permite usar CSS para agregar efectos de hover sin JavaScript adicional:\r\n\r\n```css\r\n.interactive-tile:hover {\r\n  filter: brightness(1.2);\r\n  transition: filter 0.2s;\r\n}\r\n```\r\n\r\n---\r\n\r\n## Paso 9: Cleanup\r\n\r\nSiempre llama a `dispose()` cuando ya no necesites el SVG interactivo:\r\n\r\n```typescript\r\n// Al desmontar el componente o cambiar de vista:\r\ndispose();\r\n// - Remueve todos los event listeners (via AbortController)\r\n// - Remueve el SVG element del DOM\r\n// - Limpia el mapa interno de elementos\r\n```\r\n\r\n---\r\n\r\n## Re-rendering\r\n\r\nSi necesitas actualizar el SVG después de mutar la escena, debes llamar nuevamente a `renderToSVGElement`:\r\n\r\n```typescript\r\n// 1. Dispose del anterior\r\ndispose();\r\n\r\n// 2. Mutar la escena\r\nsomeNode.transform.position.x += 50;\r\nsomeNode.transform.updateLocalMatrix();\r\n\r\n// 3. Re-render\r\nconst result = renderToSVGElement(scene, {\r\n  width: 600, height: 400,\r\n  container: document.body,\r\n});\r\n// Actualizar la referencia de dispose\r\n```\r\n\r\n> **Nota:** A diferencia de Three.js (que re-renderiza en un loop), el SVG renderer es funcional — cada llamada genera un SVG nuevo. Para animaciones, usa el componente `Animation` (SVG nativo) o re-renderiza periódicamente.\r\n\r\n---\r\n\r\n## Arquitectura del event system\r\n\r\n```mermaid\r\ngraph TD\r\n    A[\"Pointer event en SVGElement\"] --> B[\"attachInteractiveListeners\"]\r\n    B --> C[\"createInteractionEvent\"]\r\n    C --> D[\"node.dispatchInteraction\"]\r\n    D --> E[\"node.emit('click', event)\"]\r\n    E --> F{\"¿propagationStopped?\"}\r\n    F -->|\"No\"| G[\"parent.emit('click', event)\"]\r\n    F -->|\"Sí\"| H[\"Stop\"]\r\n    G --> F\r\n```\r\n\r\n---\r\n\r\n## Demo interactiva\r\n\r\nExplora la interactividad SVG en la demo **\"SVG Interactive\"** del demo-react.\r\n\r\n---\r\n\r\n## ¿Qué sigue?\r\n\r\nHas completado todos los tutoriales de SVG. Ahora puedes:\r\n\r\n- Combinar gradientes + animaciones + interactividad en una sola escena.\r\n- Exportar SVG animados como archivos `.svg` auto-contenidos.\r\n- Crear dashboards interactivos SVG con event delegation.\r\n- Usar `renderToSVG` en Node.js para server-side rendering.\r\n\r\n➡️ [Volver al índice de tutoriales](./README.md)","src/content/tutorials/11-svg-interactive.md","f95400ffec4775d6",{"html":1431,"metadata":1432},"\u003Ch1 id=\"tutorial-11-svg-interactivo\">Tutorial 11: SVG Interactivo 🔴\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Avanzado\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 25 minutos\u003Cbr>\n\u003Cstrong>Qué aprenderás:\u003C/strong> Crear interfaces SVG interactivas con \u003Ccode>renderToSVGElement\u003C/code>, el componente \u003Ccode>Interactive\u003C/code> y event delegation sobre nodos del scene graph.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto-rendertosvg-vs-rendertosvgelement\">Concepto: \u003Ccode>renderToSVG\u003C/code> vs \u003Ccode>renderToSVGElement\u003C/code>\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Función\u003C/th>\u003Cth>Retorno\u003C/th>\u003Cth>Interactividad\u003C/th>\u003Cth>DOM requerido\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>renderToSVG\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>No\u003C/td>\u003Ctd>No (server-safe)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>renderToSVGElement\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SVGSVGElement\u003C/code> + \u003Ccode>dispose()\u003C/code>\u003C/td>\u003Ctd>Si\u003C/td>\u003Ctd>Si\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>\u003Ccode>renderToSVGElement\u003C/code> crea un elemento SVG real en el DOM y adjunta event listeners a los nodos que tienen el componente \u003Ccode>Interactive\u003C/code>. Los eventos se traducen al sistema de \u003Ccode>InteractionEvent\u003C/code> de Oroya, con soporte para bubbling y \u003Ccode>stopPropagation()\u003C/code>.\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">sequenceDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant User as Usuario\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant SVG as SVGElement\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant Oroya as Scene Graph\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    participant Handler as Event Handler\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    User->>SVG: click / hover / wheel\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    SVG->>Oroya: dispatch InteractionEvent\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Oroya->>Handler: node.on('click', handler)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    Note over Oroya: Event bubbling (hijo → padre)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-1-setup-con-rendertosvgelement\">Paso 1: Setup con renderToSVGElement\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  Scene, Node, Camera, CameraType,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  Material, Interactive,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  createBox, createSphere, createPath2D,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">} \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/core\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">import\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { renderToSVGElement } \u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">from\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">@oroya/renderer-svg\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-crear-nodos-interactivos\">Paso 2: Crear nodos interactivos\u003C/h2>\n\u003Cp>El componente \u003Ccode>Interactive\u003C/code> marca un nodo como receptivo a eventos. Configura el cursor CSS y habilita la detección:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Cámara ortográfica\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">cam\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Orthographic\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  left: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, right: \u003C/span>\u003Cspan style=\"color:#F78C6C\">600\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  top: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, bottom: \u003C/span>\u003Cspan style=\"color:#F78C6C\">400\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Botón interactivo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> button\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">my-button\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">button\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">160\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">button\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.8\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">button\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Interactive\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ cursor: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">pointer\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">button\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">300\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">button\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(button);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-registrar-event-handlers\">Paso 3: Registrar event handlers\u003C/h2>\n\u003Cp>Los handlers se registran en el nodo usando \u003Ccode>node.on()\u003C/code>, igual que con Three.js:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> clickCount\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">button\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">on\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">click\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">e\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  clickCount\u003C/span>\u003Cspan style=\"color:#C792EA\">++\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#ECC48D\">Clicked \u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB\">clickCount\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#ECC48D\"> times!\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Screen position:\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, e\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">screenPosition\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">button\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">on\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">pointerenter\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Mouse entered the button\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">button\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">on\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">pointerleave\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Mouse left the button\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-4-montar-el-svg-interactivo\">Paso 4: Montar el SVG interactivo\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> svg\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> dispose\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVGElement\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 600\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 400\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  container\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">getElementById\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">app\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#C792EA\">!,\u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\"> // Se adjunta automáticamente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// El SVG ya está en el DOM y responde a eventos\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-5-eventos-soportados\">Paso 5: Eventos soportados\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Evento DOM\u003C/th>\u003Cth>InteractionEventType\u003C/th>\u003Cth>Caso de uso\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>click\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Click\u003C/code>\u003C/td>\u003Ctd>Botones, selección\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerdown\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerDown\u003C/code>\u003C/td>\u003Ctd>Inicio de drag, efecto press\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerup\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerUp\u003C/code>\u003C/td>\u003Ctd>Fin de drag\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointermove\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerMove\u003C/code>\u003C/td>\u003Ctd>Tracking del puntero\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerenter\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerEnter\u003C/code>\u003C/td>\u003Ctd>Hover in\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerleave\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerLeave\u003C/code>\u003C/td>\u003Ctd>Hover out\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>wheel\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Wheel\u003C/code>\u003C/td>\u003Ctd>Zoom, scroll\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"paso-6-event-bubbling\">Paso 6: Event bubbling\u003C/h2>\n\u003Cp>Los eventos se propagan de hijo a padre, igual que en el DOM:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> group\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">group\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">group\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Interactive\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ cursor: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">default\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(group);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> child\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">child\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">child\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createSphere\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">30\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">child\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">child\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Interactive\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ cursor: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">pointer\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">child\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: \u003C/span>\u003Cspan style=\"color:#F78C6C\">300\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, y: \u003C/span>\u003Cspan style=\"color:#F78C6C\">250\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">child\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">group\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(child); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// child es hijo de group\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// El click en child primero llama al handler de child, luego el de group\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">child\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">on\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">click\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">e\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Child clicked!\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, e\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">target\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);  \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// \"child\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">  // e.stopPropagation(); // Descomenta para detener el bubbling\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">group\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">on\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">click\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">(\u003C/span>\u003Cspan style=\"color:#D7DBE0\">e\u003C/span>\u003Cspan style=\"color:#D9F5DD\">)\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Group received click!\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, e\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">target\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);      \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// \"child\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">Current target:\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, e\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">currentTarget\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">name\u003C/span>\u003Cspan style=\"color:#D6DEEB\">); \u003C/span>\u003Cspan style=\"color:#637777;font-style:italic\">// \"group\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-7-grilla-interactiva--ejemplo-completo\">Paso 7: Grilla interactiva — ejemplo completo\u003C/h2>\n\u003Cp>Un ejemplo práctico con múltiples elementos interactivos:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> scene\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Scene\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cam\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">cam\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">cam\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Camera\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  type: CameraType\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">Orthographic\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  left: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, right: \u003C/span>\u003Cspan style=\"color:#F78C6C\">600\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, top: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, bottom: \u003C/span>\u003Cspan style=\"color:#F78C6C\">400\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  near: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.1\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, far: \u003C/span>\u003Cspan style=\"color:#F78C6C\">100\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> colors\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.95\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.65\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.85\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.75\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.15\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.7\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.9\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  {\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 1.0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> g\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> b\u003C/span>\u003Cspan style=\"color:#D6DEEB\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cols\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 3\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> rows\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cellW\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 600\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> cols\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cellH\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 400\u003C/span>\u003Cspan style=\"color:#C792EA\"> /\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> rows\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">for\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; r \u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> rows; r\u003C/span>\u003Cspan style=\"color:#C792EA\">++\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  for\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#C792EA\">let\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> c\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">; c \u003C/span>\u003Cspan style=\"color:#C792EA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> cols; c\u003C/span>\u003Cspan style=\"color:#C792EA\">++\u003C/span>\u003Cspan style=\"color:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> idx\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> r\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> cols\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> c\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cx\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> cellW\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">c\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> cy\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> cellH\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">r\u003C/span>\u003Cspan style=\"color:#C792EA\"> +\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> color\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> colors\u003C/span>\u003Cspan style=\"color:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">idx \u003C/span>\u003Cspan style=\"color:#C792EA\">%\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> colors\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#7FDBCA;font-style:italic\">length\u003C/span>\u003Cspan style=\"color:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">    const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> tile\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Node\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#ECC48D;font-style:italic\">tile-\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">r\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#ECC48D;font-style:italic\">-\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">c\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    tile\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">createBox\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(cellW \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.7\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, cellH \u003C/span>\u003Cspan style=\"color:#C792EA\">*\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.6\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    tile\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Material\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      fill: color,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      stroke: { r: color\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">r\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, g: color\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">g\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, b: color\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">b\u003C/span>\u003Cspan style=\"color:#C792EA\"> *\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 0.5\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      strokeWidth: \u003C/span>\u003Cspan style=\"color:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    tile\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">addComponent\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#7FDBCA\">new\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> Interactive\u003C/span>\u003Cspan style=\"color:#D6DEEB\">({ cursor: \u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">pointer\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    tile\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">cssClass\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">tile\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    tile\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">cssId\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> `\u003C/span>\u003Cspan style=\"color:#ECC48D\">tile-\u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB\">idx\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    tile\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">position\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> { x: cx, y: cy, z: \u003C/span>\u003Cspan style=\"color:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    tile\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">    // Click handler\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    tile\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">on\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">click\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#ECC48D\">Tile \u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB\">tile\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">name\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#ECC48D\"> clicked!\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">    // Hover handler\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    tile\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">on\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#ECC48D\">pointerenter\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#D9F5DD\">()\u003C/span>\u003Cspan style=\"color:#C792EA\"> =>\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">      console\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">log\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#ECC48D\">Hovering \u003C/span>\u003Cspan style=\"color:#D3423E\">${\u003C/span>\u003Cspan style=\"color:#D6DEEB\">tile\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">name\u003C/span>\u003Cspan style=\"color:#D3423E\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">`\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    scene\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">add\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(tile);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Montar SVG interactivo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> svg\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> dispose\u003C/span>\u003Cspan style=\"color:#C792EA\"> }\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVGElement\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 600\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 400\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  container\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">body\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-8-css-classes-y-ids\">Paso 8: CSS classes y IDs\u003C/h2>\n\u003Cp>Los nodos pueden tener \u003Ccode>cssClass\u003C/code> y \u003Ccode>cssId\u003C/code> que se emiten como atributos HTML en el SVG generado. Esto permite estilizar con CSS externo:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">tile\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">cssClass\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">interactive-tile highlight\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">tile\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">cssId\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D9F5DD\"> '\u003C/span>\u003Cspan style=\"color:#ECC48D\">main-tile\u003C/span>\u003Cspan style=\"color:#D9F5DD\">'\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#7FDBCA\">&#x3C;\u003C/span>\u003Cspan style=\"color:#CAECE6\">rect\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> id\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">main-tile\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\"> class\u003C/span>\u003Cspan style=\"color:#7FDBCA\">=\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#ECC48D\">interactive-tile highlight\u003C/span>\u003Cspan style=\"color:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#7FDBCA\"> ... />\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Esto permite usar CSS para agregar efectos de hover sin JavaScript adicional:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"css\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#C5E478\">.\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\">interactive-tile\u003C/span>\u003Cspan style=\"color:#C5E478\">:\u003C/span>\u003Cspan style=\"color:#C5E478;font-style:italic\">hover\u003C/span>\u003Cspan style=\"color:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">  filter\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: \u003C/span>\u003Cspan style=\"color:#C5E478\">brightness\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#F78C6C\">1.2\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#80CBC4\">  transition\u003C/span>\u003Cspan style=\"color:#D6DEEB\">: filter \u003C/span>\u003Cspan style=\"color:#F78C6C\">0.2\u003C/span>\u003Cspan style=\"color:#FFEB95\">s\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-9-cleanup\">Paso 9: Cleanup\u003C/h2>\n\u003Cp>Siempre llama a \u003Ccode>dispose()\u003C/code> cuando ya no necesites el SVG interactivo:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Al desmontar el componente o cambiar de vista:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">dispose\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// - Remueve todos los event listeners (via AbortController)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// - Remueve el SVG element del DOM\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// - Limpia el mapa interno de elementos\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"re-rendering\">Re-rendering\u003C/h2>\n\u003Cp>Si necesitas actualizar el SVG después de mutar la escena, debes llamar nuevamente a \u003Ccode>renderToSVGElement\u003C/code>:\u003C/p>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// 1. Dispose del anterior\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#82AAFF;font-style:italic\">dispose\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// 2. Mutar la escena\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">someNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">position\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2\">x\u003C/span>\u003Cspan style=\"color:#C792EA\"> +=\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 50\u003C/span>\u003Cspan style=\"color:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">someNode\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#FAF39F;font-style:italic\">transform\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// 3. Re-render\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">const\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> result\u003C/span>\u003Cspan style=\"color:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#82AAFF;font-style:italic\"> renderToSVGElement\u003C/span>\u003Cspan style=\"color:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\">scene\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  width\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 600\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\"> height\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#F78C6C\"> 400\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA;font-style:italic\">  container\u003C/span>\u003Cspan style=\"color:#C792EA\">:\u003C/span>\u003Cspan style=\"color:#D6DEEB;font-style:italic\"> document\u003C/span>\u003Cspan style=\"color:#C792EA;font-style:italic\">.\u003C/span>\u003Cspan style=\"color:#BAEBE2;font-style:italic\">body\u003C/span>\u003Cspan style=\"color:#C792EA\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C792EA\">}\u003C/span>\u003Cspan style=\"color:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#637777;font-style:italic\">// Actualizar la referencia de dispose\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nota:\u003C/strong> A diferencia de Three.js (que re-renderiza en un loop), el SVG renderer es funcional — cada llamada genera un SVG nuevo. Para animaciones, usa el componente \u003Ccode>Animation\u003C/code> (SVG nativo) o re-renderiza periódicamente.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"arquitectura-del-event-system\">Arquitectura del event system\u003C/h2>\n\u003Cpre class=\"astro-code night-owl\" style=\"background-color:#011627;color:#d6deeb; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    A[\"Pointer event en SVGElement\"] --> B[\"attachInteractiveListeners\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    B --> C[\"createInteractionEvent\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    C --> D[\"node.dispatchInteraction\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    D --> E[\"node.emit('click', event)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    E --> F{\"¿propagationStopped?\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    F -->|\"No\"| G[\"parent.emit('click', event)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    F -->|\"Sí\"| H[\"Stop\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D6DEEB\">    G --> F\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"demo-interactiva\">Demo interactiva\u003C/h2>\n\u003Cp>Explora la interactividad SVG en la demo \u003Cstrong>“SVG Interactive”\u003C/strong> del demo-react.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"qué-sigue\">¿Qué sigue?\u003C/h2>\n\u003Cp>Has completado todos los tutoriales de SVG. Ahora puedes:\u003C/p>\n\u003Cul>\n\u003Cli>Combinar gradientes + animaciones + interactividad en una sola escena.\u003C/li>\n\u003Cli>Exportar SVG animados como archivos \u003Ccode>.svg\u003C/code> auto-contenidos.\u003C/li>\n\u003Cli>Crear dashboards interactivos SVG con event delegation.\u003C/li>\n\u003Cli>Usar \u003Ccode>renderToSVG\u003C/code> en Node.js para server-side rendering.\u003C/li>\n\u003C/ul>\n\u003Cp>➡️ \u003Ca href=\"./README.md\">Volver al índice de tutoriales\u003C/a>\u003C/p>",{"headings":1433,"localImagePaths":1475,"remoteImagePaths":1476,"frontmatter":1477,"imagePaths":1478},[1434,1437,1440,1443,1446,1449,1452,1455,1458,1461,1464,1467,1470,1473,1474],{"depth":26,"slug":1435,"text":1436},"tutorial-11-svg-interactivo","Tutorial 11: SVG Interactivo 🔴",{"depth":28,"slug":1438,"text":1439},"concepto-rendertosvg-vs-rendertosvgelement","Concepto: renderToSVG vs renderToSVGElement",{"depth":28,"slug":1441,"text":1442},"paso-1-setup-con-rendertosvgelement","Paso 1: Setup con renderToSVGElement",{"depth":28,"slug":1444,"text":1445},"paso-2-crear-nodos-interactivos","Paso 2: Crear nodos interactivos",{"depth":28,"slug":1447,"text":1448},"paso-3-registrar-event-handlers","Paso 3: Registrar event handlers",{"depth":28,"slug":1450,"text":1451},"paso-4-montar-el-svg-interactivo","Paso 4: Montar el SVG interactivo",{"depth":28,"slug":1453,"text":1454},"paso-5-eventos-soportados","Paso 5: Eventos soportados",{"depth":28,"slug":1456,"text":1457},"paso-6-event-bubbling","Paso 6: Event bubbling",{"depth":28,"slug":1459,"text":1460},"paso-7-grilla-interactiva--ejemplo-completo","Paso 7: Grilla interactiva — ejemplo completo",{"depth":28,"slug":1462,"text":1463},"paso-8-css-classes-y-ids","Paso 8: CSS classes y IDs",{"depth":28,"slug":1465,"text":1466},"paso-9-cleanup","Paso 9: Cleanup",{"depth":28,"slug":1468,"text":1469},"re-rendering","Re-rendering",{"depth":28,"slug":1471,"text":1472},"arquitectura-del-event-system","Arquitectura del event system",{"depth":28,"slug":1352,"text":1353},{"depth":28,"slug":1293,"text":1294},[],[],{"title":1424,"description":1425,"order":1426,"level":1208,"duration":1255},[]]