[["Map",1,2,9,10,956,957],"meta::meta",["Map",3,4,5,6,7,8],"astro-version","5.17.2","astro-config-digest","{\"root\":{},\"srcDir\":{},\"publicDir\":{},\"outDir\":{},\"cacheDir\":{},\"compressHTML\":true,\"base\":\"/\",\"trailingSlash\":\"ignore\",\"output\":\"static\",\"scopedStyleStrategy\":\"attribute\",\"build\":{\"format\":\"directory\",\"client\":{},\"server\":{},\"assets\":\"_astro\",\"serverEntry\":\"entry.mjs\",\"redirects\":true,\"inlineStylesheets\":\"auto\",\"concurrency\":1},\"server\":{\"open\":false,\"host\":false,\"port\":4321,\"streaming\":true,\"allowedHosts\":[]},\"redirects\":{},\"image\":{\"endpoint\":{\"route\":\"/_image\"},\"service\":{\"entrypoint\":\"astro/assets/services/sharp\",\"config\":{}},\"domains\":[],\"remotePatterns\":[],\"responsiveStyles\":false},\"devToolbar\":{\"enabled\":true},\"markdown\":{\"syntaxHighlight\":{\"type\":\"shiki\",\"excludeLangs\":[\"math\"]},\"shikiConfig\":{\"langs\":[],\"langAlias\":{},\"theme\":\"github-dark\",\"themes\":{},\"wrap\":false,\"transformers\":[]},\"remarkPlugins\":[],\"rehypePlugins\":[],\"remarkRehype\":{},\"gfm\":true,\"smartypants\":true},\"security\":{\"checkOrigin\":true,\"allowedDomains\":[]},\"env\":{\"schema\":{},\"validateSecrets\":false},\"experimental\":{\"clientPrerender\":false,\"contentIntellisense\":false,\"headingIdCompat\":false,\"preserveScriptOrder\":false,\"liveContentCollections\":false,\"csp\":false,\"staticImportMetaEnv\":false,\"chromeDevtoolsWorkspace\":false,\"failOnPrerenderConflict\":false,\"svgo\":false},\"legacy\":{\"collections\":false}}","content-config-digest","31d955c1f8da23c5","docs",["Map",11,12,73,74,170,171,265,266,247,614,232,685,806,807,864,865],"architecture",{"id":11,"data":13,"body":18,"filePath":19,"digest":20,"rendered":21},{"title":14,"description":15,"order":16,"category":17},"Architecture","Design philosophy, module boundaries, and the engine-agnostic approach",2,"concepts","# Architecture Overview\r\n\r\nOroya Animate sigue una arquitectura desacoplada donde la representaci√≥n de la escena es completamente independiente de la tecnolog√≠a de renderizado.\r\n\r\n---\r\n\r\n## Principio fundamental\r\n\r\n> **\"Define once, render anywhere.\"**\r\n> ‚Äî El scene graph es la √∫nica fuente de verdad. Los renderers son traductores.\r\n\r\n```mermaid\r\ngraph TD\r\n    subgraph \"Capa de entrada\"\r\n        UC[\"User Code\"]\r\n        GLTF[\"glTF / GLB Files\"]\r\n        JSON[\"JSON Serializado\"]\r\n    end\r\n\r\n    subgraph \"@oroya/core ‚Äî Motor agn√≥stico\"\r\n        SG[\"Scene Graph\"]\r\n        N[\"Node\"]\r\n        T[\"Transform\"]\r\n        G[\"Geometry\"]\r\n        M[\"Material\"]\r\n        C[\"Camera\"]\r\n        SER[\"Serializer\"]\r\n        MATH[\"Math (Matrix4)\"]\r\n    end\r\n\r\n    subgraph \"Capa de salida\"\r\n        R3[\"@oroya/renderer-three\"]\r\n        RS[\"@oroya/renderer-svg\"]\r\n        R_FUTURE[\"Future: Canvas2D, WebGPU...\"]\r\n    end\r\n\r\n    subgraph \"Resultado\"\r\n        WEBGL[\"WebGL Canvas (p√≠xeles)\"]\r\n        SVG[\"SVG String (vectores)\"]\r\n    end\r\n\r\n    UC -->|\"builds\"| SG\r\n    GLTF -->|\"@oroya/loader-gltf\"| SG\r\n    JSON -->|\"deserialize()\"| SG\r\n    SG -->|\"serialize()\"| JSON\r\n\r\n    SG --> N\r\n    N --> T\r\n    N --> G\r\n    N --> M\r\n    N --> C\r\n    SG --> MATH\r\n\r\n    SG -->|\"mount + render\"| R3\r\n    SG -->|\"renderToSVG()\"| RS\r\n    SG -.->|\"futuro\"| R_FUTURE\r\n\r\n    R3 --> WEBGL\r\n    RS --> SVG\r\n```\r\n\r\n---\r\n\r\n## Capas de la arquitectura\r\n\r\n| Capa | Paquete | Responsabilidad | Dependencias |\r\n|------|---------|-----------------|--------------|\r\n| **Core** | `@oroya/core` | Scene graph, componentes, transforms, serializaci√≥n, math | `uuid` (√∫nica dependencia) |\r\n| **Renderer 3D** | `@oroya/renderer-three` | Traducci√≥n a Three.js WebGL | `@oroya/core`, `three` |\r\n| **Renderer SVG** | `@oroya/renderer-svg` | Generaci√≥n de SVG puro | `@oroya/core` |\r\n| **Loader glTF** | `@oroya/loader-gltf` | Importaci√≥n de modelos 3D | `@oroya/core`, `three` |\r\n\r\n### Grafo de dependencias\r\n\r\n```mermaid\r\ngraph BT\r\n    CORE[\"@oroya/core\"]\r\n    R3[\"@oroya/renderer-three\"]\r\n    RS[\"@oroya/renderer-svg\"]\r\n    LG[\"@oroya/loader-gltf\"]\r\n    THREE[\"three (npm)\"]\r\n    UUID[\"uuid (npm)\"]\r\n    DEMO[\"apps/demo-react\"]\r\n\r\n    CORE -->|\"depends on\"| UUID\r\n    R3 -->|\"depends on\"| CORE\r\n    R3 -->|\"depends on\"| THREE\r\n    RS -->|\"depends on\"| CORE\r\n    LG -->|\"depends on\"| CORE\r\n    LG -->|\"depends on\"| THREE\r\n    DEMO -->|\"depends on\"| CORE\r\n    DEMO -->|\"depends on\"| R3\r\n```\r\n\r\n> **Regla clave:** Las flechas de dependencia son **unidireccionales** y siempre apuntan hacia `@oroya/core`. El core **nunca** importa de los renderers ni de los loaders.\r\n\r\n---\r\n\r\n## El patr√≥n \"Compiler\"\r\n\r\nLos renderers funcionan como **compiladores**: traducen una representaci√≥n intermedia (el scene graph) a un formato de salida espec√≠fico.\r\n\r\n```mermaid\r\nflowchart LR\r\n    IR[\"Scene Graph\\n(Representaci√≥n intermedia)\"] -->|\"ThreeRenderer\"| OUT1[\"THREE.Scene\\nTHREE.Mesh\\nTHREE.Camera\"]\r\n    IR -->|\"renderToSVG()\"| OUT2[\"\u003Csvg>\\n  \u003Cpath/>\\n\u003C/svg>\"]\r\n    IR -.->|\"Future: WebGPU\"| OUT3[\"GPUBuffer\\nGPURenderPipeline\"]\r\n```\r\n\r\n| Concepto | Compilador cl√°sico | Oroya Animate |\r\n|----------|-------------------|---------------|\r\n| C√≥digo fuente | Archivo `.c` | User Code (TypeScript) |\r\n| Representaci√≥n intermedia | AST / IR | Scene Graph |\r\n| Backend | x86, ARM, WASM | Three.js, SVG, WebGPU |\r\n| Salida | C√≥digo m√°quina | P√≠xeles, vectores |\r\n\r\nEste patr√≥n permite:\r\n- **Agregar backends** sin modificar el core.\r\n- **Testear sin renderer** ‚Äî la l√≥gica vive en el scene graph.\r\n- **Server-side rendering** ‚Äî el SVG renderer funciona en Node.js sin DOM.\r\n\r\n---\r\n\r\n## Ciclo de vida del renderizado\r\n\r\n```mermaid\r\nsequenceDiagram\r\n    participant U as User Code\r\n    participant S as Scene\r\n    participant N as Node\r\n    participant T as Transform\r\n    participant R as Renderer\r\n\r\n    Note over U,R: FASE 1 ‚Äî Preparaci√≥n\r\n    U->>S: new Scene()\r\n    U->>N: new Node('box')\r\n    U->>N: addComponent(createBox(...))\r\n    U->>N: addComponent(new Material(...))\r\n    U->>S: scene.add(node)\r\n\r\n    Note over U,R: FASE 2 ‚Äî Montaje\r\n    U->>R: renderer.mount(scene)\r\n    R->>S: scene.traverse(callback)\r\n    R->>R: Crear objetos del backend\r\n    R->>R: Detectar c√°mara activa\r\n\r\n    Note over U,R: FASE 3 ‚Äî Render loop\r\n    loop requestAnimationFrame\r\n        U->>T: transform.rotation = {...}\r\n        U->>T: transform.updateLocalMatrix()\r\n        U->>R: renderer.render()\r\n        R->>S: scene.updateWorldMatrices()\r\n        S->>N: node.updateWorldMatrix(parentMatrix)\r\n        N->>T: worldMatrix = parent √ó local\r\n        R->>R: Sincronizar con backend\r\n        R->>R: Dibujar frame\r\n    end\r\n\r\n    Note over U,R: FASE 4 ‚Äî Cleanup\r\n    U->>R: renderer.dispose()\r\n```\r\n\r\n### Detalle de cada fase\r\n\r\n| Fase | Acci√≥n | Qui√©n la ejecuta |\r\n|------|--------|-------------------|\r\n| **1. Preparaci√≥n** | Construir el scene graph con nodos, componentes y relaciones padre-hijo | User code |\r\n| **2. Montaje** | `renderer.mount(scene)` ‚Äî recorrer el √°rbol y crear los objetos del backend | Renderer |\r\n| **3. Render loop** | Mutar transforms ‚Üí `updateLocalMatrix()` ‚Üí `renderer.render()` ‚Üí propagar matrices ‚Üí dibujar | User code + Renderer |\r\n| **4. Cleanup** | `renderer.dispose()` ‚Äî liberar recursos GPU/memoria | User code |\r\n\r\n---\r\n\r\n## Modelo Entity-Component System (ECS) simplificado\r\n\r\nOroya usa un **ECS ligero** donde:\r\n\r\n| ECS Term | Oroya Equivalent | Descripci√≥n |\r\n|----------|-----------------|-------------|\r\n| **Entity** | `Node` | Contenedor con ID y jerarqu√≠a |\r\n| **Component** | `Transform`, `Geometry`, `Material`, `Camera` | Datos adjuntos a un nodo |\r\n| **System** | Renderers, `updateWorldMatrices()` | L√≥gica que procesa componentes |\r\n\r\n```mermaid\r\ngraph LR\r\n    subgraph \"Entity (Node)\"\r\n        N[\"Node 'player'\"]\r\n    end\r\n\r\n    subgraph \"Components\"\r\n        T[\"Transform\\nposition, rotation, scale\"]\r\n        G[\"Geometry\\nBox 1√ó2√ó1\"]\r\n        M[\"Material\\ncolor: blue\"]\r\n    end\r\n\r\n    subgraph \"Systems\"\r\n        S1[\"updateWorldMatrices()\\nPropaga matrices\"]\r\n        S2[\"ThreeRenderer.render()\\nDibuja con Three.js\"]\r\n    end\r\n\r\n    N --> T\r\n    N --> G\r\n    N --> M\r\n    T --> S1\r\n    G --> S2\r\n    M --> S2\r\n```\r\n\r\n### Reglas del ECS\r\n\r\n1. **Un componente por tipo por nodo** ‚Äî No se pueden tener dos `Geometry` en un mismo nodo.\r\n2. **Transform es autom√°tico** ‚Äî Todos los nodos lo tienen desde su creaci√≥n.\r\n3. **Los componentes son datos** ‚Äî No contienen l√≥gica de renderizado.\r\n4. **Los renderers son los \"systems\"** ‚Äî Leen componentes y producen salida visual.\r\n\r\n---\r\n\r\n## Extensibilidad\r\n\r\n### Agregar un nuevo renderer\r\n\r\n```typescript\r\nclass MyRenderer {\r\n  private scene: Scene | null = null;\r\n\r\n  mount(scene: Scene): void {\r\n    this.scene = scene;\r\n    scene.traverse(node => {\r\n      const geo = node.getComponent\u003CGeometry>(ComponentType.Geometry);\r\n      const mat = node.getComponent\u003CMaterial>(ComponentType.Material);\r\n      // Crear objetos del motor/framework destino\r\n    });\r\n  }\r\n\r\n  render(): void {\r\n    if (!this.scene) return;\r\n    this.scene.updateWorldMatrices();\r\n    this.scene.traverse(node => {\r\n      // Leer node.transform.worldMatrix\r\n      // Sincronizar con los objetos del motor\r\n    });\r\n    // Dibujar frame\r\n  }\r\n\r\n  dispose(): void { /* liberar recursos */ }\r\n}\r\n```\r\n\r\n### Agregar un nuevo loader\r\n\r\n```typescript\r\nasync function loadMyFormat(url: string): Promise\u003CScene> {\r\n  const data = await fetch(url).then(r => r.json());\r\n  const scene = new Scene();\r\n\r\n  for (const obj of data.objects) {\r\n    const node = new Node(obj.name);\r\n    node.addComponent(createBox(obj.width, obj.height, obj.depth));\r\n    node.addComponent(new Material({ color: obj.color }));\r\n    node.transform.position = obj.position;\r\n    scene.add(node);\r\n  }\r\n\r\n  return scene;\r\n}\r\n```\r\n\r\n---\r\n\r\n## Estructura del monorepo\r\n\r\n```\r\noroya-animate/\r\n‚îú‚îÄ‚îÄ packages/\r\n‚îÇ   ‚îú‚îÄ‚îÄ core/               ‚Üê Motor agn√≥stico (Scene, Node, Components, Math)\r\n‚îÇ   ‚îú‚îÄ‚îÄ renderer-three/      ‚Üê Backend Three.js WebGL\r\n‚îÇ   ‚îú‚îÄ‚îÄ renderer-svg/        ‚Üê Backend SVG puro\r\n‚îÇ   ‚îî‚îÄ‚îÄ loader-gltf/         ‚Üê Importador de modelos glTF\r\n‚îú‚îÄ‚îÄ apps/\r\n‚îÇ   ‚îî‚îÄ‚îÄ demo-react/          ‚Üê Aplicaci√≥n demo (Vite + React)\r\n‚îú‚îÄ‚îÄ docs/                    ‚Üê Documentaci√≥n del proyecto\r\n‚îî‚îÄ‚îÄ package.json             ‚Üê Root del monorepo (pnpm workspaces)\r\n```\r\n\r\n---\r\n\r\n## Decisiones de dise√±o\r\n\r\n| Decisi√≥n | Alternativa rechazada | Raz√≥n |\r\n|----------|----------------------|-------|\r\n| Scene graph como IR | API directa sobre Three.js | Permite m√∫ltiples backends y testing sin GPU |\r\n| ECS simplificado (1 comp/tipo) | ECS completo con Systems | Menor complejidad para el alcance actual |\r\n| Quaterniones para rotaci√≥n | √Ångulos de Euler | Sin gimbal lock, interpolaci√≥n natural (SLERP) |\r\n| Matrices column-major | Matrices row-major | Compatible con WebGL y Three.js |\r\n| `uuid` para IDs de nodo | IDs incrementales | IDs √∫nicos globalmente, necesario para serializaci√≥n |\r\n| `tsup` como bundler | `tsc`, `rollup`, `esbuild` | DTS + CJS + ESM en un solo tool con configuraci√≥n m√≠nima |\r\n| pnpm workspaces | npm/yarn workspaces | M√°s r√°pido, deduplicaci√≥n estricta, mejor para monorepos |","src/content/docs/architecture.md","5ac10e9c224f0ddc",{"html":22,"metadata":23},"\u003Ch1 id=\"architecture-overview\">Architecture Overview\u003C/h1>\n\u003Cp>Oroya Animate sigue una arquitectura desacoplada donde la representaci√≥n de la escena es completamente independiente de la tecnolog√≠a de renderizado.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"principio-fundamental\">Principio fundamental\u003C/h2>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>‚ÄúDefine once, render anywhere.‚Äù\u003C/strong>\r\n‚Äî El scene graph es la √∫nica fuente de verdad. Los renderers son traductores.\u003C/p>\n\u003C/blockquote>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Capa de entrada\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        UC[\"User Code\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        GLTF[\"glTF / GLB Files\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        JSON[\"JSON Serializado\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"@oroya/core ‚Äî Motor agn√≥stico\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        SG[\"Scene Graph\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        N[\"Node\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        T[\"Transform\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        G[\"Geometry\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        M[\"Material\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        C[\"Camera\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        SER[\"Serializer\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        MATH[\"Math (Matrix4)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Capa de salida\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        R3[\"@oroya/renderer-three\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        RS[\"@oroya/renderer-svg\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        R_FUTURE[\"Future: Canvas2D, WebGPU...\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Resultado\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        WEBGL[\"WebGL Canvas (p√≠xeles)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        SVG[\"SVG String (vectores)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    UC -->|\"builds\"| SG\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    GLTF -->|\"@oroya/loader-gltf\"| SG\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    JSON -->|\"deserialize()\"| SG\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SG -->|\"serialize()\"| JSON\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SG --> N\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    N --> T\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    N --> G\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    N --> M\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    N --> C\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SG --> MATH\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SG -->|\"mount + render\"| R3\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SG -->|\"renderToSVG()\"| RS\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SG -.->|\"futuro\"| R_FUTURE\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    R3 --> WEBGL\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    RS --> SVG\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"capas-de-la-arquitectura\">Capas de la arquitectura\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Capa\u003C/th>\u003Cth>Paquete\u003C/th>\u003Cth>Responsabilidad\u003C/th>\u003Cth>Dependencias\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>Core\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003Ctd>Scene graph, componentes, transforms, serializaci√≥n, math\u003C/td>\u003Ctd>\u003Ccode>uuid\u003C/code> (√∫nica dependencia)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Renderer 3D\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>@oroya/renderer-three\u003C/code>\u003C/td>\u003Ctd>Traducci√≥n a Three.js WebGL\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>, \u003Ccode>three\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Renderer SVG\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>@oroya/renderer-svg\u003C/code>\u003C/td>\u003Ctd>Generaci√≥n de SVG puro\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Loader glTF\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>@oroya/loader-gltf\u003C/code>\u003C/td>\u003Ctd>Importaci√≥n de modelos 3D\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>, \u003Ccode>three\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"grafo-de-dependencias\">Grafo de dependencias\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph BT\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    CORE[\"@oroya/core\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    R3[\"@oroya/renderer-three\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    RS[\"@oroya/renderer-svg\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    LG[\"@oroya/loader-gltf\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    THREE[\"three (npm)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    UUID[\"uuid (npm)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    DEMO[\"apps/demo-react\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    CORE -->|\"depends on\"| UUID\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    R3 -->|\"depends on\"| CORE\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    R3 -->|\"depends on\"| THREE\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    RS -->|\"depends on\"| CORE\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    LG -->|\"depends on\"| CORE\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    LG -->|\"depends on\"| THREE\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    DEMO -->|\"depends on\"| CORE\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    DEMO -->|\"depends on\"| R3\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Regla clave:\u003C/strong> Las flechas de dependencia son \u003Cstrong>unidireccionales\u003C/strong> y siempre apuntan hacia \u003Ccode>@oroya/core\u003C/code>. El core \u003Cstrong>nunca\u003C/strong> importa de los renderers ni de los loaders.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"el-patr√≥n-compiler\">El patr√≥n ‚ÄúCompiler‚Äù\u003C/h2>\n\u003Cp>Los renderers funcionan como \u003Cstrong>compiladores\u003C/strong>: traducen una representaci√≥n intermedia (el scene graph) a un formato de salida espec√≠fico.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">flowchart LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    IR[\"Scene Graph\\n(Representaci√≥n intermedia)\"] -->|\"ThreeRenderer\"| OUT1[\"THREE.Scene\\nTHREE.Mesh\\nTHREE.Camera\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    IR -->|\"renderToSVG()\"| OUT2[\"&#x3C;svg>\\n  &#x3C;path/>\\n&#x3C;/svg>\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    IR -.->|\"Future: WebGPU\"| OUT3[\"GPUBuffer\\nGPURenderPipeline\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Concepto\u003C/th>\u003Cth>Compilador cl√°sico\u003C/th>\u003Cth>Oroya Animate\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>C√≥digo fuente\u003C/td>\u003Ctd>Archivo \u003Ccode>.c\u003C/code>\u003C/td>\u003Ctd>User Code (TypeScript)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Representaci√≥n intermedia\u003C/td>\u003Ctd>AST / IR\u003C/td>\u003Ctd>Scene Graph\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Backend\u003C/td>\u003Ctd>x86, ARM, WASM\u003C/td>\u003Ctd>Three.js, SVG, WebGPU\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Salida\u003C/td>\u003Ctd>C√≥digo m√°quina\u003C/td>\u003Ctd>P√≠xeles, vectores\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>Este patr√≥n permite:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Agregar backends\u003C/strong> sin modificar el core.\u003C/li>\n\u003Cli>\u003Cstrong>Testear sin renderer\u003C/strong> ‚Äî la l√≥gica vive en el scene graph.\u003C/li>\n\u003Cli>\u003Cstrong>Server-side rendering\u003C/strong> ‚Äî el SVG renderer funciona en Node.js sin DOM.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"ciclo-de-vida-del-renderizado\">Ciclo de vida del renderizado\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sequenceDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant U as User Code\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant S as Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant N as Node\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant T as Transform\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant R as Renderer\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Note over U,R: FASE 1 ‚Äî Preparaci√≥n\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    U->>S: new Scene()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    U->>N: new Node('box')\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    U->>N: addComponent(createBox(...))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    U->>N: addComponent(new Material(...))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    U->>S: scene.add(node)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Note over U,R: FASE 2 ‚Äî Montaje\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    U->>R: renderer.mount(scene)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    R->>S: scene.traverse(callback)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    R->>R: Crear objetos del backend\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    R->>R: Detectar c√°mara activa\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Note over U,R: FASE 3 ‚Äî Render loop\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    loop requestAnimationFrame\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        U->>T: transform.rotation = {...}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        U->>T: transform.updateLocalMatrix()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        U->>R: renderer.render()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        R->>S: scene.updateWorldMatrices()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        S->>N: node.updateWorldMatrix(parentMatrix)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        N->>T: worldMatrix = parent √ó local\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        R->>R: Sincronizar con backend\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        R->>R: Dibujar frame\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Note over U,R: FASE 4 ‚Äî Cleanup\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    U->>R: renderer.dispose()\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"detalle-de-cada-fase\">Detalle de cada fase\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Fase\u003C/th>\u003Cth>Acci√≥n\u003C/th>\u003Cth>Qui√©n la ejecuta\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>1. Preparaci√≥n\u003C/strong>\u003C/td>\u003Ctd>Construir el scene graph con nodos, componentes y relaciones padre-hijo\u003C/td>\u003Ctd>User code\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>2. Montaje\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>renderer.mount(scene)\u003C/code> ‚Äî recorrer el √°rbol y crear los objetos del backend\u003C/td>\u003Ctd>Renderer\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>3. Render loop\u003C/strong>\u003C/td>\u003Ctd>Mutar transforms ‚Üí \u003Ccode>updateLocalMatrix()\u003C/code> ‚Üí \u003Ccode>renderer.render()\u003C/code> ‚Üí propagar matrices ‚Üí dibujar\u003C/td>\u003Ctd>User code + Renderer\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>4. Cleanup\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>renderer.dispose()\u003C/code> ‚Äî liberar recursos GPU/memoria\u003C/td>\u003Ctd>User code\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"modelo-entity-component-system-ecs-simplificado\">Modelo Entity-Component System (ECS) simplificado\u003C/h2>\n\u003Cp>Oroya usa un \u003Cstrong>ECS ligero\u003C/strong> donde:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>ECS Term\u003C/th>\u003Cth>Oroya Equivalent\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>Entity\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>Node\u003C/code>\u003C/td>\u003Ctd>Contenedor con ID y jerarqu√≠a\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Component\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>Transform\u003C/code>, \u003Ccode>Geometry\u003C/code>, \u003Ccode>Material\u003C/code>, \u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>Datos adjuntos a un nodo\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>System\u003C/strong>\u003C/td>\u003Ctd>Renderers, \u003Ccode>updateWorldMatrices()\u003C/code>\u003C/td>\u003Ctd>L√≥gica que procesa componentes\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Entity (Node)\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        N[\"Node 'player'\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Components\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        T[\"Transform\\nposition, rotation, scale\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        G[\"Geometry\\nBox 1√ó2√ó1\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        M[\"Material\\ncolor: blue\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Systems\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        S1[\"updateWorldMatrices()\\nPropaga matrices\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        S2[\"ThreeRenderer.render()\\nDibuja con Three.js\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    N --> T\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    N --> G\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    N --> M\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    T --> S1\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    G --> S2\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    M --> S2\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"reglas-del-ecs\">Reglas del ECS\u003C/h3>\n\u003Col>\n\u003Cli>\u003Cstrong>Un componente por tipo por nodo\u003C/strong> ‚Äî No se pueden tener dos \u003Ccode>Geometry\u003C/code> en un mismo nodo.\u003C/li>\n\u003Cli>\u003Cstrong>Transform es autom√°tico\u003C/strong> ‚Äî Todos los nodos lo tienen desde su creaci√≥n.\u003C/li>\n\u003Cli>\u003Cstrong>Los componentes son datos\u003C/strong> ‚Äî No contienen l√≥gica de renderizado.\u003C/li>\n\u003Cli>\u003Cstrong>Los renderers son los ‚Äúsystems‚Äù\u003C/strong> ‚Äî Leen componentes y producen salida visual.\u003C/li>\n\u003C/ol>\n\u003Chr>\n\u003Ch2 id=\"extensibilidad\">Extensibilidad\u003C/h2>\n\u003Ch3 id=\"agregar-un-nuevo-renderer\">Agregar un nuevo renderer\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">class\u003C/span>\u003Cspan style=\"color:#B392F0\"> MyRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  private\u003C/span>\u003Cspan style=\"color:#FFAB70\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#79B8FF\"> null\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> null\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">scene\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.scene \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> scene;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">traverse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">node\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> geo\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> node.\u003C/span>\u003Cspan style=\"color:#B392F0\">getComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">Geometry\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(ComponentType.Geometry);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> mat\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> node.\u003C/span>\u003Cspan style=\"color:#B392F0\">getComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(ComponentType.Material);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">      // Crear objetos del motor/framework destino\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.scene) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateWorldMatrices\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">traverse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">node\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">      // Leer node.transform.worldMatrix\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">      // Sincronizar con los objetos del motor\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // Dibujar frame\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  dispose\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#6A737D\">/* liberar recursos */\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"agregar-un-nuevo-loader\">Agregar un nuevo loader\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">async\u003C/span>\u003Cspan style=\"color:#F97583\"> function\u003C/span>\u003Cspan style=\"color:#B392F0\"> loadMyFormat\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">url\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Promise\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> data\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> await\u003C/span>\u003Cspan style=\"color:#B392F0\"> fetch\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(url).\u003C/span>\u003Cspan style=\"color:#B392F0\">then\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">r\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> r.\u003C/span>\u003Cspan style=\"color:#B392F0\">json\u003C/span>\u003Cspan style=\"color:#E1E4E8\">());\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> obj\u003C/span>\u003Cspan style=\"color:#F97583\"> of\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> data.objects) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> node\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(obj.name);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(obj.width, obj.height, obj.depth));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: obj.color }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    node.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> obj.position;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(node);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> scene;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"estructura-del-monorepo\">Estructura del monorepo\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>oroya-animate/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îú‚îÄ‚îÄ packages/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îÇ   ‚îú‚îÄ‚îÄ core/               ‚Üê Motor agn√≥stico (Scene, Node, Components, Math)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îÇ   ‚îú‚îÄ‚îÄ renderer-three/      ‚Üê Backend Three.js WebGL\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îÇ   ‚îú‚îÄ‚îÄ renderer-svg/        ‚Üê Backend SVG puro\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îÇ   ‚îî‚îÄ‚îÄ loader-gltf/         ‚Üê Importador de modelos glTF\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îú‚îÄ‚îÄ apps/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îÇ   ‚îî‚îÄ‚îÄ demo-react/          ‚Üê Aplicaci√≥n demo (Vite + React)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îú‚îÄ‚îÄ docs/                    ‚Üê Documentaci√≥n del proyecto\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îî‚îÄ‚îÄ package.json             ‚Üê Root del monorepo (pnpm workspaces)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"decisiones-de-dise√±o\">Decisiones de dise√±o\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Decisi√≥n\u003C/th>\u003Cth>Alternativa rechazada\u003C/th>\u003Cth>Raz√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Scene graph como IR\u003C/td>\u003Ctd>API directa sobre Three.js\u003C/td>\u003Ctd>Permite m√∫ltiples backends y testing sin GPU\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>ECS simplificado (1 comp/tipo)\u003C/td>\u003Ctd>ECS completo con Systems\u003C/td>\u003Ctd>Menor complejidad para el alcance actual\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Quaterniones para rotaci√≥n\u003C/td>\u003Ctd>√Ångulos de Euler\u003C/td>\u003Ctd>Sin gimbal lock, interpolaci√≥n natural (SLERP)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Matrices column-major\u003C/td>\u003Ctd>Matrices row-major\u003C/td>\u003Ctd>Compatible con WebGL y Three.js\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>uuid\u003C/code> para IDs de nodo\u003C/td>\u003Ctd>IDs incrementales\u003C/td>\u003Ctd>IDs √∫nicos globalmente, necesario para serializaci√≥n\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>tsup\u003C/code> como bundler\u003C/td>\u003Ctd>\u003Ccode>tsc\u003C/code>, \u003Ccode>rollup\u003C/code>, \u003Ccode>esbuild\u003C/code>\u003C/td>\u003Ctd>DTS + CJS + ESM en un solo tool con configuraci√≥n m√≠nima\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>pnpm workspaces\u003C/td>\u003Ctd>npm/yarn workspaces\u003C/td>\u003Ctd>M√°s r√°pido, deduplicaci√≥n estricta, mejor para monorepos\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>",{"headings":24,"localImagePaths":69,"remoteImagePaths":70,"frontmatter":71,"imagePaths":72},[25,29,32,35,39,42,45,48,51,54,57,60,63,66],{"depth":26,"slug":27,"text":28},1,"architecture-overview","Architecture Overview",{"depth":16,"slug":30,"text":31},"principio-fundamental","Principio fundamental",{"depth":16,"slug":33,"text":34},"capas-de-la-arquitectura","Capas de la arquitectura",{"depth":36,"slug":37,"text":38},3,"grafo-de-dependencias","Grafo de dependencias",{"depth":16,"slug":40,"text":41},"el-patr√≥n-compiler","El patr√≥n ‚ÄúCompiler‚Äù",{"depth":16,"slug":43,"text":44},"ciclo-de-vida-del-renderizado","Ciclo de vida del renderizado",{"depth":36,"slug":46,"text":47},"detalle-de-cada-fase","Detalle de cada fase",{"depth":16,"slug":49,"text":50},"modelo-entity-component-system-ecs-simplificado","Modelo Entity-Component System (ECS) simplificado",{"depth":36,"slug":52,"text":53},"reglas-del-ecs","Reglas del ECS",{"depth":16,"slug":55,"text":56},"extensibilidad","Extensibilidad",{"depth":36,"slug":58,"text":59},"agregar-un-nuevo-renderer","Agregar un nuevo renderer",{"depth":36,"slug":61,"text":62},"agregar-un-nuevo-loader","Agregar un nuevo loader",{"depth":16,"slug":64,"text":65},"estructura-del-monorepo","Estructura del monorepo",{"depth":16,"slug":67,"text":68},"decisiones-de-dise√±o","Decisiones de dise√±o",[],[],{"title":14,"description":15,"order":16,"category":17},[],"scene-graph",{"id":73,"data":75,"body":78,"filePath":79,"digest":80,"rendered":81},{"title":76,"description":77,"order":36,"category":17},"Scene Graph","Node hierarchy, transform system, and the ECS component model","# Scene Graph & Transformaciones\r\n\r\nEl Scene Graph es la estructura de datos central de Oroya Animate. Es un √°rbol jer√°rquico que gestiona las relaciones espaciales entre todos los objetos de la escena.\r\n\r\n---\r\n\r\n## Tabla de contenidos\r\n\r\n- [Estructura del √°rbol](#estructura-del-√°rbol)\r\n- [Jerarqu√≠a padre-hijo](#jerarqu√≠a-padre-hijo)\r\n- [Sistema de transformaciones](#sistema-de-transformaciones)\r\n- [Propagaci√≥n de matrices](#propagaci√≥n-de-matrices)\r\n- [Componentes (ECS)](#componentes-ecs)\r\n- [Operaciones sobre el √°rbol](#operaciones-sobre-el-√°rbol)\r\n- [Patrones avanzados](#patrones-avanzados)\r\n\r\n---\r\n\r\n## Estructura del √°rbol\r\n\r\nToda `Scene` tiene un nodo `root` que es la ra√≠z del √°rbol. Todos los dem√°s nodos son hijos o descendientes de este root.\r\n\r\n```mermaid\r\ngraph TD\r\n    ROOT[\"root (Node)\"]\r\n    ROOT --> CAM[\"camera (Node)\\nüì∑ Camera + Transform\"]\r\n    ROOT --> ENV[\"environment (Node)\\nüî≤ Transform\"]\r\n    ENV --> FLOOR[\"floor (Node)\\nüì¶ Geometry + Material + Transform\"]\r\n    ENV --> PLAYER[\"player (Node)\\nüì¶ Geometry + Material + Transform\"]\r\n    PLAYER --> WEAPON[\"weapon (Node)\\nüì¶ Geometry + Material + Transform\"]\r\n    ROOT --> LIGHT[\"light (Node)\\nüí° (futuro) Light + Transform\"]\r\n```\r\n\r\n### Reglas del √°rbol\r\n\r\n| Regla | Descripci√≥n |\r\n|-------|-------------|\r\n| **Ra√≠z √∫nica** | La escena siempre tiene exactamente un nodo `root` |\r\n| **Un padre por nodo** | Un nodo solo puede tener un padre a la vez |\r\n| **Re-parenting autom√°tico** | Si un nodo con padre se agrega a otro padre, se remueve del anterior autom√°ticamente |\r\n| **Transform obligatorio** | Todos los nodos tienen un `Transform` creado autom√°ticamente |\r\n| **Nodos vac√≠os permitidos** | Un nodo puede existir sin Geometry ni Material ‚Äî √∫til como contenedor/pivote |\r\n\r\n---\r\n\r\n## Jerarqu√≠a padre-hijo\r\n\r\n### Agregar nodos\r\n\r\n```typescript\r\nconst scene = new Scene();\r\n\r\n// Agregar directamente al root\r\nconst parent = new Node('parent');\r\nscene.add(parent);\r\n\r\n// Agregar como hijo de otro nodo\r\nconst child = new Node('child');\r\nscene.add(child, parent);  // Equivalente a: parent.add(child)\r\n\r\n// Tambi√©n funciona directo sobre el nodo\r\nconst grandchild = new Node('grandchild');\r\nchild.add(grandchild);\r\n```\r\n\r\n### Remover nodos\r\n\r\n```typescript\r\nscene.remove(child);           // Remueve del padre (dondequiera que est√©)\r\nparent.remove(child);          // Remueve solo si es hijo directo\r\n```\r\n\r\n### Re-parenting\r\n\r\nCuando agregas un nodo que ya tiene padre a otro padre, se remueve del anterior autom√°ticamente:\r\n\r\n```typescript\r\nconst groupA = new Node('group-a');\r\nconst groupB = new Node('group-b');\r\nconst box = new Node('box');\r\n\r\ngroupA.add(box);\r\nconsole.log(box.parent?.name); // 'group-a'\r\n\r\ngroupB.add(box);  // Se remueve de groupA autom√°ticamente\r\nconsole.log(box.parent?.name); // 'group-b'\r\nconsole.log(groupA.children.length); // 0\r\n```\r\n\r\n---\r\n\r\n## Sistema de transformaciones\r\n\r\nCada nodo tiene un componente `Transform` con tres propiedades que definen su posici√≥n en espacio local:\r\n\r\n```mermaid\r\ngraph LR\r\n    subgraph \"Transform\"\r\n        P[\"position\\n{x, y, z}\"]\r\n        R[\"rotation\\n{x, y, z, w}\\n(quaternion)\"]\r\n        S[\"scale\\n{x, y, z}\"]\r\n    end\r\n\r\n    subgraph \"Matrices\"\r\n        LM[\"localMatrix\\n(4√ó4)\"]\r\n        WM[\"worldMatrix\\n(4√ó4)\"]\r\n    end\r\n\r\n    P -->|\"composeMatrix()\"| LM\r\n    R -->|\"composeMatrix()\"| LM\r\n    S -->|\"composeMatrix()\"| LM\r\n    LM -->|\"√ó parent.worldMatrix\"| WM\r\n```\r\n\r\n### Propiedades del Transform\r\n\r\n| Propiedad | Tipo | Default | Descripci√≥n |\r\n|-----------|------|---------|-------------|\r\n| `position` | `Vec3 {x, y, z}` | `{0, 0, 0}` | Desplazamiento relativo al padre |\r\n| `rotation` | `Quat {x, y, z, w}` | `{0, 0, 0, 1}` | Rotaci√≥n como quaternion |\r\n| `scale` | `Vec3 {x, y, z}` | `{1, 1, 1}` | Factor de escala |\r\n| `localMatrix` | `Matrix4 (16 n√∫meros)` | Identidad | Calculada de position + rotation + scale |\r\n| `worldMatrix` | `Matrix4 (16 n√∫meros)` | Identidad | Calculada: parent.worldMatrix √ó localMatrix |\r\n| `isDirty` | `boolean` | `true` | Flag para optimizaci√≥n de rec√°lculo |\r\n\r\n### Espacio local vs espacio del mundo\r\n\r\n| Concepto | Definici√≥n | Ejemplo |\r\n|----------|-----------|---------|\r\n| **Espacio local** | Coordenadas relativas al padre | `position = {x: 2, y: 0, z: 0}` ‚Üí 2 unidades a la derecha del padre |\r\n| **Espacio del mundo** | Coordenadas absolutas en la escena | Si el padre est√° en `{x: 5, ...}`, la posici√≥n mundo del hijo es `{x: 7, ...}` |\r\n\r\n```\r\nEscena:\r\n  root (world: 0,0,0)\r\n  ‚îî‚îÄ‚îÄ car (local: 10,0,0 ‚Üí world: 10,0,0)\r\n      ‚îî‚îÄ‚îÄ wheel (local: -1,-0.5,0 ‚Üí world: 9,-0.5,0)\r\n          ‚îî‚îÄ‚îÄ hubcap (local: 0,0,0.1 ‚Üí world: 9,-0.5,0.1)\r\n```\r\n\r\n### Actualizar transforms\r\n\r\nDespu√©s de modificar `position`, `rotation` o `scale`, **debes** llamar a `updateLocalMatrix()`:\r\n\r\n```typescript\r\n// ‚ùå Incorrecto ‚Äî la matriz local no refleja el cambio\r\nnode.transform.position.x = 5;\r\n\r\n// ‚úÖ Correcto ‚Äî recalcula la matriz local\r\nnode.transform.position.x = 5;\r\nnode.transform.updateLocalMatrix();\r\n```\r\n\r\nLa world matrix se recalcula autom√°ticamente por `renderer.render()` o manualmente con:\r\n\r\n```typescript\r\nscene.updateWorldMatrices();\r\n```\r\n\r\n---\r\n\r\n## Propagaci√≥n de matrices\r\n\r\nEl algoritmo de propagaci√≥n recorre el √°rbol en **DFS pre-order** y calcula la world matrix de cada nodo:\r\n\r\n```mermaid\r\ngraph TD\r\n    ROOT[\"root\\nworldMatrix = localMatrix\"]\r\n    A[\"Node A\\nworldMatrix = root.world √ó A.local\"]\r\n    B[\"Node B\\nworldMatrix = root.world √ó B.local\"]\r\n    C[\"Node C\\nworldMatrix = A.world √ó C.local\"]\r\n    D[\"Node D\\nworldMatrix = A.world √ó D.local\"]\r\n    E[\"Node E\\nworldMatrix = B.world √ó E.local\"]\r\n\r\n    ROOT --> A\r\n    ROOT --> B\r\n    A --> C\r\n    A --> D\r\n    B --> E\r\n```\r\n\r\n### Pseudoc√≥digo del algoritmo\r\n\r\n```typescript\r\nfunction updateWorldMatrix(node: Node, parentWorldMatrix?: Matrix4): void {\r\n  // 1. Si el transform fue modificado, recalcular la matriz local\r\n  if (node.transform.isDirty) {\r\n    node.transform.updateLocalMatrix();\r\n  }\r\n\r\n  // 2. Calcular la world matrix\r\n  if (parentWorldMatrix) {\r\n    node.transform.worldMatrix = multiplyMatrices(parentWorldMatrix, node.transform.localMatrix);\r\n  } else {\r\n    node.transform.worldMatrix = node.transform.localMatrix;\r\n  }\r\n\r\n  node.transform.isDirty = false;\r\n\r\n  // 3. Propagar a todos los hijos\r\n  for (const child of node.children) {\r\n    updateWorldMatrix(child, node.transform.worldMatrix);\r\n  }\r\n}\r\n```\r\n\r\n### Ejemplo num√©rico\r\n\r\n```\r\nPadre: position = {x: 3, y: 0, z: 0}\r\nHijo:  position = {x: 2, y: 1, z: 0}\r\n\r\nlocalMatrix(padre)  ‚Üí traslaci√≥n (3, 0, 0)\r\nlocalMatrix(hijo)   ‚Üí traslaci√≥n (2, 1, 0)\r\n\r\nworldMatrix(padre)  = localMatrix(padre)       ‚Üí (3, 0, 0) en mundo\r\nworldMatrix(hijo)   = worldMatrix(padre) √ó localMatrix(hijo)\r\n                    = traslaci√≥n(3,0,0) √ó traslaci√≥n(2,1,0)\r\n                    ‚Üí (5, 1, 0) en mundo  ‚úÖ\r\n```\r\n\r\n---\r\n\r\n## Componentes (ECS)\r\n\r\nLos nodos son contenedores vac√≠os hasta que se les agregan componentes. Esto sigue un patr√≥n **Entity-Component System (ECS) simplificado**.\r\n\r\n```mermaid\r\nclassDiagram\r\n    class Node {\r\n        +id: string\r\n        +name: string\r\n        +components: Map\r\n        +addComponent()\r\n        +getComponent()\r\n        +hasComponent()\r\n    }\r\n\r\n    class Component {\r\n        \u003C\u003Cabstract>>\r\n        +type: ComponentType\r\n        +node: Node\r\n    }\r\n\r\n    class Transform {\r\n        +position: Vec3\r\n        +rotation: Quat\r\n        +scale: Vec3\r\n    }\r\n\r\n    class Geometry {\r\n        +definition: GeometryDef\r\n    }\r\n\r\n    class Material {\r\n        +definition: MaterialDef\r\n    }\r\n\r\n    class Camera {\r\n        +definition: CameraDef\r\n    }\r\n\r\n    Node \"1\" --> \"*\" Component : components\r\n    Component \u003C|-- Transform\r\n    Component \u003C|-- Geometry\r\n    Component \u003C|-- Material\r\n    Component \u003C|-- Camera\r\n```\r\n\r\n### Tipos de componentes\r\n\r\n| Componente | `ComponentType` | Auto-creado | Descripci√≥n |\r\n|------------|-----------------|-------------|-------------|\r\n| `Transform` | `Transform` | ‚úÖ S√≠ | Posici√≥n, rotaci√≥n, escala, matrices |\r\n| `Geometry` | `Geometry` | ‚ùå No | Forma geom√©trica (Box, Sphere, Path2D) |\r\n| `Material` | `Material` | ‚ùå No | Apariencia visual (color, opacidad, fill, stroke) |\r\n| `Camera` | `Camera` | ‚ùå No | Punto de vista (Perspective; Orthographic planned) |\r\n\r\n### Operaciones con componentes\r\n\r\n```typescript\r\nconst node = new Node('player');\r\n\r\n// Agregar\r\nnode.addComponent(createBox(1, 2, 1));\r\nnode.addComponent(new Material({ color: { r: 0, g: 0.8, b: 0.5 } }));\r\n\r\n// Consultar\r\nconst geo = node.getComponent\u003CGeometry>(ComponentType.Geometry);\r\nconsole.log(geo?.definition.type); // 'Box'\r\n\r\n// Verificar\r\nif (node.hasComponent(ComponentType.Camera)) {\r\n  console.log('Es una c√°mara');\r\n}\r\n\r\n// Reemplazar (mismo tipo = sobreescribe)\r\nnode.addComponent(createSphere(1, 32, 32)); // Reemplaza el Box por una Sphere\r\n```\r\n\r\n> **Regla:** M√°ximo **un componente por tipo** por nodo. Agregar un segundo componente del mismo tipo reemplaza al anterior silenciosamente.\r\n\r\n---\r\n\r\n## Operaciones sobre el √°rbol\r\n\r\n### Traversal (recorrido)\r\n\r\nRecorre el √°rbol completo en DFS pre-order:\r\n\r\n```typescript\r\n// Recorrer toda la escena\r\nscene.traverse(node => {\r\n  console.log(node.name, node.children.length);\r\n});\r\n\r\n// Recorrer solo a partir de un nodo\r\nsomeNode.traverse(descendant => {\r\n  // Solo visita someNode y sus descendientes\r\n});\r\n```\r\n\r\n### B√∫squeda\r\n\r\n```typescript\r\n// Por UUID (√∫nico, garantizado)\r\nconst node = scene.findNodeById('550e8400-e29b-41d4-a716-446655440000');\r\n\r\n// Por nombre (retorna el primero encontrado)\r\nconst camera = scene.findNodeByName('main-camera');\r\n```\r\n\r\n### Conteo de nodos\r\n\r\n```typescript\r\nlet count = 0;\r\nscene.traverse(() => count++);\r\nconsole.log(`La escena tiene ${count} nodos`);\r\n```\r\n\r\n---\r\n\r\n## Patrones avanzados\r\n\r\n### Nodo pivote (para √≥rbitas)\r\n\r\nUn nodo vac√≠o cuya rotaci√≥n genera una √≥rbita para sus hijos:\r\n\r\n```\r\nSol (esfera)\r\n‚îî‚îÄ‚îÄ earthPivot (vac√≠o, rota en Y)\r\n    ‚îî‚îÄ‚îÄ Tierra (esfera, desplazada en X)\r\n        ‚îî‚îÄ‚îÄ moonPivot (vac√≠o, rota m√°s r√°pido)\r\n            ‚îî‚îÄ‚îÄ Luna (esfera, desplazada en X)\r\n```\r\n\r\n```typescript\r\nconst earthPivot = new Node('earth-pivot'); // Sin geometr√≠a\r\nsun.add(earthPivot);\r\n\r\nconst earth = new Node('earth');\r\nearth.transform.position = { x: 5, y: 0, z: 0 }; // Distancia orbital\r\nearthPivot.add(earth);\r\n\r\n// Al rotar el pivot, la Tierra orbita el Sol\r\nearthPivot.transform.rotation = rotateY(angle);\r\nearthPivot.transform.updateLocalMatrix();\r\n```\r\n\r\n### Nodo grupo (para organizaci√≥n)\r\n\r\n```typescript\r\nconst ui = new Node('ui-layer');\r\nconst world = new Node('world-layer');\r\n\r\nscene.add(ui);\r\nscene.add(world);\r\n\r\n// Todos los elementos del mundo bajo un grupo\r\nworld.add(terrain);\r\nworld.add(buildings);\r\nworld.add(characters);\r\n\r\n// Esconder todo el mundo de golpe (futuro: visibility component)\r\nscene.remove(world); // Todo el grupo desaparece\r\n```\r\n\r\n### C√°mara adjunta a un nodo\r\n\r\nLa c√°mara hereda el transform de su padre:\r\n\r\n```typescript\r\nconst character = new Node('character');\r\nscene.add(character);\r\n\r\nconst followCam = new Node('follow-cam');\r\nfollowCam.addComponent(new Camera({...}));\r\nfollowCam.transform.position = { x: 0, y: 3, z: 8 }; // Offset relativo\r\ncharacter.add(followCam);\r\n\r\n// Cuando el personaje se mueve, la c√°mara lo sigue autom√°ticamente\r\n```\r\n\r\n### Snapshot del estado\r\n\r\nCapturar posiciones de todos los nodos:\r\n\r\n```typescript\r\nconst snapshot = new Map\u003Cstring, Vec3>();\r\n\r\nscene.traverse(node => {\r\n  const wm = node.transform.worldMatrix;\r\n  snapshot.set(node.id, {\r\n    x: wm[12], // posici√≥n X del mundo\r\n    y: wm[13], // posici√≥n Y del mundo\r\n    z: wm[14], // posici√≥n Z del mundo\r\n  });\r\n});\r\n```","src/content/docs/scene-graph.md","af26cd0f6c7f9e26",{"html":82,"metadata":83},"\u003Ch1 id=\"scene-graph--transformaciones\">Scene Graph &#x26; Transformaciones\u003C/h1>\n\u003Cp>El Scene Graph es la estructura de datos central de Oroya Animate. Es un √°rbol jer√°rquico que gestiona las relaciones espaciales entre todos los objetos de la escena.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"tabla-de-contenidos\">Tabla de contenidos\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#estructura-del-%C3%A1rbol\">Estructura del √°rbol\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#jerarqu%C3%ADa-padre-hijo\">Jerarqu√≠a padre-hijo\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#sistema-de-transformaciones\">Sistema de transformaciones\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#propagaci%C3%B3n-de-matrices\">Propagaci√≥n de matrices\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#componentes-ecs\">Componentes (ECS)\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#operaciones-sobre-el-%C3%A1rbol\">Operaciones sobre el √°rbol\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#patrones-avanzados\">Patrones avanzados\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"estructura-del-√°rbol\">Estructura del √°rbol\u003C/h2>\n\u003Cp>Toda \u003Ccode>Scene\u003C/code> tiene un nodo \u003Ccode>root\u003C/code> que es la ra√≠z del √°rbol. Todos los dem√°s nodos son hijos o descendientes de este root.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ROOT[\"root (Node)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ROOT --> CAM[\"camera (Node)\\nüì∑ Camera + Transform\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ROOT --> ENV[\"environment (Node)\\nüî≤ Transform\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ENV --> FLOOR[\"floor (Node)\\nüì¶ Geometry + Material + Transform\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ENV --> PLAYER[\"player (Node)\\nüì¶ Geometry + Material + Transform\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    PLAYER --> WEAPON[\"weapon (Node)\\nüì¶ Geometry + Material + Transform\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ROOT --> LIGHT[\"light (Node)\\nüí° (futuro) Light + Transform\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"reglas-del-√°rbol\">Reglas del √°rbol\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Regla\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>Ra√≠z √∫nica\u003C/strong>\u003C/td>\u003Ctd>La escena siempre tiene exactamente un nodo \u003Ccode>root\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Un padre por nodo\u003C/strong>\u003C/td>\u003Ctd>Un nodo solo puede tener un padre a la vez\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Re-parenting autom√°tico\u003C/strong>\u003C/td>\u003Ctd>Si un nodo con padre se agrega a otro padre, se remueve del anterior autom√°ticamente\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Transform obligatorio\u003C/strong>\u003C/td>\u003Ctd>Todos los nodos tienen un \u003Ccode>Transform\u003C/code> creado autom√°ticamente\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Nodos vac√≠os permitidos\u003C/strong>\u003C/td>\u003Ctd>Un nodo puede existir sin Geometry ni Material ‚Äî √∫til como contenedor/pivote\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"jerarqu√≠a-padre-hijo\">Jerarqu√≠a padre-hijo\u003C/h2>\n\u003Ch3 id=\"agregar-nodos\">Agregar nodos\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Agregar directamente al root\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> parent\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'parent'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(parent);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Agregar como hijo de otro nodo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> child\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'child'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(child, parent);  \u003C/span>\u003Cspan style=\"color:#6A737D\">// Equivalente a: parent.add(child)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Tambi√©n funciona directo sobre el nodo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> grandchild\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'grandchild'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">child.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(grandchild);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"remover-nodos\">Remover nodos\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">remove\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(child);           \u003C/span>\u003Cspan style=\"color:#6A737D\">// Remueve del padre (dondequiera que est√©)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">parent.\u003C/span>\u003Cspan style=\"color:#B392F0\">remove\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(child);          \u003C/span>\u003Cspan style=\"color:#6A737D\">// Remueve solo si es hijo directo\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"re-parenting\">Re-parenting\u003C/h3>\n\u003Cp>Cuando agregas un nodo que ya tiene padre a otro padre, se remueve del anterior autom√°ticamente:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> groupA\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'group-a'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> groupB\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'group-b'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> box\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'box'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">groupA.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(box);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(box.parent?.name); \u003C/span>\u003Cspan style=\"color:#6A737D\">// 'group-a'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">groupB.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(box);  \u003C/span>\u003Cspan style=\"color:#6A737D\">// Se remueve de groupA autom√°ticamente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(box.parent?.name); \u003C/span>\u003Cspan style=\"color:#6A737D\">// 'group-b'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(groupA.children.\u003C/span>\u003Cspan style=\"color:#79B8FF\">length\u003C/span>\u003Cspan style=\"color:#E1E4E8\">); \u003C/span>\u003Cspan style=\"color:#6A737D\">// 0\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"sistema-de-transformaciones\">Sistema de transformaciones\u003C/h2>\n\u003Cp>Cada nodo tiene un componente \u003Ccode>Transform\u003C/code> con tres propiedades que definen su posici√≥n en espacio local:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Transform\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        P[\"position\\n{x, y, z}\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        R[\"rotation\\n{x, y, z, w}\\n(quaternion)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        S[\"scale\\n{x, y, z}\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Matrices\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        LM[\"localMatrix\\n(4√ó4)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        WM[\"worldMatrix\\n(4√ó4)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    P -->|\"composeMatrix()\"| LM\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    R -->|\"composeMatrix()\"| LM\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    S -->|\"composeMatrix()\"| LM\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    LM -->|\"√ó parent.worldMatrix\"| WM\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"propiedades-del-transform\">Propiedades del Transform\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Propiedad\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>position\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Vec3 {x, y, z}\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{0, 0, 0}\u003C/code>\u003C/td>\u003Ctd>Desplazamiento relativo al padre\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>rotation\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Quat {x, y, z, w}\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{0, 0, 0, 1}\u003C/code>\u003C/td>\u003Ctd>Rotaci√≥n como quaternion\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>scale\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Vec3 {x, y, z}\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{1, 1, 1}\u003C/code>\u003C/td>\u003Ctd>Factor de escala\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>localMatrix\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Matrix4 (16 n√∫meros)\u003C/code>\u003C/td>\u003Ctd>Identidad\u003C/td>\u003Ctd>Calculada de position + rotation + scale\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>worldMatrix\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Matrix4 (16 n√∫meros)\u003C/code>\u003C/td>\u003Ctd>Identidad\u003C/td>\u003Ctd>Calculada: parent.worldMatrix √ó localMatrix\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>isDirty\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>true\u003C/code>\u003C/td>\u003Ctd>Flag para optimizaci√≥n de rec√°lculo\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"espacio-local-vs-espacio-del-mundo\">Espacio local vs espacio del mundo\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Concepto\u003C/th>\u003Cth>Definici√≥n\u003C/th>\u003Cth>Ejemplo\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>Espacio local\u003C/strong>\u003C/td>\u003Ctd>Coordenadas relativas al padre\u003C/td>\u003Ctd>\u003Ccode>position = {x: 2, y: 0, z: 0}\u003C/code> ‚Üí 2 unidades a la derecha del padre\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Espacio del mundo\u003C/strong>\u003C/td>\u003Ctd>Coordenadas absolutas en la escena\u003C/td>\u003Ctd>Si el padre est√° en \u003Ccode>{x: 5, ...}\u003C/code>, la posici√≥n mundo del hijo es \u003Ccode>{x: 7, ...}\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>Escena:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  root (world: 0,0,0)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  ‚îî‚îÄ‚îÄ car (local: 10,0,0 ‚Üí world: 10,0,0)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>      ‚îî‚îÄ‚îÄ wheel (local: -1,-0.5,0 ‚Üí world: 9,-0.5,0)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>          ‚îî‚îÄ‚îÄ hubcap (local: 0,0,0.1 ‚Üí world: 9,-0.5,0.1)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"actualizar-transforms\">Actualizar transforms\u003C/h3>\n\u003Cp>Despu√©s de modificar \u003Ccode>position\u003C/code>, \u003Ccode>rotation\u003C/code> o \u003Ccode>scale\u003C/code>, \u003Cstrong>debes\u003C/strong> llamar a \u003Ccode>updateLocalMatrix()\u003C/code>:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚ùå Incorrecto ‚Äî la matriz local no refleja el cambio\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.transform.position.x \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚úÖ Correcto ‚Äî recalcula la matriz local\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.transform.position.x \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>La world matrix se recalcula autom√°ticamente por \u003Ccode>renderer.render()\u003C/code> o manualmente con:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateWorldMatrices\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"propagaci√≥n-de-matrices\">Propagaci√≥n de matrices\u003C/h2>\n\u003Cp>El algoritmo de propagaci√≥n recorre el √°rbol en \u003Cstrong>DFS pre-order\u003C/strong> y calcula la world matrix de cada nodo:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ROOT[\"root\\nworldMatrix = localMatrix\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    A[\"Node A\\nworldMatrix = root.world √ó A.local\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    B[\"Node B\\nworldMatrix = root.world √ó B.local\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    C[\"Node C\\nworldMatrix = A.world √ó C.local\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    D[\"Node D\\nworldMatrix = A.world √ó D.local\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    E[\"Node E\\nworldMatrix = B.world √ó E.local\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ROOT --> A\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ROOT --> B\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    A --> C\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    A --> D\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    B --> E\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"pseudoc√≥digo-del-algoritmo\">Pseudoc√≥digo del algoritmo\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> updateWorldMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">node\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">parentWorldMatrix\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Matrix4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // 1. Si el transform fue modificado, recalcular la matriz local\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (node.transform.isDirty) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    node.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // 2. Calcular la world matrix\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (parentWorldMatrix) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    node.transform.worldMatrix \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> multiplyMatrices\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(parentWorldMatrix, node.transform.localMatrix);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  } \u003C/span>\u003Cspan style=\"color:#F97583\">else\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    node.transform.worldMatrix \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> node.transform.localMatrix;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  node.transform.isDirty \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> false\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // 3. Propagar a todos los hijos\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> child\u003C/span>\u003Cspan style=\"color:#F97583\"> of\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> node.children) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    updateWorldMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(child, node.transform.worldMatrix);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"ejemplo-num√©rico\">Ejemplo num√©rico\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>Padre: position = {x: 3, y: 0, z: 0}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Hijo:  position = {x: 2, y: 1, z: 0}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>localMatrix(padre)  ‚Üí traslaci√≥n (3, 0, 0)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>localMatrix(hijo)   ‚Üí traslaci√≥n (2, 1, 0)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>worldMatrix(padre)  = localMatrix(padre)       ‚Üí (3, 0, 0) en mundo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>worldMatrix(hijo)   = worldMatrix(padre) √ó localMatrix(hijo)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                    = traslaci√≥n(3,0,0) √ó traslaci√≥n(2,1,0)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                    ‚Üí (5, 1, 0) en mundo  ‚úÖ\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"componentes-ecs\">Componentes (ECS)\u003C/h2>\n\u003Cp>Los nodos son contenedores vac√≠os hasta que se les agregan componentes. Esto sigue un patr√≥n \u003Cstrong>Entity-Component System (ECS) simplificado\u003C/strong>.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">classDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    class Node {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +id: string\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +name: string\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +components: Map\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +addComponent()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +getComponent()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +hasComponent()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    class Component {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;&#x3C;abstract>>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +type: ComponentType\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +node: Node\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    class Transform {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +position: Vec3\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +rotation: Quat\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +scale: Vec3\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    class Geometry {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +definition: GeometryDef\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    class Material {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +definition: MaterialDef\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    class Camera {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +definition: CameraDef\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Node \"1\" --> \"*\" Component : components\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Component &#x3C;|-- Transform\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Component &#x3C;|-- Geometry\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Component &#x3C;|-- Material\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Component &#x3C;|-- Camera\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"tipos-de-componentes\">Tipos de componentes\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Componente\u003C/th>\u003Cth>\u003Ccode>ComponentType\u003C/code>\u003C/th>\u003Cth>Auto-creado\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>‚úÖ S√≠\u003C/td>\u003Ctd>Posici√≥n, rotaci√≥n, escala, matrices\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Geometry\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Geometry\u003C/code>\u003C/td>\u003Ctd>‚ùå No\u003C/td>\u003Ctd>Forma geom√©trica (Box, Sphere, Path2D)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>‚ùå No\u003C/td>\u003Ctd>Apariencia visual (color, opacidad, fill, stroke)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>‚ùå No\u003C/td>\u003Ctd>Punto de vista (Perspective; Orthographic planned)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"operaciones-con-componentes\">Operaciones con componentes\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> node\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'player'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Agregar\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Consultar\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> geo\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> node.\u003C/span>\u003Cspan style=\"color:#B392F0\">getComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">Geometry\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(ComponentType.Geometry);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(geo?.definition.type); \u003C/span>\u003Cspan style=\"color:#6A737D\">// 'Box'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Verificar\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (node.\u003C/span>\u003Cspan style=\"color:#B392F0\">hasComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(ComponentType.Camera)) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Es una c√°mara'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Reemplazar (mismo tipo = sobreescribe)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)); \u003C/span>\u003Cspan style=\"color:#6A737D\">// Reemplaza el Box por una Sphere\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Regla:\u003C/strong> M√°ximo \u003Cstrong>un componente por tipo\u003C/strong> por nodo. Agregar un segundo componente del mismo tipo reemplaza al anterior silenciosamente.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"operaciones-sobre-el-√°rbol\">Operaciones sobre el √°rbol\u003C/h2>\n\u003Ch3 id=\"traversal-recorrido\">Traversal (recorrido)\u003C/h3>\n\u003Cp>Recorre el √°rbol completo en DFS pre-order:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Recorrer toda la escena\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">traverse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">node\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(node.name, node.children.\u003C/span>\u003Cspan style=\"color:#79B8FF\">length\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Recorrer solo a partir de un nodo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">someNode.\u003C/span>\u003Cspan style=\"color:#B392F0\">traverse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">descendant\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Solo visita someNode y sus descendientes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"b√∫squeda\">B√∫squeda\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Por UUID (√∫nico, garantizado)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> node\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">findNodeById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'550e8400-e29b-41d4-a716-446655440000'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Por nombre (retorna el primero encontrado)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> camera\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">findNodeByName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'main-camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"conteo-de-nodos\">Conteo de nodos\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> count \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">traverse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(() \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> count\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`La escena tiene ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">count\u003C/span>\u003Cspan style=\"color:#9ECBFF\">} nodos`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"patrones-avanzados\">Patrones avanzados\u003C/h2>\n\u003Ch3 id=\"nodo-pivote-para-√≥rbitas\">Nodo pivote (para √≥rbitas)\u003C/h3>\n\u003Cp>Un nodo vac√≠o cuya rotaci√≥n genera una √≥rbita para sus hijos:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>Sol (esfera)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îî‚îÄ‚îÄ earthPivot (vac√≠o, rota en Y)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    ‚îî‚îÄ‚îÄ Tierra (esfera, desplazada en X)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        ‚îî‚îÄ‚îÄ moonPivot (vac√≠o, rota m√°s r√°pido)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            ‚îî‚îÄ‚îÄ Luna (esfera, desplazada en X)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> earthPivot\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'earth-pivot'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">); \u003C/span>\u003Cspan style=\"color:#6A737D\">// Sin geometr√≠a\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sun.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(earthPivot);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> earth\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'earth'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">earth.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }; \u003C/span>\u003Cspan style=\"color:#6A737D\">// Distancia orbital\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">earthPivot.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(earth);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Al rotar el pivot, la Tierra orbita el Sol\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">earthPivot.transform.rotation \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> rotateY\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(angle);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">earthPivot.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"nodo-grupo-para-organizaci√≥n\">Nodo grupo (para organizaci√≥n)\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> ui\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'ui-layer'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> world\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'world-layer'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(ui);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(world);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Todos los elementos del mundo bajo un grupo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">world.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(terrain);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">world.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(buildings);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">world.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(characters);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Esconder todo el mundo de golpe (futuro: visibility component)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">remove\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(world); \u003C/span>\u003Cspan style=\"color:#6A737D\">// Todo el grupo desaparece\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"c√°mara-adjunta-a-un-nodo\">C√°mara adjunta a un nodo\u003C/h3>\n\u003Cp>La c√°mara hereda el transform de su padre:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> character\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'character'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(character);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> followCam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'follow-cam'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">followCam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">followCam.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">8\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }; \u003C/span>\u003Cspan style=\"color:#6A737D\">// Offset relativo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">character.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(followCam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Cuando el personaje se mueve, la c√°mara lo sigue autom√°ticamente\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"snapshot-del-estado\">Snapshot del estado\u003C/h3>\n\u003Cp>Capturar posiciones de todos los nodos:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> snapshot\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Map\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#B392F0\">Vec3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">traverse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">node\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> wm\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> node.transform.worldMatrix;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  snapshot.\u003C/span>\u003Cspan style=\"color:#B392F0\">set\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(node.id, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    x: wm[\u003C/span>\u003Cspan style=\"color:#79B8FF\">12\u003C/span>\u003Cspan style=\"color:#E1E4E8\">], \u003C/span>\u003Cspan style=\"color:#6A737D\">// posici√≥n X del mundo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    y: wm[\u003C/span>\u003Cspan style=\"color:#79B8FF\">13\u003C/span>\u003Cspan style=\"color:#E1E4E8\">], \u003C/span>\u003Cspan style=\"color:#6A737D\">// posici√≥n Y del mundo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    z: wm[\u003C/span>\u003Cspan style=\"color:#79B8FF\">14\u003C/span>\u003Cspan style=\"color:#E1E4E8\">], \u003C/span>\u003Cspan style=\"color:#6A737D\">// posici√≥n Z del mundo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",{"headings":84,"localImagePaths":166,"remoteImagePaths":167,"frontmatter":168,"imagePaths":169},[85,88,91,94,97,100,103,106,109,112,115,118,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163],{"depth":26,"slug":86,"text":87},"scene-graph--transformaciones","Scene Graph & Transformaciones",{"depth":16,"slug":89,"text":90},"tabla-de-contenidos","Tabla de contenidos",{"depth":16,"slug":92,"text":93},"estructura-del-√°rbol","Estructura del √°rbol",{"depth":36,"slug":95,"text":96},"reglas-del-√°rbol","Reglas del √°rbol",{"depth":16,"slug":98,"text":99},"jerarqu√≠a-padre-hijo","Jerarqu√≠a padre-hijo",{"depth":36,"slug":101,"text":102},"agregar-nodos","Agregar nodos",{"depth":36,"slug":104,"text":105},"remover-nodos","Remover nodos",{"depth":36,"slug":107,"text":108},"re-parenting","Re-parenting",{"depth":16,"slug":110,"text":111},"sistema-de-transformaciones","Sistema de transformaciones",{"depth":36,"slug":113,"text":114},"propiedades-del-transform","Propiedades del Transform",{"depth":36,"slug":116,"text":117},"espacio-local-vs-espacio-del-mundo","Espacio local vs espacio del mundo",{"depth":36,"slug":119,"text":120},"actualizar-transforms","Actualizar transforms",{"depth":16,"slug":122,"text":123},"propagaci√≥n-de-matrices","Propagaci√≥n de matrices",{"depth":36,"slug":125,"text":126},"pseudoc√≥digo-del-algoritmo","Pseudoc√≥digo del algoritmo",{"depth":36,"slug":128,"text":129},"ejemplo-num√©rico","Ejemplo num√©rico",{"depth":16,"slug":131,"text":132},"componentes-ecs","Componentes (ECS)",{"depth":36,"slug":134,"text":135},"tipos-de-componentes","Tipos de componentes",{"depth":36,"slug":137,"text":138},"operaciones-con-componentes","Operaciones con componentes",{"depth":16,"slug":140,"text":141},"operaciones-sobre-el-√°rbol","Operaciones sobre el √°rbol",{"depth":36,"slug":143,"text":144},"traversal-recorrido","Traversal (recorrido)",{"depth":36,"slug":146,"text":147},"b√∫squeda","B√∫squeda",{"depth":36,"slug":149,"text":150},"conteo-de-nodos","Conteo de nodos",{"depth":16,"slug":152,"text":153},"patrones-avanzados","Patrones avanzados",{"depth":36,"slug":155,"text":156},"nodo-pivote-para-√≥rbitas","Nodo pivote (para √≥rbitas)",{"depth":36,"slug":158,"text":159},"nodo-grupo-para-organizaci√≥n","Nodo grupo (para organizaci√≥n)",{"depth":36,"slug":161,"text":162},"c√°mara-adjunta-a-un-nodo","C√°mara adjunta a un nodo",{"depth":36,"slug":164,"text":165},"snapshot-del-estado","Snapshot del estado",[],[],{"title":76,"description":77,"order":36,"category":17},[],"getting-started",{"id":170,"data":172,"body":176,"filePath":177,"digest":178,"rendered":179},{"title":173,"description":174,"order":26,"category":175},"Getting Started","Quick start guide for setting up Oroya Animate and creating your first scene","guide","# Getting Started with Oroya Animate\n\nWelcome! This guide will help you get your first 3D scene up and running using **Oroya Animate**, a renderer-agnostic scene graph engine for the web.\n\nOroya Animate separates your scene definition from the rendering backend. You describe your world once using `@oroya/core` and then choose how to render it - WebGL via Three.js, SVG for static graphics, or any future backend.\n\n---\n\n## Installation\n\nInstall the packages you need from npm using your preferred package manager:\n\n```bash\n# npm\nnpm install @oroya/core @oroya/renderer-three\n\n# yarn\nyarn add @oroya/core @oroya/renderer-three\n\n# pnpm\npnpm add @oroya/core @oroya/renderer-three\n```\n\n### Available packages\n\n| Package | Description |\n|---|---|\n| `@oroya/core` | Scene graph, nodes, components, serialization, math utilities |\n| `@oroya/renderer-three` | WebGL renderer powered by Three.js |\n| `@oroya/renderer-svg` | SVG renderer for 2D path-based graphics |\n| `@oroya/loader-gltf` | Load glTF models into an Oroya scene |\n\n> **Note:** `@oroya/renderer-three` and `@oroya/loader-gltf` have `three` as a peer dependency. Make sure it is installed in your project: `npm install three`.\n\n---\n\n## Quick Start - Rotating Cube\n\nThis minimal example creates a scene with a camera and a red cube, then renders it with Three.js.\n\n### 1. HTML\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n\u003Chead>\n  \u003Cmeta charset=\"UTF-8\" />\n  \u003Ctitle>Oroya Animate - Quick Start\u003C/title>\n  \u003Cstyle>\n    body { margin: 0; overflow: hidden; }\n    canvas { display: block; }\n  \u003C/style>\n\u003C/head>\n\u003Cbody>\n  \u003Ccanvas id=\"oroya-canvas\">\u003C/canvas>\n  \u003Cscript type=\"module\" src=\"./main.ts\">\u003C/script>\n\u003C/body>\n\u003C/html>\n```\n\n### 2. Scene Setup (`main.ts`)\n\n```typescript\nimport { Scene, Node, createBox, Material, Camera, CameraType } from '@oroya/core';\nimport { ThreeRenderer } from '@oroya/renderer-three';\n\n// --- Scene ---\nconst scene = new Scene();\n\n// --- Camera ---\nconst cameraNode = new Node('main-camera');\ncameraNode.addComponent(new Camera({\n  type: CameraType.Perspective,\n  fov: 75,\n  aspect: window.innerWidth / window.innerHeight,\n  near: 0.1,\n  far: 1000,\n}));\ncameraNode.transform.position.z = 5;\nscene.add(cameraNode);\n\n// --- Cube ---\nconst cubeNode = new Node('my-cube');\ncubeNode.addComponent(createBox(1, 1, 1));\ncubeNode.addComponent(new Material({ color: { r: 1, g: 0.2, b: 0.2 } }));\nscene.add(cubeNode);\n\n// --- Renderer ---\nconst canvas = document.getElementById('oroya-canvas') as HTMLCanvasElement;\nconst renderer = new ThreeRenderer({\n  canvas,\n  width: window.innerWidth,\n  height: window.innerHeight,\n});\nrenderer.mount(scene);\n\n// --- Animation loop ---\nfunction animate(time: number) {\n  time *= 0.001; // convert to seconds\n  requestAnimationFrame(animate);\n\n  const speed = 0.5;\n  cubeNode.transform.rotation.x = Math.sin(time * speed) * 2;\n  cubeNode.transform.rotation.y = Math.cos(time * speed) * 2;\n  cubeNode.transform.updateLocalMatrix();\n\n  renderer.render();\n}\nrequestAnimationFrame(animate);\n```\n\nThat's it - you should see a red cube rotating on screen.\n\n---\n\n## Key Concepts\n\n### Scene\n\nThe `Scene` is the top-level container. It holds a root `Node` and provides utility methods to add/remove nodes, traverse the graph, and update world matrices.\n\n```typescript\nconst scene = new Scene();\nscene.add(someNode);                    // add to root\nscene.add(childNode, parentNode);       // add under a specific parent\nscene.remove(someNode);                 // remove from its parent\nscene.findNodeByName('my-cube');        // search by name\nscene.findNodeById(id);                 // search by unique ID\nscene.traverse((node) => { /* ... */ });\n```\n\n### Nodes\n\nNodes are the building blocks of the scene graph. They form a parent-child hierarchy where children inherit the world transform of their parents.\n\n```typescript\nconst parent = new Node('solar-system');\nconst earth  = new Node('earth');\nconst moon   = new Node('moon');\n\nparent.add(earth);\nearth.add(moon);   // moon inherits earth's transform\n\nscene.add(parent);\n```\n\n### Components\n\nComponents attach data or behavior to nodes. Every node gets a `Transform` component by default.\n\n| Component | Description |\n|---|---|\n| **Transform** | Position (`Vec3`), rotation (`Quat`), and scale (`Vec3`). Call `updateLocalMatrix()` after mutating values. |\n| **Geometry** | Defines the shape of a node. Created via factory functions. |\n| **Material** | Defines appearance - color, opacity, fill/stroke (for SVG). |\n| **Camera** | Defines a viewpoint - Perspective (Orthographic planned). |\n\n```typescript\n// Adding components\nnode.addComponent(createBox(2, 2, 2));\nnode.addComponent(new Material({ color: { r: 0, g: 1, b: 0 }, opacity: 0.8 }));\n\n// Querying components\nnode.hasComponent(ComponentType.Geometry); // true\nconst geo = node.getComponent\u003CGeometry>(ComponentType.Geometry);\n```\n\n---\n\n## Geometry Primitives\n\nOroya provides factory functions for creating geometry components:\n\n### Box\n\n```typescript\nimport { createBox } from '@oroya/core';\n\nconst box = createBox(2, 1, 3); // width, height, depth\nnode.addComponent(box);\n```\n\n### Sphere\n\n```typescript\nimport { createSphere } from '@oroya/core';\n\nconst sphere = createSphere(0.5, 32, 32); // radius, widthSegments, heightSegments\nnode.addComponent(sphere);\n```\n\n### Path2D (for SVG rendering)\n\n```typescript\nimport { createPath2D } from '@oroya/core';\n\nconst triangle = createPath2D([\n  { command: 'moveTo', args: [50, 0] },\n  { command: 'lineTo', args: [100, 100] },\n  { command: 'lineTo', args: [0, 100] },\n  { command: 'closePath', args: [] },\n]);\nnode.addComponent(triangle);\n```\n\n---\n\n## Materials\n\nThe `Material` component controls the visual appearance of a node. Its properties adapt to the chosen renderer.\n\n```typescript\nimport { Material } from '@oroya/core';\n\n// For 3D (Three.js renderer)\nnode.addComponent(new Material({\n  color: { r: 0.2, g: 0.5, b: 1.0 },\n  opacity: 0.9,\n}));\n\n// For 2D (SVG renderer)\nnode.addComponent(new Material({\n  fill: { r: 1, g: 0.8, b: 0 },\n  stroke: { r: 0, g: 0, b: 0 },\n  strokeWidth: 2,\n}));\n```\n\nColors use the `ColorRGB` format where each channel ranges from `0` to `1`.\n\n---\n\n## Camera\n\nA camera defines the viewpoint from which the scene is rendered. Attach it to a node and position it using the node's transform.\n\n```typescript\nimport { Camera, CameraType } from '@oroya/core';\n\nconst cameraNode = new Node('camera');\ncameraNode.addComponent(new Camera({\n  type: CameraType.Perspective,\n  fov: 60,\n  aspect: 16 / 9,\n  near: 0.1,\n  far: 500,\n}));\n\n// Position and orientation\ncameraNode.transform.position = { x: 0, y: 3, z: 10 };\ncameraNode.transform.updateLocalMatrix();\n\nscene.add(cameraNode);\n```\n\nThe `ThreeRenderer` uses the first camera it finds in the scene. If none is present, it creates a default perspective camera at `z = 5`.\n\n---\n\n## Renderers\n\n### Three.js (WebGL)\n\nUse `@oroya/renderer-three` for interactive, high-performance 3D scenes.\n\n```typescript\nimport { ThreeRenderer } from '@oroya/renderer-three';\n\nconst renderer = new ThreeRenderer({\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\n  width: 800,\n  height: 600,\n  dpr: window.devicePixelRatio, // optional - defaults to devicePixelRatio\n});\n\nrenderer.mount(scene);\n\nfunction loop() {\n  renderer.render();\n  requestAnimationFrame(loop);\n}\nrequestAnimationFrame(loop);\n\n// Clean up when done\nrenderer.dispose();\n```\n\nThe renderer automatically adds ambient and directional lights to the Three.js scene so geometry is visible out of the box.\n\n### SVG\n\nUse `@oroya/renderer-svg` for scalable 2D vector output - ideal for documentation, icons, or static illustrations.\n\n```typescript\nimport { renderToSVG } from '@oroya/renderer-svg';\n\nconst svgString = renderToSVG(scene, {\n  width: 200,\n  height: 200,\n  viewBox: '0 0 200 200', // optional\n});\n\ndocument.getElementById('svg-container')!.innerHTML = svgString;\n```\n\n> SVG rendering only supports `Path2D` geometries. Use `createPath2D()` to define shapes.\n\n---\n\n## Scene Hierarchy Example\n\nTransforms propagate through the tree. A child's world matrix is the product of its parent's world matrix and its own local matrix.\n\n```typescript\nconst solarSystem = new Node('solar-system');\n\n// Sun at the origin\nconst sun = new Node('sun');\nsun.addComponent(createSphere(2, 32, 32));\nsun.addComponent(new Material({ color: { r: 1, g: 0.9, b: 0.2 } }));\nsolarSystem.add(sun);\n\n// Earth orbits the sun\nconst earth = new Node('earth');\nearth.addComponent(createSphere(0.5, 32, 32));\nearth.addComponent(new Material({ color: { r: 0.2, g: 0.5, b: 1.0 } }));\nearth.transform.position.x = 5;\nsolarSystem.add(earth);\n\n// Moon orbits the earth\nconst moon = new Node('moon');\nmoon.addComponent(createSphere(0.15, 16, 16));\nmoon.addComponent(new Material({ color: { r: 0.8, g: 0.8, b: 0.8 } }));\nmoon.transform.position.x = 1;\nearth.add(moon);\n\nscene.add(solarSystem);\n\n// In the animation loop, rotate the system\nfunction animate(time: number) {\n  time *= 0.001;\n  requestAnimationFrame(animate);\n\n  solarSystem.transform.rotation.y = time * 0.1;\n  solarSystem.transform.updateLocalMatrix();\n\n  earth.transform.rotation.y = time * 0.5;\n  earth.transform.updateLocalMatrix();\n\n  renderer.render();\n}\nrequestAnimationFrame(animate);\n```\n\n---\n\n## Loading glTF Models\n\nThe `@oroya/loader-gltf` package lets you load standard glTF/GLB files and convert them into Oroya scene nodes.\n\n```bash\nnpm install @oroya/loader-gltf three\n```\n\n```typescript\nimport { loadGLTF } from '@oroya/loader-gltf';\nimport { ThreeRenderer } from '@oroya/renderer-three';\n\nconst gltfScene = await loadGLTF('/models/robot.glb');\n\nconst renderer = new ThreeRenderer({\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\n  width: 800,\n  height: 600,\n});\nrenderer.mount(gltfScene);\n\nfunction loop() {\n  renderer.render();\n  requestAnimationFrame(loop);\n}\nrequestAnimationFrame(loop);\n```\n\n---\n\n## Serialization\n\nOroya scenes can be serialized to JSON and deserialized back, making it easy to save/load scenes or transmit them over the network.\n\n```typescript\nimport { serialize, deserialize } from '@oroya/core';\n\n// Save scene to JSON\nconst json = serialize(scene);\nlocalStorage.setItem('my-scene', json);\n\n// Load scene from JSON\nconst restored = deserialize(localStorage.getItem('my-scene')!);\nrenderer.mount(restored);\n```\n\n---\n\n## React Integration\n\nWrap Oroya in a React component to integrate it into your UI:\n\n```tsx\nimport { useEffect, useRef } from 'react';\nimport { Scene, Node, createBox, Material, Camera, CameraType } from '@oroya/core';\nimport { ThreeRenderer } from '@oroya/renderer-three';\n\nfunction OroyaCanvas({ scene }: { scene: Scene }) {\n  const canvasRef = useRef\u003CHTMLCanvasElement>(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const renderer = new ThreeRenderer({\n      canvas,\n      width: canvas.clientWidth,\n      height: canvas.clientHeight,\n    });\n    renderer.mount(scene);\n\n    let frameId: number;\n    const animate = (time: number) => {\n      time *= 0.001;\n      renderer.render();\n      frameId = requestAnimationFrame(animate);\n    };\n    frameId = requestAnimationFrame(animate);\n\n    return () => {\n      cancelAnimationFrame(frameId);\n      renderer.dispose();\n    };\n  }, [scene]);\n\n  return \u003Ccanvas ref={canvasRef} style={{ width: '100%', height: '100%' }} />;\n}\n\n// Usage\nfunction App() {\n  const scene = new Scene();\n\n  const cam = new Node('cam');\n  cam.addComponent(new Camera({\n    type: CameraType.Perspective, fov: 75,\n    aspect: 16 / 9, near: 0.1, far: 1000,\n  }));\n  cam.transform.position.z = 5;\n  scene.add(cam);\n\n  const cube = new Node('cube');\n  cube.addComponent(createBox(1, 1, 1));\n  cube.addComponent(new Material({ color: { r: 0.1, g: 0.6, b: 0.9 } }));\n  scene.add(cube);\n\n  return \u003COroyaCanvas scene={scene} />;\n}\n```\n\n---\n\n## Transform in Depth\n\nEvery `Node` has a `Transform` component with three properties:\n\n| Property | Type | Default | Description |\n|---|---|---|---|\n| `position` | `Vec3 { x, y, z }` | `{ 0, 0, 0 }` | Translation in 3D space |\n| `rotation` | `Quat { x, y, z, w }` | `{ 0, 0, 0, 1 }` | Rotation as a quaternion |\n| `scale` | `Vec3 { x, y, z }` | `{ 1, 1, 1 }` | Scale factors |\n\n**Important:** After modifying any transform property, call `updateLocalMatrix()` to recompute the local matrix. The renderer calls `scene.updateWorldMatrices()` each frame to propagate transforms down the hierarchy.\n\n```typescript\nconst node = new Node('box');\nnode.transform.position = { x: 2, y: 0, z: -3 };\nnode.transform.scale = { x: 2, y: 2, z: 2 };\nnode.transform.updateLocalMatrix();\n```\n\n---\n\n## Traversal and Search\n\nOroya provides multiple ways to navigate the scene graph:\n\n```typescript\n// Traverse all nodes depth-first\nscene.traverse((node) => {\n  console.log(node.name, node.id);\n});\n\n// Find a specific node\nconst cam = scene.findNodeByName('main-camera');\nconst node = scene.findNodeById('some-uuid');\n\n// Access the hierarchy\nconst parent = node.parent;           // Node | null\nconst children = node.children;       // Node[]\n```\n\n---\n\n## Next Steps\n\n- **[Architecture](architecture.md)** - Understand the design philosophy and module boundaries.\n- **[Renderers](renderers.md)** - Deep-dive into renderer implementations.\n- **[Scene Graph](scene-graph.md)** - Learn how the node hierarchy and transforms work.\n- **[Serialization](serialization.md)** - Full details on the JSON format.\n- **[API Reference](api-reference.md)** - Complete API documentation.\n- **[Contributing](contributing.md)** - How to contribute to Oroya Animate.","src/content/docs/getting-started.md","c1fb7b56cf3a4a3d",{"html":180,"metadata":181},"\u003Ch1 id=\"getting-started-with-oroya-animate\">Getting Started with Oroya Animate\u003C/h1>\n\u003Cp>Welcome! This guide will help you get your first 3D scene up and running using \u003Cstrong>Oroya Animate\u003C/strong>, a renderer-agnostic scene graph engine for the web.\u003C/p>\n\u003Cp>Oroya Animate separates your scene definition from the rendering backend. You describe your world once using \u003Ccode>@oroya/core\u003C/code> and then choose how to render it - WebGL via Three.js, SVG for static graphics, or any future backend.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"installation\">Installation\u003C/h2>\n\u003Cp>Install the packages you need from npm using your preferred package manager:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># npm\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">npm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> install\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @oroya/core\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @oroya/renderer-three\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># yarn\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">yarn\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> add\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @oroya/core\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @oroya/renderer-three\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># pnpm\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> add\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @oroya/core\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @oroya/renderer-three\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"available-packages\">Available packages\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Package\u003C/th>\u003Cth>Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003Ctd>Scene graph, nodes, components, serialization, math utilities\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>@oroya/renderer-three\u003C/code>\u003C/td>\u003Ctd>WebGL renderer powered by Three.js\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>@oroya/renderer-svg\u003C/code>\u003C/td>\u003Ctd>SVG renderer for 2D path-based graphics\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>@oroya/loader-gltf\u003C/code>\u003C/td>\u003Ctd>Load glTF models into an Oroya scene\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Note:\u003C/strong> \u003Ccode>@oroya/renderer-three\u003C/code> and \u003Ccode>@oroya/loader-gltf\u003C/code> have \u003Ccode>three\u003C/code> as a peer dependency. Make sure it is installed in your project: \u003Ccode>npm install three\u003C/code>.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"quick-start---rotating-cube\">Quick Start - Rotating Cube\u003C/h2>\n\u003Cp>This minimal example creates a scene with a camera and a red cube, then renders it with Three.js.\u003C/p>\n\u003Ch3 id=\"1-html\">1. HTML\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;!\u003C/span>\u003Cspan style=\"color:#85E89D\">DOCTYPE\u003C/span>\u003Cspan style=\"color:#B392F0\"> html\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">html\u003C/span>\u003Cspan style=\"color:#B392F0\"> lang\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"en\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">head\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">meta\u003C/span>\u003Cspan style=\"color:#B392F0\"> charset\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"UTF-8\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">title\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>Oroya Animate - Quick Start&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">title\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">style\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#85E89D\">    body\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#79B8FF\">margin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#79B8FF\">overflow\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">hidden\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#85E89D\">    canvas\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#79B8FF\">display\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">block\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">style\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">head\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">body\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">canvas\u003C/span>\u003Cspan style=\"color:#B392F0\"> id\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"oroya-canvas\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">canvas\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">script\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"module\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> src\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"./main.ts\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">script\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">body\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">html\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"2-scene-setup-maints\">2. Scene Setup (\u003Ccode>main.ts\u003C/code>)\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene, Node, createBox, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-three'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// --- Scene ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// --- Camera ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cameraNode\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'main-camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cameraNode.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Perspective,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fov: \u003C/span>\u003Cspan style=\"color:#79B8FF\">75\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  aspect: window.innerWidth \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1000\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cameraNode.transform.position.z \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cameraNode);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// --- Cube ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cubeNode\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'my-cube'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cubeNode.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cubeNode.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cubeNode);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// --- Renderer ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> canvas\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'oroya-canvas'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  canvas,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: window.innerWidth,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// --- Animation loop ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">time\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  time \u003C/span>\u003Cspan style=\"color:#F97583\">*=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.001\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#6A737D\">// convert to seconds\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> speed\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cubeNode.transform.rotation.x \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> speed) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cubeNode.transform.rotation.y \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">cos\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> speed) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cubeNode.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animate);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>That‚Äôs it - you should see a red cube rotating on screen.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"key-concepts\">Key Concepts\u003C/h2>\n\u003Ch3 id=\"scene\">Scene\u003C/h3>\n\u003Cp>The \u003Ccode>Scene\u003C/code> is the top-level container. It holds a root \u003Ccode>Node\u003C/code> and provides utility methods to add/remove nodes, traverse the graph, and update world matrices.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(someNode);                    \u003C/span>\u003Cspan style=\"color:#6A737D\">// add to root\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(childNode, parentNode);       \u003C/span>\u003Cspan style=\"color:#6A737D\">// add under a specific parent\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">remove\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(someNode);                 \u003C/span>\u003Cspan style=\"color:#6A737D\">// remove from its parent\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">findNodeByName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'my-cube'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);        \u003C/span>\u003Cspan style=\"color:#6A737D\">// search by name\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">findNodeById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(id);                 \u003C/span>\u003Cspan style=\"color:#6A737D\">// search by unique ID\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">traverse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">((\u003C/span>\u003Cspan style=\"color:#FFAB70\">node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#6A737D\">/* ... */\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> });\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"nodes\">Nodes\u003C/h3>\n\u003Cp>Nodes are the building blocks of the scene graph. They form a parent-child hierarchy where children inherit the world transform of their parents.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> parent\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'solar-system'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> earth\u003C/span>\u003Cspan style=\"color:#F97583\">  =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'earth'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> moon\u003C/span>\u003Cspan style=\"color:#F97583\">   =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'moon'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">parent.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(earth);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">earth.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(moon);   \u003C/span>\u003Cspan style=\"color:#6A737D\">// moon inherits earth's transform\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(parent);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"components\">Components\u003C/h3>\n\u003Cp>Components attach data or behavior to nodes. Every node gets a \u003Ccode>Transform\u003C/code> component by default.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Component\u003C/th>\u003Cth>Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>Transform\u003C/strong>\u003C/td>\u003Ctd>Position (\u003Ccode>Vec3\u003C/code>), rotation (\u003Ccode>Quat\u003C/code>), and scale (\u003Ccode>Vec3\u003C/code>). Call \u003Ccode>updateLocalMatrix()\u003C/code> after mutating values.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Geometry\u003C/strong>\u003C/td>\u003Ctd>Defines the shape of a node. Created via factory functions.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Material\u003C/strong>\u003C/td>\u003Ctd>Defines appearance - color, opacity, fill/stroke (for SVG).\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Camera\u003C/strong>\u003C/td>\u003Ctd>Defines a viewpoint - Perspective (Orthographic planned).\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Adding components\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, opacity: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Querying components\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.\u003C/span>\u003Cspan style=\"color:#B392F0\">hasComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(ComponentType.Geometry); \u003C/span>\u003Cspan style=\"color:#6A737D\">// true\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> geo\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> node.\u003C/span>\u003Cspan style=\"color:#B392F0\">getComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">Geometry\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(ComponentType.Geometry);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"geometry-primitives\">Geometry Primitives\u003C/h2>\n\u003Cp>Oroya provides factory functions for creating geometry components:\u003C/p>\n\u003Ch3 id=\"box\">Box\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { createBox } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> box\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">); \u003C/span>\u003Cspan style=\"color:#6A737D\">// width, height, depth\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(box);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"sphere\">Sphere\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { createSphere } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> sphere\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">); \u003C/span>\u003Cspan style=\"color:#6A737D\">// radius, widthSegments, heightSegments\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(sphere);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"path2d-for-svg-rendering\">Path2D (for SVG rendering)\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { createPath2D } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> triangle\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> createPath2D\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'moveTo'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'lineTo'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'lineTo'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'closePath'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(triangle);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"materials\">Materials\u003C/h2>\n\u003Cp>The \u003Ccode>Material\u003C/code> component controls the visual appearance of a node. Its properties adapt to the chosen renderer.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Material } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// For 3D (Three.js renderer)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  opacity: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// For 2D (SVG renderer)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Colors use the \u003Ccode>ColorRGB\u003C/code> format where each channel ranges from \u003Ccode>0\u003C/code> to \u003Ccode>1\u003C/code>.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"camera\">Camera\u003C/h2>\n\u003Cp>A camera defines the viewpoint from which the scene is rendered. Attach it to a node and position it using the node‚Äôs transform.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cameraNode\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cameraNode.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Perspective,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fov: \u003C/span>\u003Cspan style=\"color:#79B8FF\">60\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  aspect: \u003C/span>\u003Cspan style=\"color:#79B8FF\">16\u003C/span>\u003Cspan style=\"color:#F97583\"> /\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">500\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Position and orientation\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cameraNode.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">10\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cameraNode.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cameraNode);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>The \u003Ccode>ThreeRenderer\u003C/code> uses the first camera it finds in the scene. If none is present, it creates a default perspective camera at \u003Ccode>z = 5\u003C/code>.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"renderers\">Renderers\u003C/h2>\n\u003Ch3 id=\"threejs-webgl\">Three.js (WebGL)\u003C/h3>\n\u003Cp>Use \u003Ccode>@oroya/renderer-three\u003C/code> for interactive, high-performance 3D scenes.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-three'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  canvas: document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'canvas'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">800\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  dpr: window.devicePixelRatio, \u003C/span>\u003Cspan style=\"color:#6A737D\">// optional - defaults to devicePixelRatio\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> loop\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(loop);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(loop);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Clean up when done\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">dispose\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>The renderer automatically adds ambient and directional lights to the Three.js scene so geometry is visible out of the box.\u003C/p>\n\u003Ch3 id=\"svg\">SVG\u003C/h3>\n\u003Cp>Use \u003Ccode>@oroya/renderer-svg\u003C/code> for scalable 2D vector output - ideal for documentation, icons, or static illustrations.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-svg'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> svgString\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  viewBox: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'0 0 200 200'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// optional\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'svg-container'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.innerHTML \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> svgString;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>SVG rendering only supports \u003Ccode>Path2D\u003C/code> geometries. Use \u003Ccode>createPath2D()\u003C/code> to define shapes.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"scene-hierarchy-example\">Scene Hierarchy Example\u003C/h2>\n\u003Cp>Transforms propagate through the tree. A child‚Äôs world matrix is the product of its parent‚Äôs world matrix and its own local matrix.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> solarSystem\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'solar-system'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Sun at the origin\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> sun\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'sun'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sun.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sun.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">solarSystem.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(sun);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Earth orbits the sun\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> earth\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'earth'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">earth.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">earth.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">earth.transform.position.x \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">solarSystem.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(earth);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Moon orbits the earth\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> moon\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'moon'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">moon.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0.15\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">16\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">16\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">moon.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">moon.transform.position.x \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">earth.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(moon);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(solarSystem);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// In the animation loop, rotate the system\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">time\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  time \u003C/span>\u003Cspan style=\"color:#F97583\">*=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.001\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  solarSystem.transform.rotation.y \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> time \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  solarSystem.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  earth.transform.rotation.y \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> time \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  earth.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animate);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"loading-gltf-models\">Loading glTF Models\u003C/h2>\n\u003Cp>The \u003Ccode>@oroya/loader-gltf\u003C/code> package lets you load standard glTF/GLB files and convert them into Oroya scene nodes.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">npm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> install\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @oroya/loader-gltf\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> three\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { loadGLTF } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/loader-gltf'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-three'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> gltfScene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> await\u003C/span>\u003Cspan style=\"color:#B392F0\"> loadGLTF\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'/models/robot.glb'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  canvas: document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'canvas'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">800\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(gltfScene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> loop\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(loop);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(loop);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"serialization\">Serialization\u003C/h2>\n\u003Cp>Oroya scenes can be serialized to JSON and deserialized back, making it easy to save/load scenes or transmit them over the network.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { serialize, deserialize } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Save scene to JSON\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> json\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> serialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">localStorage.\u003C/span>\u003Cspan style=\"color:#B392F0\">setItem\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'my-scene'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, json);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Load scene from JSON\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> restored\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> deserialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(localStorage.\u003C/span>\u003Cspan style=\"color:#B392F0\">getItem\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'my-scene'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(restored);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"react-integration\">React Integration\u003C/h2>\n\u003Cp>Wrap Oroya in a React component to integrate it into your UI:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"tsx\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { useEffect, useRef } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'react'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene, Node, createBox, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-three'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> OroyaCanvas\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ \u003C/span>\u003Cspan style=\"color:#FFAB70\">scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">scene\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> canvasRef\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> useRef\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003Cspan style=\"color:#79B8FF\">null\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  useEffect\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(() \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> canvas\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> canvasRef.current;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#E1E4E8\">canvas) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      canvas,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      width: canvas.clientWidth,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      height: canvas.clientHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> frameId\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#B392F0\"> animate\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">time\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      time \u003C/span>\u003Cspan style=\"color:#F97583\">*=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.001\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      frameId \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    frameId \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> () \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">      cancelAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(frameId);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">dispose\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }, [scene]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">canvas\u003C/span>\u003Cspan style=\"color:#B392F0\"> ref\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\">{canvasRef} \u003C/span>\u003Cspan style=\"color:#B392F0\">style\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\">{{ width: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'100%'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, height: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'100%'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }} />;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Usage\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> App\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'cam'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: CameraType.Perspective, fov: \u003C/span>\u003Cspan style=\"color:#79B8FF\">75\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    aspect: \u003C/span>\u003Cspan style=\"color:#79B8FF\">16\u003C/span>\u003Cspan style=\"color:#F97583\"> /\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1000\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cam.transform.position.z \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cube\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'cube'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cube.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cube.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cube);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> &#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">OroyaCanvas\u003C/span>\u003Cspan style=\"color:#B392F0\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\">{scene} />;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"transform-in-depth\">Transform in Depth\u003C/h2>\n\u003Cp>Every \u003Ccode>Node\u003C/code> has a \u003Ccode>Transform\u003C/code> component with three properties:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Property\u003C/th>\u003Cth>Type\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>position\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Vec3 { x, y, z }\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{ 0, 0, 0 }\u003C/code>\u003C/td>\u003Ctd>Translation in 3D space\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>rotation\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Quat { x, y, z, w }\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{ 0, 0, 0, 1 }\u003C/code>\u003C/td>\u003Ctd>Rotation as a quaternion\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>scale\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Vec3 { x, y, z }\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{ 1, 1, 1 }\u003C/code>\u003C/td>\u003Ctd>Scale factors\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>\u003Cstrong>Important:\u003C/strong> After modifying any transform property, call \u003Ccode>updateLocalMatrix()\u003C/code> to recompute the local matrix. The renderer calls \u003Ccode>scene.updateWorldMatrices()\u003C/code> each frame to propagate transforms down the hierarchy.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> node\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'box'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.transform.scale \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"traversal-and-search\">Traversal and Search\u003C/h2>\n\u003Cp>Oroya provides multiple ways to navigate the scene graph:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Traverse all nodes depth-first\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">traverse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">((\u003C/span>\u003Cspan style=\"color:#FFAB70\">node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(node.name, node.id);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Find a specific node\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">findNodeByName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'main-camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> node\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">findNodeById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'some-uuid'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Access the hierarchy\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> parent\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> node.parent;           \u003C/span>\u003Cspan style=\"color:#6A737D\">// Node | null\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> children\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> node.children;       \u003C/span>\u003Cspan style=\"color:#6A737D\">// Node[]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"next-steps\">Next Steps\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Cstrong>\u003Ca href=\"architecture.md\">Architecture\u003C/a>\u003C/strong> - Understand the design philosophy and module boundaries.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ca href=\"renderers.md\">Renderers\u003C/a>\u003C/strong> - Deep-dive into renderer implementations.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ca href=\"scene-graph.md\">Scene Graph\u003C/a>\u003C/strong> - Learn how the node hierarchy and transforms work.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ca href=\"serialization.md\">Serialization\u003C/a>\u003C/strong> - Full details on the JSON format.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ca href=\"api-reference.md\">API Reference\u003C/a>\u003C/strong> - Complete API documentation.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ca href=\"contributing.md\">Contributing\u003C/a>\u003C/strong> - How to contribute to Oroya Animate.\u003C/li>\n\u003C/ul>",{"headings":182,"localImagePaths":261,"remoteImagePaths":262,"frontmatter":263,"imagePaths":264},[183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258],{"depth":26,"slug":184,"text":185},"getting-started-with-oroya-animate","Getting Started with Oroya Animate",{"depth":16,"slug":187,"text":188},"installation","Installation",{"depth":36,"slug":190,"text":191},"available-packages","Available packages",{"depth":16,"slug":193,"text":194},"quick-start---rotating-cube","Quick Start - Rotating Cube",{"depth":36,"slug":196,"text":197},"1-html","1. HTML",{"depth":36,"slug":199,"text":200},"2-scene-setup-maints","2. Scene Setup (main.ts)",{"depth":16,"slug":202,"text":203},"key-concepts","Key Concepts",{"depth":36,"slug":205,"text":206},"scene","Scene",{"depth":36,"slug":208,"text":209},"nodes","Nodes",{"depth":36,"slug":211,"text":212},"components","Components",{"depth":16,"slug":214,"text":215},"geometry-primitives","Geometry Primitives",{"depth":36,"slug":217,"text":218},"box","Box",{"depth":36,"slug":220,"text":221},"sphere","Sphere",{"depth":36,"slug":223,"text":224},"path2d-for-svg-rendering","Path2D (for SVG rendering)",{"depth":16,"slug":226,"text":227},"materials","Materials",{"depth":16,"slug":229,"text":230},"camera","Camera",{"depth":16,"slug":232,"text":233},"renderers","Renderers",{"depth":36,"slug":235,"text":236},"threejs-webgl","Three.js (WebGL)",{"depth":36,"slug":238,"text":239},"svg","SVG",{"depth":16,"slug":241,"text":242},"scene-hierarchy-example","Scene Hierarchy Example",{"depth":16,"slug":244,"text":245},"loading-gltf-models","Loading glTF Models",{"depth":16,"slug":247,"text":248},"serialization","Serialization",{"depth":16,"slug":250,"text":251},"react-integration","React Integration",{"depth":16,"slug":253,"text":254},"transform-in-depth","Transform in Depth",{"depth":16,"slug":256,"text":257},"traversal-and-search","Traversal and Search",{"depth":16,"slug":259,"text":260},"next-steps","Next Steps",[],[],{"title":173,"description":174,"order":26,"category":175},[],"api-reference",{"id":265,"data":267,"body":272,"filePath":273,"digest":274,"rendered":275},{"title":268,"description":269,"order":270,"category":271},"API Reference","Complete API documentation for all Oroya Animate packages",6,"reference","# API Reference\r\n\r\nComplete reference for all packages in the Oroya Animate ecosystem.\r\n\r\n---\r\n\r\n## Tabla de contenidos\r\n\r\n- [Visi√≥n general de la arquitectura](#visi√≥n-general-de-la-arquitectura)\r\n- [`@oroya/core`](#oroyacore)\r\n  - [Scene](#scene)\r\n  - [Node](#node)\r\n  - [Component (base)](#component-base-abstracta)\r\n  - [Transform](#transform-componente)\r\n  - [Geometry](#geometry-componente)\r\n  - [Material](#material-componente)\r\n  - [Camera](#camera-componente)\r\n  - [Interactive](#interactive-componente)\r\n  - [EventEmitter](#eventemitter)\r\n  - [InteractionEvent](#interactionevent)\r\n  - [Factory Functions](#factory-functions)\r\n  - [Serialization](#serializaci√≥n)\r\n  - [Math ‚Äî Matrix4](#math--matrix4)\r\n  - [Math ‚Äî BoundingBox](#math--boundingbox)\r\n- [`@oroya/renderer-three`](#oroyarenderer-three)\r\n  - [ThreeRenderer](#threerenderer)\r\n- [`@oroya/renderer-svg`](#oroyarenderer-svg)\r\n  - [renderToSVG](#rendertosvg)\r\n  - [renderToSVGElement](#rendertosvgelement)\r\n- [`@oroya/loader-gltf`](#oroyaloader-gltf)\r\n  - [loadGLTF](#loadgltf)\r\n- [Mapa completo de tipos](#mapa-completo-de-tipos)\r\n\r\n---\r\n\r\n## Visi√≥n general de la arquitectura\r\n\r\n```mermaid\r\ngraph TD\r\n    subgraph \"@oroya/core\"\r\n        Scene --> Node\r\n        Node --> Transform\r\n        Node --> Geometry\r\n        Node --> Material\r\n        Node --> Camera\r\n        Node -->|\"children[]\"| Node\r\n        \r\n        Geometry -.->|\"uses\"| GeometryDef[\"GeometryDef (union)\"]\r\n        Material -.->|\"uses\"| MaterialDef\r\n        Camera -.->|\"uses\"| CameraDef[\"CameraDef (union)\"]\r\n        Transform -.->|\"uses\"| Matrix4\r\n    end\r\n\r\n    subgraph \"@oroya/renderer-three\"\r\n        ThreeRenderer -->|\"reads\"| Scene\r\n        ThreeRenderer -->|\"produces\"| WebGL[\"WebGL Canvas\"]\r\n    end\r\n\r\n    subgraph \"@oroya/renderer-svg\"\r\n        renderToSVG -->|\"reads\"| Scene\r\n        renderToSVG -->|\"produces\"| SVGStr[\"SVG String\"]\r\n    end\r\n\r\n    subgraph \"@oroya/loader-gltf\"\r\n        loadGLTF -->|\"produces\"| Scene\r\n    end\r\n```\r\n\r\n### Flujo de datos\r\n\r\n```mermaid\r\nsequenceDiagram\r\n    participant User as User Code\r\n    participant Scene as Scene Graph\r\n    participant Node as Node + Components\r\n    participant Renderer as Renderer\r\n\r\n    User->>Scene: new Scene()\r\n    User->>Node: new Node('box')\r\n    User->>Node: addComponent(createBox(...))\r\n    User->>Node: addComponent(new Material(...))\r\n    User->>Scene: scene.add(node)\r\n    User->>Renderer: renderer.mount(scene)\r\n    \r\n    loop Animation Frame\r\n        User->>Node: transform.rotation = {...}\r\n        User->>Node: transform.updateLocalMatrix()\r\n        User->>Renderer: renderer.render()\r\n        Renderer->>Scene: scene.updateWorldMatrices()\r\n        Scene->>Node: node.updateWorldMatrix(parentMatrix)\r\n        Renderer->>Renderer: Draw frame\r\n    end\r\n```\r\n\r\n---\r\n\r\n## `@oroya/core`\r\n\r\n### Exports completos\r\n\r\n```typescript\r\n// Scene\r\nexport { Scene } from './scene/Scene';\r\n\r\n// Nodes\r\nexport { Node } from './nodes/Node';\r\n\r\n// Components\r\nexport { Component, ComponentType } from './components/Component';\r\nexport { Transform } from './components/Transform';\r\nexport type { Vec3, Quat } from './components/Transform';\r\nexport { Geometry, GeometryPrimitive } from './components/Geometry';\r\nexport type { BoxGeometryDef, SphereGeometryDef, Path2DGeometryDef, Path2DCommand, GeometryDef } from './components/Geometry';\r\nexport { Material } from './components/Material';\r\nexport type { ColorRGB, MaterialDef } from './components/Material';\r\nexport { Camera, CameraType } from './components/Camera';\r\nexport type { PerspectiveCameraDef, OrthographicCameraDef, CameraDef } from './components/Camera';\r\nexport { Animation } from './components/Animation';\r\nexport type { SvgAnimateDef, SvgAnimateTransformDef, SvgAnimationDef } from './components/Animation';\r\nexport type {\r\n  SvgFilterDef, SvgFilterEffect, SvgBlurEffect, SvgDropShadowEffect,\r\n  SvgClipPathDef, SvgMaskDef,\r\n} from './components/Material';\r\n\r\n// Primitives\r\nexport { createBox, createSphere, createPath2D } from './geometry/primitives';\r\n\r\n// Serialization\r\nexport { serialize, deserialize } from './serialization/json';\r\n\r\n// Math\r\nexport { Matrix4Identity, composeMatrix, multiplyMatrices } from './math/Matrix4';\r\nexport type { Matrix4 } from './math/Matrix4';\r\n```\r\n\r\n---\r\n\r\n### `Scene`\r\n\r\nEl contenedor de nivel superior del scene graph.\r\n\r\n**Archivo fuente:** [Scene.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/scene/Scene.ts)\r\n\r\n```typescript\r\nimport { Scene } from '@oroya/core';\r\nconst scene = new Scene();\r\n```\r\n\r\n#### Constructor\r\n\r\n| Par√°metro | Tipo | Descripci√≥n |\r\n|-----------|------|-------------|\r\n| *(ninguno)* | ‚Äî | Crea una escena con un nodo ra√≠z llamado `'root'` |\r\n\r\n#### Propiedades\r\n\r\n| Propiedad | Tipo | Acceso | Descripci√≥n |\r\n|-----------|------|--------|-------------|\r\n| `root` | `Node` | `readonly` | El nodo ra√≠z del √°rbol de escena |\r\n\r\n#### M√©todos\r\n\r\n| M√©todo | Firma | Retorno | Descripci√≥n |\r\n|--------|-------|---------|-------------|\r\n| `add` | `add(node: Node, parent?: Node)` | `void` | Agrega un nodo. Si no se especifica `parent`, se agrega como hijo del `root` |\r\n| `remove` | `remove(node: Node)` | `void` | Remueve un nodo de su padre |\r\n| `findNodeById` | `findNodeById(id: string)` | `Node \\| undefined` | Busca recursivamente un nodo por su UUID |\r\n| `findNodeByName` | `findNodeByName(name: string)` | `Node \\| undefined` | Busca recursivamente un nodo por su nombre |\r\n| `traverse` | `traverse(callback: (node: Node) => void)` | `void` | Recorre todos los nodos del √°rbol en profundidad (DFS pre-order) |\r\n| `updateWorldMatrices` | `updateWorldMatrices()` | `void` | Recalcula las matrices del mundo de todos los nodos. Se llama internamente por los renderers |\r\n\r\n#### Ejemplo\r\n\r\n```typescript\r\nconst scene = new Scene();\r\n\r\nconst parent = new Node('group');\r\nconst child = new Node('child');\r\n\r\nscene.add(parent);\r\nscene.add(child, parent); // child es hijo de parent, no del root\r\n\r\nscene.traverse(node => console.log(node.name));\r\n// ‚Üí 'root', 'group', 'child'\r\n\r\nconst found = scene.findNodeByName('child');\r\nconsole.log(found?.parent?.name); // ‚Üí 'group'\r\n```\r\n\r\n---\r\n\r\n### `Node`\r\n\r\nUn elemento del scene graph. Soporta jerarqu√≠a padre-hijo y un sistema de componentes ECS.\r\n\r\n**Archivo fuente:** [Node.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/nodes/Node.ts)\r\n\r\n```mermaid\r\nclassDiagram\r\n    class Node {\r\n        +readonly id: string\r\n        +name: string\r\n        +parent: Node | null\r\n        +readonly children: Node[]\r\n        +readonly components: Map~ComponentType, Component~\r\n        +get transform(): Transform\r\n        +constructor(name: string, id?: string)\r\n        +addComponent(component: Component): void\r\n        +getComponent~T~(type: ComponentType): T | undefined\r\n        +hasComponent(type: ComponentType): boolean\r\n        +add(node: Node): void\r\n        +remove(node: Node): void\r\n        +updateWorldMatrix(parentMatrix?: Matrix4): void\r\n        +traverse(callback: Function): void\r\n        +findNodeById(id: string): Node | undefined\r\n        +findNodeByName(name: string): Node | undefined\r\n    }\r\n```\r\n\r\n#### Constructor\r\n\r\n| Par√°metro | Tipo | Default | Descripci√≥n |\r\n|-----------|------|---------|-------------|\r\n| `name` | `string` | *(requerido)* | Nombre legible del nodo |\r\n| `id` | `string` | `uuidv4()` | Identificador √∫nico. Se auto-genera si no se provee |\r\n\r\n> **Nota:** Cada nodo recibe autom√°ticamente un componente `Transform` al crearse.\r\n\r\n#### Propiedades\r\n\r\n| Propiedad | Tipo | Acceso | Descripci√≥n |\r\n|-----------|------|--------|-------------|\r\n| `id` | `string` | `readonly` | UUID √∫nico generado autom√°ticamente |\r\n| `name` | `string` | read/write | Etiqueta legible para humanos |\r\n| `parent` | `Node \\| null` | read/write | Referencia al nodo padre |\r\n| `children` | `Node[]` | `readonly` | Array de nodos hijos |\r\n| `components` | `Map\u003CComponentType, Component>` | `readonly` | Mapa de componentes. M√°ximo uno por tipo |\r\n| `transform` | `Transform` | getter | Acceso directo al componente Transform |\r\n| `cssClass` | `string \\| undefined` | read/write | Clase(s) CSS que el renderer SVG emite como atributo `class` en el elemento |\r\n| `cssId` | `string \\| undefined` | read/write | ID sem√°ntico que el renderer SVG emite como atributo `id` en el elemento |\r\n\r\n#### M√©todos\r\n\r\n| M√©todo | Firma | Retorno | Descripci√≥n |\r\n|--------|-------|---------|-------------|\r\n| `addComponent` | `addComponent(component: Component)` | `void` | Adjunta un componente. Si ya existe uno del mismo tipo, lo reemplaza. Establece `component.node = this` |\r\n| `getComponent\u003CT>` | `getComponent\u003CT>(type: ComponentType)` | `T \\| undefined` | Obtiene un componente por tipo, casteado al tipo gen√©rico |\r\n| `hasComponent` | `hasComponent(type: ComponentType)` | `boolean` | Verifica si existe un componente de ese tipo |\r\n| `add` | `add(node: Node)` | `void` | Agrega un hijo. Si el nodo ya tiene padre, lo remueve primero (re-parenting) |\r\n| `remove` | `remove(node: Node)` | `void` | Remueve un hijo. Establece `node.parent = null` |\r\n| `updateWorldMatrix` | `updateWorldMatrix(parentMatrix?: Matrix4)` | `void` | Recalcula la world matrix y propaga a los hijos recursivamente |\r\n| `traverse` | `traverse(callback: (node: Node) => void)` | `void` | DFS pre-order sobre este nodo y todos los descendientes |\r\n| `findNodeById` | `findNodeById(id: string)` | `Node \\| undefined` | B√∫squeda recursiva por UUID |\r\n| `findNodeByName` | `findNodeByName(name: string)` | `Node \\| undefined` | B√∫squeda recursiva por nombre. Retorna el primero encontrado |\r\n\r\n#### Ejemplo completo\r\n\r\n```typescript\r\nconst player = new Node('player');\r\nplayer.addComponent(createBox(0.5, 1, 0.5));\r\nplayer.addComponent(new Material({ color: { r: 0.3, g: 0.8, b: 0.5 } }));\r\n\r\n// Composici√≥n jer√°rquica\r\nconst weapon = new Node('weapon');\r\nweapon.addComponent(createBox(0.1, 0.1, 0.8));\r\nweapon.transform.position = { x: 0.3, y: 0.5, z: 0 };\r\nplayer.add(weapon); // weapon es hijo de player\r\n\r\n// Consultar componentes\r\nconst geo = player.getComponent\u003CGeometry>(ComponentType.Geometry);\r\nconsole.log(geo?.definition); // { type: 'Box', width: 0.5, ... }\r\nconsole.log(player.hasComponent(ComponentType.Camera)); // false\r\n\r\n// Re-parenting: mover weapon a otro nodo\r\nconst chest = new Node('chest');\r\nchest.add(weapon); // se remueve autom√°ticamente de player\r\nconsole.log(weapon.parent?.name); // 'chest'\r\n```\r\n\r\n---\r\n\r\n### `Component` (base abstracta)\r\n\r\nClase base para todos los componentes del sistema ECS.\r\n\r\n**Archivo fuente:** [Component.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Component.ts)\r\n\r\n```mermaid\r\nclassDiagram\r\n    class Component {\r\n        \u003C\u003Cabstract>>\r\n        +abstract readonly type: ComponentType\r\n        +node: Node | null\r\n    }\r\n    class Transform {\r\n        +type = ComponentType.Transform\r\n        +position: Vec3\r\n        +rotation: Quat\r\n        +scale: Vec3\r\n        +localMatrix: Matrix4\r\n        +worldMatrix: Matrix4\r\n        +isDirty: boolean\r\n        +updateLocalMatrix(): void\r\n    }\r\n    class Geometry {\r\n        +type = ComponentType.Geometry\r\n        +definition: GeometryDef\r\n    }\r\n    class Material {\r\n        +type = ComponentType.Material\r\n        +definition: MaterialDef\r\n    }\r\n    class Camera {\r\n        +type = ComponentType.Camera\r\n        +definition: CameraDef\r\n    }\r\n    class Animation {\r\n        +type = ComponentType.Animation\r\n        +animations: SvgAnimationDef[]\r\n    }\r\n    Component \u003C|-- Transform\r\n    Component \u003C|-- Geometry\r\n    Component \u003C|-- Material\r\n    Component \u003C|-- Camera\r\n    Component \u003C|-- Animation\r\n```\r\n\r\n#### `ComponentType` (Enum)\r\n\r\n| Valor | String | Usado por |\r\n|-------|--------|-----------|\r\n| `Transform` | `'Transform'` | `Transform` ‚Äî autom√°tico en cada `Node` |\r\n| `Geometry` | `'Geometry'` | `Geometry` ‚Äî define la forma |\r\n| `Material` | `'Material'` | `Material` ‚Äî define la apariencia |\r\n| `Camera` | `'Camera'` | `Camera` ‚Äî define el punto de vista |\r\n| `Interactive` | `'Interactive'` | `Interactive` ‚Äî habilita eventos de interacci√≥n |\r\n| `Animation` | `'Animation'` | `Animation` ‚Äî animaciones SVG nativas |\r\n\r\n> **Regla ECS:** Cada nodo puede tener **m√°ximo un componente** de cada tipo. Agregar un segundo componente del mismo tipo reemplaza al anterior.\r\n\r\n---\r\n\r\n### `Transform` (Componente)\r\n\r\nDefine la posici√≥n, rotaci√≥n y escala de un nodo en espacio 3D. Se crea **autom√°ticamente** con cada `Node`.\r\n\r\n**Archivo fuente:** [Transform.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Transform.ts)\r\n\r\n#### Propiedades\r\n\r\n| Propiedad | Tipo | Default | Descripci√≥n |\r\n|-----------|------|---------|-------------|\r\n| `position` | `Vec3` | `{ x: 0, y: 0, z: 0 }` | Traslaci√≥n en espacio local |\r\n| `rotation` | `Quat` | `{ x: 0, y: 0, z: 0, w: 1 }` | Rotaci√≥n como quaternion (identidad = sin rotaci√≥n) |\r\n| `scale` | `Vec3` | `{ x: 1, y: 1, z: 1 }` | Escala en espacio local |\r\n| `localMatrix` | `Matrix4` | Identidad | Matriz de transformaci√≥n local (calculada) |\r\n| `worldMatrix` | `Matrix4` | Identidad | Matriz de transformaci√≥n en espacio mundo (calculada) |\r\n| `isDirty` | `boolean` | `true` | Indica si la matriz necesita recalcularse |\r\n\r\n#### M√©todos\r\n\r\n| M√©todo | Descripci√≥n |\r\n|--------|-------------|\r\n| `updateLocalMatrix()` | Recalcula `localMatrix` a partir de `position`, `rotation` y `scale`. Marca `isDirty = true` |\r\n\r\n#### Pipeline de transformaci√≥n\r\n\r\n```mermaid\r\ngraph LR\r\n    A[\"position + rotation + scale\"] -->|\"updateLocalMatrix()\"| B[\"localMatrix\"]\r\n    B -->|\"√ó parent.worldMatrix\"| C[\"worldMatrix\"]\r\n    C -->|\"renderer reads\"| D[\"Posici√≥n final en pantalla\"]\r\n```\r\n\r\n#### Gu√≠a r√°pida de quaterniones\r\n\r\nLos quaterniones `{ x, y, z, w }` representan rotaciones 3D sin gimbal lock.\r\n\r\n| Rotaci√≥n deseada | Quaternion |\r\n|-----------------|------------|\r\n| Sin rotaci√≥n | `{ x: 0, y: 0, z: 0, w: 1 }` |\r\n| 90¬∞ en eje Y | `{ x: 0, y: 0.707, z: 0, w: 0.707 }` |\r\n| 180¬∞ en eje Y | `{ x: 0, y: 1, z: 0, w: 0 }` |\r\n| Œ∏ grados en eje Y | `{ x: 0, y: sin(Œ∏/2), z: 0, w: cos(Œ∏/2) }` |\r\n| Œ∏ grados en eje X | `{ x: sin(Œ∏/2), y: 0, z: 0, w: cos(Œ∏/2) }` |\r\n| Œ∏ grados en eje Z | `{ x: 0, y: 0, z: sin(Œ∏/2), w: cos(Œ∏/2) }` |\r\n\r\n> **F√≥rmula:** Para rotar `Œ∏` radianes alrededor del eje unitario `(ax, ay, az)`:\r\n> `{ x: ax * sin(Œ∏/2), y: ay * sin(Œ∏/2), z: az * sin(Œ∏/2), w: cos(Œ∏/2) }`\r\n\r\n---\r\n\r\n### `Geometry` (Componente)\r\n\r\nDefine la forma geom√©trica de un nodo.\r\n\r\n**Archivo fuente:** [Geometry.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Geometry.ts)\r\n\r\n#### Constructor\r\n\r\n```typescript\r\nnew Geometry(definition: GeometryDef)\r\n```\r\n\r\n#### `GeometryPrimitive` (Enum)\r\n\r\n| Valor | String | Descripci√≥n |\r\n|-------|--------|-------------|\r\n| `Box` | `'Box'` | Paralelep√≠pedo (cubo, caja) |\r\n| `Sphere` | `'Sphere'` | Esfera UV |\r\n| `Path2D` | `'Path2D'` | Path vectorial 2D (para SVG) |\r\n| `Text` | `'Text'` | Texto SVG |\r\n\r\n#### `GeometryDef` (Union type)\r\n\r\n```mermaid\r\ngraph TD\r\n    GD[\"GeometryDef\"] -->|\"type = 'Box'\"| Box[\"BoxGeometryDef\"]\r\n    GD -->|\"type = 'Sphere'\"| Sphere[\"SphereGeometryDef\"]\r\n    GD -->|\"type = 'Path2D'\"| Path[\"Path2DGeometryDef\"]\r\n    GD -->|\"type = 'Text'\"| Text[\"TextGeometryDef\"]\r\n```\r\n\r\n#### `BoxGeometryDef`\r\n\r\n| Campo | Tipo | Descripci√≥n |\r\n|-------|------|-------------|\r\n| `type` | `GeometryPrimitive.Box` | Discriminante |\r\n| `width` | `number` | Ancho (eje X) |\r\n| `height` | `number` | Alto (eje Y) |\r\n| `depth` | `number` | Profundidad (eje Z) |\r\n\r\n#### `SphereGeometryDef`\r\n\r\n| Campo | Tipo | Descripci√≥n |\r\n|-------|------|-------------|\r\n| `type` | `GeometryPrimitive.Sphere` | Discriminante |\r\n| `radius` | `number` | Radio de la esfera |\r\n| `widthSegments` | `number` | Segmentos horizontales (meridianos) |\r\n| `heightSegments` | `number` | Segmentos verticales (paralelos) |\r\n\r\n> **Tip:** M√°s segmentos = esfera m√°s suave. Valores comunes: 16 (baja calidad), 32 (est√°ndar), 64 (alta calidad).\r\n\r\n#### `Path2DGeometryDef`\r\n\r\n| Campo | Tipo | Descripci√≥n |\r\n|-------|------|-------------|\r\n| `type` | `GeometryPrimitive.Path2D` | Discriminante |\r\n| `path` | `Path2DCommand[]` | Array de comandos SVG-like |\r\n\r\n#### `Path2DCommand`\r\n\r\n| Campo | Tipo | Descripci√≥n |\r\n|-------|------|-------------|\r\n| `command` | `string` | Comando SVG: `'M'`, `'L'`, `'C'`, `'Q'`, `'Z'`, etc. |\r\n| `args` | `number[]` | Argumentos num√©ricos del comando |\r\n\r\n**Comandos SVG soportados:**\r\n\r\n| Comando | Argumentos | Descripci√≥n |\r\n|---------|-----------|-------------|\r\n| `M` | `[x, y]` | Move to ‚Äî mover sin dibujar |\r\n| `L` | `[x, y]` | Line to ‚Äî l√≠nea recta |\r\n| `C` | `[cx1, cy1, cx2, cy2, x, y]` | Cubic B√©zier |\r\n| `Q` | `[cx, cy, x, y]` | Quadratic B√©zier |\r\n| `A` | `[rx, ry, rotation, largeArc, sweep, x, y]` | Arc |\r\n| `Z` | `[]` | Close path ‚Äî cerrar el camino |\r\n\r\n#### `TextGeometryDef`\r\n\r\n| Campo | Tipo | Default | Descripci√≥n |\r\n|-------|------|---------|-------------|\r\n| `type` | `GeometryPrimitive.Text` | ‚Äî | Discriminante |\r\n| `text` | `string` | ‚Äî | Contenido del texto |\r\n| `fontSize` | `number` | `16` | Tama√±o de fuente (px) |\r\n| `fontFamily` | `string` | `'sans-serif'` | Familia tipogr√°fica |\r\n| `fontWeight` | `string` | `'normal'` | Peso: `'normal'`, `'bold'`, `'100'`‚Äì`'900'` |\r\n| `textAnchor` | `string` | `'start'` | Alineaci√≥n horizontal: `'start'`, `'middle'`, `'end'` |\r\n| `dominantBaseline` | `string` | `'auto'` | Alineaci√≥n vertical: `'auto'`, `'middle'`, `'hanging'` |\r\n\r\n#### Compatibilidad con renderers\r\n\r\n| GeometryDef | Three.js | SVG |\r\n|------------|----------|-----|\r\n| `BoxGeometryDef` | ‚úÖ ‚Üí `THREE.BoxGeometry` | ‚úÖ ‚Üí `\u003Crect>` |\r\n| `SphereGeometryDef` | ‚úÖ ‚Üí `THREE.SphereGeometry` | ‚úÖ ‚Üí `\u003Ccircle>` |\r\n| `Path2DGeometryDef` | ‚ùå ignorado | ‚úÖ ‚Üí `\u003Cpath d=\"...\">` |\r\n| `TextGeometryDef` | ‚ùå ignorado | ‚úÖ ‚Üí `\u003Ctext>` |\r\n\r\n---\r\n\r\n### `Material` (Componente)\r\n\r\nDefine la apariencia visual de un nodo.\r\n\r\n**Archivo fuente:** [Material.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Material.ts)\r\n\r\n#### Constructor\r\n\r\n```typescript\r\nnew Material(definition?: MaterialDef)  // default: {}\r\n```\r\n\r\n#### `ColorRGB`\r\n\r\n| Campo | Tipo | Rango | Descripci√≥n |\r\n|-------|------|-------|-------------|\r\n| `r` | `number` | 0.0 ‚Äì 1.0 | Componente rojo |\r\n| `g` | `number` | 0.0 ‚Äì 1.0 | Componente verde |\r\n| `b` | `number` | 0.0 ‚Äì 1.0 | Componente azul |\r\n\r\n> **Conversi√≥n:** Para convertir de hex `#3399ff` a RGB normalizado: `{ r: 0x33/255, g: 0x99/255, b: 0xff/255 }` ‚Üí `{ r: 0.2, g: 0.6, b: 1.0 }`\r\n\r\n#### `MaterialDef`\r\n\r\n| Campo | Tipo | Default | Usado por | Descripci√≥n |\r\n|-------|------|---------|-----------|-------------|\r\n| `color` | `ColorRGB` | `undefined` | Three.js | Color de la superficie para renderizado 3D |\r\n| `opacity` | `number` | `undefined` | Three.js, SVG | Opacidad: 0 (transparente) a 1 (opaco). Activa transparencia autom√°ticamente si \u003C 1 |\r\n| `fill` | `ColorRGB` | `undefined` | SVG | Color de relleno para paths 2D |\r\n| `stroke` | `ColorRGB` | `undefined` | SVG | Color del trazo para paths 2D |\r\n| `strokeWidth` | `number` | `undefined` | SVG | Ancho del trazo en p√≠xeles |\r\n| `fillGradient` | `GradientDef` | `undefined` | SVG | Gradiente para relleno. Tiene prioridad sobre `fill` |\r\n| `strokeGradient` | `GradientDef` | `undefined` | SVG | Gradiente para trazo. Tiene prioridad sobre `stroke` |\r\n| `filter` | `SvgFilterDef` | `undefined` | SVG | Filtro SVG (blur, drop-shadow). Genera un `\u003Cfilter>` en `\u003Cdefs>` |\r\n| `clipPath` | `SvgClipPathDef` | `undefined` | SVG | Recorte vectorial. Genera un `\u003CclipPath>` en `\u003Cdefs>` |\r\n| `mask` | `SvgMaskDef` | `undefined` | SVG | M√°scara de luminancia. Genera un `\u003Cmask>` en `\u003Cdefs>` |\r\n\r\n#### `GradientDef` (Union type)\r\n\r\n```typescript\r\ntype GradientDef = LinearGradientDef | RadialGradientDef;\r\n```\r\n\r\n#### SVG Filters (`SvgFilterDef`)\r\n\r\nPermite aplicar filtros SVG nativos a un nodo.\r\n\r\n```typescript\r\ninterface SvgFilterDef {\r\n  effects: SvgFilterEffect[];\r\n}\r\n\r\ntype SvgFilterEffect = SvgBlurEffect | SvgDropShadowEffect;\r\n```\r\n\r\n##### `SvgBlurEffect`\r\n\r\n| Campo | Tipo | Descripci√≥n |\r\n|-------|------|-------------|\r\n| `type` | `'blur'` | Discriminante |\r\n| `stdDeviation` | `number` | Radio de desenfoque gaussiano |\r\n\r\n##### `SvgDropShadowEffect`\r\n\r\n| Campo | Tipo | Default | Descripci√≥n |\r\n|-------|------|---------|-------------|\r\n| `type` | `'dropShadow'` | ‚Äî | Discriminante |\r\n| `dx` | `number` | ‚Äî | Desplazamiento horizontal de la sombra |\r\n| `dy` | `number` | ‚Äî | Desplazamiento vertical de la sombra |\r\n| `stdDeviation` | `number` | ‚Äî | Radio de desenfoque de la sombra |\r\n| `floodColor` | `string` | `undefined` | Color de la sombra (e.g., `'black'`, `'#333'`) |\r\n| `floodOpacity` | `number` | `undefined` | Opacidad de la sombra (0‚Äì1) |\r\n\r\n#### `SvgClipPathDef`\r\n\r\nRecorta el nodo a una regi√≥n vectorial definida por un path SVG.\r\n\r\n| Campo | Tipo | Descripci√≥n |\r\n|-------|------|-------------|\r\n| `path` | `Path2DCommand[]` | Comandos del path de recorte |\r\n\r\n#### `SvgMaskDef`\r\n\r\nAplica una m√°scara de luminancia al nodo.\r\n\r\n| Campo | Tipo | Default | Descripci√≥n |\r\n|-------|------|---------|-------------|\r\n| `path` | `Path2DCommand[]` | ‚Äî | Comandos del path de la m√°scara |\r\n| `fill` | `string` | `undefined` | Color de relleno de la m√°scara (e.g., `'white'`) |\r\n| `opacity` | `number` | `undefined` | Opacidad del path de la m√°scara |\r\n\r\n#### Ejemplo: Filtros, clip-path y m√°scara\r\n\r\n```typescript\r\n// Blur\r\nconst blurred = new Material({\r\n  fill: { r: 1, g: 0, b: 0 },\r\n  filter: { effects: [{ type: 'blur', stdDeviation: 3 }] },\r\n});\r\n\r\n// Drop shadow con color personalizado\r\nconst shadowed = new Material({\r\n  fill: { r: 0, g: 0.5, b: 1 },\r\n  filter: {\r\n    effects: [{ type: 'dropShadow', dx: 4, dy: 4, stdDeviation: 2, floodColor: '#333', floodOpacity: 0.6 }],\r\n  },\r\n});\r\n\r\n// Clip path\r\nconst clipped = new Material({\r\n  fill: { r: 0, g: 1, b: 0 },\r\n  clipPath: {\r\n    path: [\r\n      { command: 'M', args: [0, 0] },\r\n      { command: 'L', args: [100, 0] },\r\n      { command: 'L', args: [50, 100] },\r\n      { command: 'Z', args: [] },\r\n    ],\r\n  },\r\n});\r\n```\r\n\r\n#### `LinearGradientDef`\r\n\r\n| Campo | Tipo | Default | Descripci√≥n |\r\n|-------|------|---------|-------------|\r\n| `type` | `'linear'` | ‚Äî | Discriminante |\r\n| `x1` | `number` | `0` | Coordenada X inicio (0‚Äì1) |\r\n| `y1` | `number` | `0` | Coordenada Y inicio (0‚Äì1) |\r\n| `x2` | `number` | `1` | Coordenada X fin (0‚Äì1) |\r\n| `y2` | `number` | `0` | Coordenada Y fin (0‚Äì1) |\r\n| `stops` | `GradientStop[]` | ‚Äî | Paradas de color |\r\n\r\n#### `RadialGradientDef`\r\n\r\n| Campo | Tipo | Default | Descripci√≥n |\r\n|-------|------|---------|-------------|\r\n| `type` | `'radial'` | ‚Äî | Discriminante |\r\n| `cx` | `number` | `0.5` | Centro X (0‚Äì1) |\r\n| `cy` | `number` | `0.5` | Centro Y (0‚Äì1) |\r\n| `r` | `number` | `0.5` | Radio (0‚Äì1) |\r\n| `fx` | `number` | `undefined` | Foco X (0‚Äì1), opcional |\r\n| `fy` | `number` | `undefined` | Foco Y (0‚Äì1), opcional |\r\n| `stops` | `GradientStop[]` | ‚Äî | Paradas de color |\r\n\r\n#### `GradientStop`\r\n\r\n| Campo | Tipo | Descripci√≥n |\r\n|-------|------|-------------|\r\n| `offset` | `number` | Posici√≥n en el gradiente (0‚Äì1) |\r\n| `color` | `ColorRGB` | Color en esta parada |\r\n| `opacity` | `number` | *(opcional)* Opacidad de la parada (0‚Äì1) |\r\n\r\n#### Ejemplo: Material para ambos renderers\r\n\r\n```typescript\r\n// Material que funciona en 3D y SVG\r\nconst material = new Material({\r\n  color: { r: 0.2, g: 0.6, b: 1.0 },    // Three.js lo usa como diffuse color\r\n  fill: { r: 0.2, g: 0.6, b: 1.0 },      // SVG lo usa como fill\r\n  stroke: { r: 0.1, g: 0.3, b: 0.8 },    // SVG lo usa como stroke\r\n  strokeWidth: 2,\r\n  opacity: 0.9,\r\n});\r\n```\r\n\r\n#### C√≥mo lo interpretan los renderers\r\n\r\n```mermaid\r\ngraph LR\r\n    MD[\"MaterialDef\"] --> TH{\"Three.js Renderer\"}\r\n    MD --> SV{\"SVG Renderer\"}\r\n    TH --> M1[\"MeshStandardMaterial\"]\r\n    TH -->|\"color\"| M1\r\n    TH -->|\"opacity + transparent\"| M1\r\n    SV --> M2[\"style attributes\"]\r\n    SV -->|\"fill / fillGradient\"| M2\r\n    SV -->|\"stroke / strokeGradient\"| M2\r\n    SV -->|\"opacity\"| M2\r\n```\r\n\r\n---\r\n\r\n### `Camera` (Componente)\r\n\r\nDefine un punto de vista para renderizar la escena. El `ThreeRenderer` busca autom√°ticamente el primer nodo con `Camera` al montar la escena.\r\n\r\n**Archivo fuente:** [Camera.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Camera.ts)\r\n\r\n#### Constructor\r\n\r\n```typescript\r\nnew Camera(definition: CameraDef)\r\n```\r\n\r\n#### `CameraType` (Enum)\r\n\r\n| Valor | String | Estado |\r\n|-------|--------|--------|\r\n| `Perspective` | `'Perspective'` | ‚úÖ Implementado |\r\n| `Orthographic` | `'Orthographic'` | ‚úÖ Implementado |\r\n\r\n#### `PerspectiveCameraDef`\r\n\r\n| Campo | Tipo | Descripci√≥n | Valor t√≠pico |\r\n|-------|------|-------------|--------------|\r\n| `type` | `CameraType.Perspective` | Discriminante | ‚Äî |\r\n| `fov` | `number` | Campo de visi√≥n en grados | 45 ‚Äì 90 |\r\n| `aspect` | `number` | Relaci√≥n de aspecto (ancho / alto) | `window.innerWidth / window.innerHeight` |\r\n| `near` | `number` | Plano de corte cercano | 0.1 |\r\n| `far` | `number` | Plano de corte lejano | 1000 |\r\n\r\n#### Diagrama de frustum (perspectiva)\r\n\r\n```\r\n              far plane\r\n          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\r\n         /                   \\\r\n        /     Visible         \\\r\n       /      Volume           \\\r\n      /      (frustum)          \\\r\n     /                           \\\r\n    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\r\n     ‚îú‚îÄ‚îÄ near plane ‚îÄ‚îÄ‚î§\r\n              ‚ñ≥\r\n           Camera\r\n          position\r\n```\r\n\r\n#### Ejemplo de uso\r\n\r\n```typescript\r\nconst cam = new Node('main-camera');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 75,\r\n  aspect: 16 / 9,\r\n  near: 0.1,\r\n  far: 1000,\r\n}));\r\ncam.transform.position = { x: 0, y: 5, z: 10 };\r\nscene.add(cam);\r\n```\r\n\r\n#### `OrthographicCameraDef`\r\n\r\n| Campo | Tipo | Descripci√≥n | Valor t√≠pico |\r\n|-------|------|-------------|-------------|\r\n| `type` | `CameraType.Orthographic` | Discriminante | ‚Äî |\r\n| `left` | `number` | Borde izquierdo del frustum | `-400` |\r\n| `right` | `number` | Borde derecho del frustum | `400` |\r\n| `top` | `number` | Borde superior del frustum | `-300` |\r\n| `bottom` | `number` | Borde inferior del frustum | `300` |\r\n| `near` | `number` | Plano de corte cercano | `0.1` |\r\n| `far` | `number` | Plano de corte lejano | `1000` |\r\n\r\n> **SVG:** Cuando una escena tiene un nodo con `OrthographicCameraDef`, el renderer SVG calcula autom√°ticamente el `viewBox` a partir de `left`, `right`, `top` y `bottom`, m√°s el offset de posici√≥n de la c√°mara. Un `viewBox` expl√≠cito en las opciones tiene prioridad.\r\n\r\n#### Ejemplo: C√°mara ortogr√°fica para SVG\r\n\r\n```typescript\r\nconst cam = new Node('ortho-cam');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Orthographic,\r\n  left: -400, right: 400,\r\n  top: -300, bottom: 300,\r\n  near: 0.1, far: 1000,\r\n}));\r\ncam.transform.position = { x: 50, y: 25, z: 0 };\r\nscene.add(cam);\r\n\r\n// viewBox se calcula como \"-350 -275 800 600\" (offset por posici√≥n de c√°mara)\r\nconst svg = renderToSVG(scene, { width: 800, height: 600 });\r\n```\r\n\r\n> **Nota:** Si no se agrega ninguna c√°mara, `ThreeRenderer` crea un fallback en `(0, 0, 5)` con FOV 75.\r\n\r\n---\r\n\r\n### Interactive (componente)\r\n\r\n**Archivo fuente:** [Interactive.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Interactive.ts)\r\n\r\nMarca un nodo como interactivo, permitiendo que responda a eventos de puntero (click, hover, drag, etc.).\r\n\r\n---\r\n\r\n### Animation (componente)\r\n\r\n**Archivo fuente:** [Animation.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Animation.ts)\r\n\r\nPermite agregar animaciones SVG nativas (`\u003Canimate>` y `\u003CanimateTransform>`) a un nodo. Estas animaciones se ejecutan directamente en el navegador sin JavaScript.\r\n\r\n#### Constructor\r\n\r\n```typescript\r\nnew Animation(animations: SvgAnimationDef[])\r\n```\r\n\r\n#### `SvgAnimationDef` (Union type)\r\n\r\n```typescript\r\ntype SvgAnimationDef = SvgAnimateDef | SvgAnimateTransformDef;\r\n```\r\n\r\n#### `SvgAnimateDef`\r\n\r\nGenera un elemento `\u003Canimate>` que anima un atributo escalar.\r\n\r\n| Campo | Tipo | Default | Descripci√≥n |\r\n|-------|------|---------|-------------|\r\n| `type` | `'animate'` | ‚Äî | Discriminante |\r\n| `attributeName` | `string` | ‚Äî | Atributo SVG a animar (e.g., `'opacity'`, `'r'`, `'fill'`) |\r\n| `from` | `string` | `undefined` | Valor inicial |\r\n| `to` | `string` | `undefined` | Valor final |\r\n| `values` | `string` | `undefined` | Lista de valores separados por `;` (alternativa a from/to) |\r\n| `dur` | `string` | `undefined` | Duraci√≥n (e.g., `'2s'`, `'500ms'`) |\r\n| `repeatCount` | `string` | `undefined` | Repeticiones: un n√∫mero o `'indefinite'` |\r\n| `begin` | `string` | `undefined` | Cu√°ndo empieza (e.g., `'0s'`, `'click'`) |\r\n| `fill` | `string` | `undefined` | Comportamiento al terminar: `'freeze'` o `'remove'` |\r\n| `keyTimes` | `string` | `undefined` | Tiempos clave separados por `;` (0‚Äì1) |\r\n| `keySplines` | `string` | `undefined` | Curvas B√©zier para interpolaci√≥n entre keyframes |\r\n| `calcMode` | `string` | `undefined` | Modo de c√°lculo: `'linear'`, `'discrete'`, `'paced'`, `'spline'` |\r\n\r\n#### `SvgAnimateTransformDef`\r\n\r\nGenera un elemento `\u003CanimateTransform>` que anima una transformaci√≥n geom√©trica.\r\n\r\n| Campo | Tipo | Default | Descripci√≥n |\r\n|-------|------|---------|-------------|\r\n| `type` | `'animateTransform'` | ‚Äî | Discriminante |\r\n| `transformType` | `string` | ‚Äî | Tipo de transformaci√≥n: `'translate'`, `'scale'`, `'rotate'`, `'skewX'`, `'skewY'` |\r\n| `from` | `string` | `undefined` | Valor inicial (e.g., `'0 50 50'` para rotaci√≥n) |\r\n| `to` | `string` | `undefined` | Valor final |\r\n| `values` | `string` | `undefined` | Lista de valores separados por `;` |\r\n| `dur` | `string` | `undefined` | Duraci√≥n |\r\n| `repeatCount` | `string` | `undefined` | Repeticiones |\r\n| `begin` | `string` | `undefined` | Cu√°ndo empieza |\r\n| `fill` | `string` | `undefined` | `'freeze'` o `'remove'` |\r\n| `additive` | `string` | `undefined` | `'sum'` para acumular con la transformaci√≥n base |\r\n\r\n#### Ejemplo\r\n\r\n```typescript\r\nconst circle = new Node('pulse');\r\ncircle.addComponent(createSphere(30));\r\ncircle.addComponent(new Material({ fill: { r: 1, g: 0, b: 0 } }));\r\ncircle.addComponent(new Animation([\r\n  // Pulsar opacidad\r\n  {\r\n    type: 'animate',\r\n    attributeName: 'opacity',\r\n    values: '1;0.3;1',\r\n    dur: '2s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n  // Rotar continuamente\r\n  {\r\n    type: 'animateTransform',\r\n    transformType: 'rotate',\r\n    from: '0 50 50',\r\n    to: '360 50 50',\r\n    dur: '4s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n]));\r\nscene.add(circle);\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Ccircle cx=\"0\" cy=\"0\" r=\"30\" fill=\"rgb(255, 0, 0)\">\r\n  \u003Canimate attributeName=\"opacity\" values=\"1;0.3;1\" dur=\"2s\" repeatCount=\"indefinite\" />\r\n  \u003CanimateTransform attributeName=\"transform\" type=\"rotate\"\r\n    from=\"0 50 50\" to=\"360 50 50\" dur=\"4s\" repeatCount=\"indefinite\" />\r\n\u003C/circle>\r\n```\r\n\r\n> **Nota:** Las animaciones SVG nativas solo tienen efecto en el renderer SVG. El renderer Three.js las ignora.\r\n\r\n---\r\n\r\n#### Definici√≥n\r\n\r\n```typescript\r\ninterface InteractiveDef {\r\n  enabled: boolean;\r\n  cursor: string;\r\n  blocksRaycast: boolean;\r\n}\r\n```\r\n\r\n| Campo | Tipo | Default | Descripci√≥n |\r\n|-------|------|---------|-------------|\r\n| `enabled` | `boolean` | `true` | Si el nodo responde a eventos |\r\n| `cursor` | `string` | `'pointer'` | CSS cursor al hacer hover (e.g., `'pointer'`, `'grab'`, `'move'`) |\r\n| `blocksRaycast` | `boolean` | `true` | Si bloquea raycasts a objetos detr√°s |\r\n\r\n#### Uso\r\n\r\n```typescript\r\nimport { Node, Interactive, createBox } from '@oroya/core';\r\n\r\nconst button = new Node('button');\r\nbutton.addComponent(createBox(2, 1, 0.2));\r\nbutton.addComponent(new Interactive({ cursor: 'pointer' }));\r\n\r\n// Registrar event handlers\r\nbutton.on('click', (e) => {\r\n  console.log('Clicked!', e.target.name);\r\n});\r\n\r\nbutton.on('pointerenter', (e) => {\r\n  console.log('Hover started');\r\n});\r\n\r\nbutton.on('pointerleave', (e) => {\r\n  console.log('Hover ended');\r\n});\r\n```\r\n\r\n#### Integraci√≥n con renderers\r\n\r\n- **ThreeRenderer:** Requiere llamar `renderer.enableInteraction()` despu√©s de `mount()`. Usa `THREE.Raycaster` para hit-testing 3D.\r\n- **SVG Renderer:** Usa `renderToSVGElement()` (no `renderToSVG()`) para obtener un DOM element con event listeners.\r\n\r\n---\r\n\r\n### EventEmitter\r\n\r\n**Archivo fuente:** [EventEmitter.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/events/EventEmitter.ts)\r\n\r\nSistema de eventos gen√©rico con tipado fuerte. Cada `Node` tiene un `EventEmitter` interno para manejar `InteractionEvent`s.\r\n\r\n#### API\r\n\r\n```typescript\r\nclass EventEmitter\u003CEventMap extends Record\u003Cstring, any>> {\r\n  on\u003CK extends keyof EventMap>(\r\n    eventType: K,\r\n    handler: (payload: EventMap[K]) => void\r\n  ): void;\r\n\r\n  off\u003CK extends keyof EventMap>(\r\n    eventType: K,\r\n    handler: (payload: EventMap[K]) => void\r\n  ): void;\r\n\r\n  emit\u003CK extends keyof EventMap>(\r\n    eventType: K,\r\n    payload: EventMap[K]\r\n  ): void;\r\n\r\n  removeAllListeners(eventType?: keyof EventMap): void;\r\n\r\n  hasListeners(eventType: keyof EventMap): boolean;\r\n}\r\n```\r\n\r\n#### Ejemplo de uso directo\r\n\r\n```typescript\r\nimport { EventEmitter } from '@oroya/core';\r\n\r\ntype MyEvents = {\r\n  'data-loaded': { id: string; data: any };\r\n  'error': { message: string };\r\n};\r\n\r\nconst emitter = new EventEmitter\u003CMyEvents>();\r\n\r\nemitter.on('data-loaded', (payload) => {\r\n  console.log('Data:', payload.data);\r\n});\r\n\r\nemitter.emit('data-loaded', { id: '123', data: { foo: 'bar' } });\r\n```\r\n\r\n#### Uso en Node\r\n\r\nLos nodos exponen shortcuts `on()` y `off()` que delegan al `EventEmitter` interno:\r\n\r\n```typescript\r\nconst node = new Node('my-node');\r\n\r\nnode.on('click', (e: InteractionEvent) => {\r\n  console.log('Clicked at', e.screenPosition);\r\n});\r\n```\r\n\r\n---\r\n\r\n### InteractionEvent\r\n\r\n**Archivo fuente:** [InteractionEvent.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/events/InteractionEvent.ts)\r\n\r\nEventos de interacci√≥n que se disparan cuando el usuario interact√∫a con nodos marcados como `Interactive`.\r\n\r\n#### Tipos de eventos\r\n\r\n```typescript\r\nenum InteractionEventType {\r\n  Click = 'click',\r\n  PointerDown = 'pointerdown',\r\n  PointerUp = 'pointerup',\r\n  PointerMove = 'pointermove',\r\n  PointerEnter = 'pointerenter',\r\n  PointerLeave = 'pointerleave',\r\n  PointerCancel = 'pointercancel',\r\n  Wheel = 'wheel',\r\n  DragStart = 'dragstart',\r\n  DragEnd = 'dragend',\r\n}\r\n```\r\n\r\n#### Interfaz\r\n\r\n```typescript\r\ninterface InteractionEvent {\r\n  type: InteractionEventType;\r\n  target: Node;                    // Nodo que recibi√≥ el evento originalmente\r\n  currentTarget: Node;             // Nodo actual durante bubbling\r\n  point?: { x: number; y: number; z: number };  // Posici√≥n 3D en world space\r\n  localPoint?: { x: number; y: number; z: number };  // Posici√≥n en local space del nodo\r\n  screenPosition: { x: number; y: number };  // Posici√≥n en pantalla (clientX/Y)\r\n  nativeEvent: unknown;            // Evento DOM original (PointerEvent, MouseEvent, etc.)\r\n  propagationStopped: boolean;\r\n  stopPropagation(): void;\r\n}\r\n```\r\n\r\n#### Event Bubbling\r\n\r\nLos eventos se propagan hacia arriba en el scene graph (de hijo a padre), similar al DOM:\r\n\r\n```typescript\r\nconst parent = new Node('parent');\r\nconst child = new Node('child');\r\nparent.add(child);\r\n\r\nparent.on('click', (e) => {\r\n  console.log('Parent clicked, target:', e.target.name);  // \"child\"\r\n  console.log('Current target:', e.currentTarget.name);   // \"parent\"\r\n});\r\n\r\nchild.on('click', (e) => {\r\n  console.log('Child clicked');\r\n  e.stopPropagation();  // Detiene el bubbling\r\n});\r\n```\r\n\r\n#### Factory\r\n\r\n```typescript\r\nfunction createInteractionEvent(\r\n  type: InteractionEventType,\r\n  target: Node,\r\n  nativeEvent: unknown,\r\n  screenPosition: { x: number; y: number },\r\n  options?: {\r\n    point?: { x: number; y: number; z: number };\r\n    localPoint?: { x: number; y: number; z: number };\r\n  }\r\n): InteractionEvent;\r\n```\r\n\r\n---\r\n\r\n### Factory Functions\r\n\r\n\r\nFunciones helper para crear componentes `Geometry` de forma concisa.\r\n\r\n**Archivo fuente:** [primitives.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/geometry/primitives.ts)\r\n\r\n#### `createBox`\r\n\r\n```typescript\r\nfunction createBox(width?: number, height?: number, depth?: number): Geometry\r\n```\r\n\r\n| Par√°metro | Tipo | Default | Descripci√≥n |\r\n|-----------|------|---------|-------------|\r\n| `width` | `number` | `1` | Ancho (eje X) |\r\n| `height` | `number` | `1` | Alto (eje Y) |\r\n| `depth` | `number` | `1` | Profundidad (eje Z) |\r\n\r\n```typescript\r\nconst cube = createBox();          // Cubo 1√ó1√ó1\r\nconst plank = createBox(5, 0.2, 1); // Tabla plana\r\n```\r\n\r\n#### `createSphere`\r\n\r\n```typescript\r\nfunction createSphere(radius?: number, widthSegments?: number, heightSegments?: number): Geometry\r\n```\r\n\r\n| Par√°metro | Tipo | Default | Descripci√≥n |\r\n|-----------|------|---------|-------------|\r\n| `radius` | `number` | `0.5` | Radio de la esfera |\r\n| `widthSegments` | `number` | `16` | Segmentos horizontales |\r\n| `heightSegments` | `number` | `16` | Segmentos verticales |\r\n\r\n```typescript\r\nconst ball = createSphere(1, 32, 32); // Esfera suave\r\nconst lowpoly = createSphere(1, 8, 6); // Esfera facetada\r\n```\r\n\r\n#### `createPath2D`\r\n\r\n```typescript\r\nfunction createPath2D(path: Path2DCommand[]): Geometry\r\n```\r\n\r\n| Par√°metro | Tipo | Descripci√≥n |\r\n|-----------|------|-------------|\r\n| `path` | `Path2DCommand[]` | Array de comandos SVG |\r\n\r\n```typescript\r\nconst triangle = createPath2D([\r\n  { command: 'M', args: [50, 0] },\r\n  { command: 'L', args: [100, 100] },\r\n  { command: 'L', args: [0, 100] },\r\n  { command: 'Z', args: [] },\r\n]);\r\n```\r\n\r\n#### `createText`\r\n\r\n```typescript\r\nfunction createText(text: string, options?: {\r\n  fontSize?: number;\r\n  fontFamily?: string;\r\n  fontWeight?: string;\r\n  textAnchor?: string;\r\n  dominantBaseline?: string;\r\n}): Geometry\r\n```\r\n\r\n| Par√°metro | Tipo | Descripci√≥n |\r\n|-----------|------|-------------|\r\n| `text` | `string` | Contenido del texto |\r\n| `options` | `object` | *(opcional)* Opciones tipogr√°ficas |\r\n\r\n```typescript\r\nconst title = createText('Hello', { fontSize: 32, fontFamily: 'monospace', textAnchor: 'middle' });\r\n```\r\n\r\n---\r\n\r\n### Serializaci√≥n\r\n\r\nFunciones para convertir escenas a JSON y reconstruirlas.\r\n\r\n**Archivo fuente:** [json.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/serialization/json.ts)\r\n\r\n#### `serialize`\r\n\r\n```typescript\r\nfunction serialize(scene: Scene): string\r\n```\r\n\r\nConvierte todo el scene graph a una cadena JSON formateada con indentaci√≥n de 2 espacios.\r\n\r\n**Componentes soportados en serializaci√≥n:**\r\n\r\n| Componente | ¬øSe serializa? | Datos incluidos |\r\n|------------|----------------|-----------------|\r\n| `Transform` | ‚úÖ | `position`, `rotation`, `scale`, `localMatrix`, `worldMatrix`, `isDirty` |\r\n| `Geometry` | ‚úÖ | `definition` completo (tipo + par√°metros) |\r\n| `Material` | ‚úÖ | `definition` completo (color, opacity, fill, stroke, etc.) |\r\n| `Camera` | ‚úÖ | `definition` completo (type, fov/aspect/near/far para Perspective; left/right/top/bottom/near/far para Orthographic) |\r\n| `Animation` | ‚úÖ | Array de `SvgAnimationDef` (animate y animateTransform) |\r\n\r\n#### `deserialize`\r\n\r\n```typescript\r\nfunction deserialize(jsonString: string): Scene\r\n```\r\n\r\nReconstruye una `Scene` funcional desde un string JSON.\r\n\r\n**Comportamiento:**\r\n- Los UUIDs de los nodos se **preservan** (mismo ID que el original).\r\n- Los campos `cssClass` y `cssId` se serializan y restauran.\r\n- Todos los componentes (`Transform`, `Geometry`, `Material`, `Camera`, `Animation`) se serializan y deserializan correctamente.\r\n- El nodo ra√≠z deserializado transfiere sus hijos al ra√≠z de la nueva escena.\r\n\r\n#### Formato del JSON\r\n\r\n```mermaid\r\ngraph TD\r\n    Root[\"SerializableScene\"] -->|\"root\"| RN[\"SerializableNode\"]\r\n    RN -->|\"id\"| ID[\"string (UUID)\"]\r\n    RN -->|\"name\"| Name[\"string\"]\r\n    RN -->|\"components\"| Comps[\"SerializableComponent[]\"]\r\n    RN -->|\"children\"| Children[\"SerializableNode[]\"]\r\n    Comps --> SC[\"{ type: ComponentType, ...data }\"]\r\n```\r\n\r\n```json\r\n{\r\n  \"root\": {\r\n    \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\r\n    \"name\": \"root\",\r\n    \"components\": [\r\n      {\r\n        \"type\": \"Transform\",\r\n        \"position\": { \"x\": 0, \"y\": 0, \"z\": 0 },\r\n        \"rotation\": { \"x\": 0, \"y\": 0, \"z\": 0, \"w\": 1 },\r\n        \"scale\": { \"x\": 1, \"y\": 1, \"z\": 1 }\r\n      }\r\n    ],\r\n    \"children\": [\r\n      {\r\n        \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\r\n        \"name\": \"my-box\",\r\n        \"components\": [\r\n          { \"type\": \"Transform\", \"...\" : \"...\" },\r\n          { \"type\": \"Geometry\", \"definition\": { \"type\": \"Box\", \"width\": 2, \"height\": 2, \"depth\": 2 } },\r\n          { \"type\": \"Material\", \"definition\": { \"color\": { \"r\": 1, \"g\": 0.5, \"b\": 0 } } }\r\n        ],\r\n        \"children\": []\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\n### Math ‚Äî Matrix4\r\n\r\nUtilidades matem√°ticas para transformaciones 3D con matrices 4√ó4.\r\n\r\n**Archivo fuente:** [Matrix4.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/math/Matrix4.ts)\r\n\r\n#### `Matrix4` (Type)\r\n\r\nTupla de 16 n√∫meros en **column-major order** (compatible con WebGL/Three.js):\r\n\r\n```typescript\r\ntype Matrix4 = [\r\n  number, number, number, number,  // Columna 0 (Right)\r\n  number, number, number, number,  // Columna 1 (Up)\r\n  number, number, number, number,  // Columna 2 (Forward)\r\n  number, number, number, number   // Columna 3 (Position)\r\n];\r\n```\r\n\r\n**Layout de la matriz:**\r\n\r\n```\r\n√çndice:  [ 0]  [ 4]  [ 8]  [12]\r\n         [ 1]  [ 5]  [ 9]  [13]\r\n         [ 2]  [ 6]  [10]  [14]\r\n         [ 3]  [ 7]  [11]  [15]\r\n\r\nSignificado:\r\n         [Rx]  [Ux]  [Fx]  [Tx]     R = Right (eje X)\r\n         [Ry]  [Uy]  [Fy]  [Ty]     U = Up (eje Y)\r\n         [Rz]  [Uz]  [Fz]  [Tz]     F = Forward (eje Z)\r\n         [ 0]  [ 0]  [ 0]  [ 1]     T = Translation\r\n```\r\n\r\n#### `Matrix4Identity`\r\n\r\n```typescript\r\nconst Matrix4Identity: Readonly\u003CMatrix4> = [\r\n  1, 0, 0, 0,\r\n  0, 1, 0, 0,\r\n  0, 0, 1, 0,\r\n  0, 0, 0, 1\r\n];\r\n```\r\n\r\n#### `composeMatrix`\r\n\r\n```typescript\r\nfunction composeMatrix(position: Vec3, quaternion: Quat, scale: Vec3): Matrix4\r\n```\r\n\r\nConstruye una matriz de transformaci√≥n a partir de posici√≥n, rotaci√≥n (quaternion) y escala. Esta es la funci√≥n usada internamente por `Transform.updateLocalMatrix()`.\r\n\r\n#### `multiplyMatrices`\r\n\r\n```typescript\r\nfunction multiplyMatrices(a: Matrix4, b: Matrix4): Matrix4\r\n```\r\n\r\nMultiplica dos matrices 4√ó4. El orden es importante: `result = A √ó B` (A se aplica despu√©s de B).\r\n\r\nUsada internamente por `Node.updateWorldMatrix()`:\r\n\r\n```typescript\r\nworldMatrix = multiplyMatrices(parent.worldMatrix, this.localMatrix)\r\n```\r\n\r\n---\r\n\r\n### Math ‚Äî BoundingBox\r\n\r\n**Archivo fuente:** [BoundingBox.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/math/BoundingBox.ts)\r\n\r\nUtilidades para calcular y manipular Axis-Aligned Bounding Boxes (AABB).\r\n\r\n#### Tipos\r\n\r\n```typescript\r\ninterface AABB {\r\n  min: { x: number; y: number; z: number };\r\n  max: { x: number; y: number; z: number };\r\n}\r\n```\r\n\r\n#### Funciones\r\n\r\n##### `computeLocalAABB`\r\n\r\nCalcula el AABB local basado en la definici√≥n de la geometr√≠a.\r\n\r\n```typescript\r\nfunction computeLocalAABB(def: GeometryDef): AABB\r\n```\r\n\r\n- Soporta `Box`, `Sphere` y `Path2D`.\r\n- Para `Path2D`, calcula el bounding box exacto de los puntos de control.\r\n\r\n##### `transformAABB`\r\n\r\nTransforma un AABB local al espacio de mundo usando una matriz de transformaci√≥n.\r\n\r\n```typescript\r\nfunction transformAABB(localAABB: AABB, matrix: Matrix4): AABB\r\n```\r\n\r\n##### `pointInAABB`\r\n\r\nVerifica si un punto est√° dentro de un AABB.\r\n\r\n```typescript\r\nfunction pointInAABB(point: { x: number; y: number; z: number }, aabb: AABB): boolean\r\n```\r\n\r\n---\r\n\r\n## `@oroya/renderer-three`\r\n\r\n### `ThreeRenderer`\r\n\r\nRenderer WebGL basado en Three.js.\r\n\r\n**Archivo fuente:** [ThreeRenderer.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/renderer-three/src/ThreeRenderer.ts)\r\n\r\n```mermaid\r\nclassDiagram\r\n    class ThreeRenderer {\r\n        -renderer: THREE.WebGLRenderer\r\n        -scene: THREE.Scene\r\n        -activeCamera: THREE.Camera | null\r\n        -oroyaScene: OroyaScene | null\r\n        -nodeMap: Map~string, THREE.Object3D~\r\n        +constructor(options: ThreeRendererOptions)\r\n        +mount(scene: OroyaScene): void\r\n        +render(): void\r\n        +enableInteraction(): void\r\n        +disableInteraction(): void\r\n        +dispose(): void\r\n    }\r\n\r\n    class ThreeRendererOptions {\r\n        +canvas: HTMLCanvasElement\r\n        +width: number\r\n        +height: number\r\n        +dpr?: number\r\n    }\r\n```\r\n\r\n#### `ThreeRendererOptions`\r\n\r\n| Campo | Tipo | Default | Descripci√≥n |\r\n|-------|------|---------|-------------|\r\n| `canvas` | `HTMLCanvasElement` | *(requerido)* | El elemento canvas donde se renderiza |\r\n| `width` | `number` | *(requerido)* | Ancho del viewport en p√≠xeles |\r\n| `height` | `number` | *(requerido)* | Alto del viewport en p√≠xeles |\r\n| `dpr` | `number` | `window.devicePixelRatio` | Device pixel ratio para HiDPI |\r\n\r\n#### M√©todos\r\n\r\n| M√©todo | Descripci√≥n |\r\n|--------|-------------|\r\n| `mount(scene)` | Conecta una `Scene` de Oroya. Reconstruye internamente los objetos Three.js, busca la primera c√°mara, y agrega luces ambientales. Puede llamarse m√∫ltiples veces |\r\n| `render()` | Actualiza las matrices del mundo, sincroniza las posiciones de los objetos Three.js con el scene graph de Oroya, y dibuja el frame. Debe llamarse en un `requestAnimationFrame` loop |\r\n| `enableInteraction()` | Activa el sistema de interactividad (raycasting, listeners DOM). Debe llamarse despu√©s de `mount()`. |\r\n| `disableInteraction()` | Desactiva el sistema de interactividad y remueve listeners. |\r\n| `dispose()` | Libera los recursos del WebGLRenderer y limpia listeners de interacci√≥n. |\r\n\r\n#### Traducci√≥n de componentes\r\n\r\n| Oroya Component | Three.js Object |\r\n|----------------|-----------------|\r\n| `Node` sin geometr√≠a ni c√°mara | `THREE.Group` |\r\n| `Node` con `Geometry` (Box) | `THREE.Mesh` + `THREE.BoxGeometry` |\r\n| `Node` con `Geometry` (Sphere) | `THREE.Mesh` + `THREE.SphereGeometry` |\r\n| `Node` con `Camera` (Perspective) | `THREE.PerspectiveCamera` |\r\n| `Material` con `color` | `THREE.MeshStandardMaterial` |\r\n| `Material` con `opacity \u003C 1` | `THREE.MeshStandardMaterial({ transparent: true })` |\r\n| Sin `Material` | `THREE.MeshStandardMaterial({ color: 0xcccccc })` (gris por defecto) |\r\n\r\n#### Iluminaci√≥n autom√°tica\r\n\r\nAl montar una escena, el renderer agrega autom√°ticamente:\r\n\r\n| Luz | Configuraci√≥n |\r\n|-----|---------------|\r\n| `AmbientLight` | Color: blanco, Intensidad: 0.5 |\r\n| `DirectionalLight` | Color: blanco, Intensidad: 1.5, Posici√≥n: `(2, 5, 3)` |\r\n\r\n#### Ejemplo\r\n\r\n```typescript\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n  dpr: 2, // Retina display\r\n});\r\n\r\nrenderer.mount(scene);\r\n\r\nfunction animate() {\r\n  // ... mutate scene ...\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\nanimate();\r\n\r\n// Cleanup\r\nrenderer.dispose();\r\n```\r\n\r\n---\r\n\r\n## `@oroya/renderer-svg`\r\n\r\n### `renderToSVG`\r\n\r\nFunci√≥n pura que genera un string SVG a partir de una escena.\r\n\r\n**Archivo fuente:** [renderSVG.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/renderer-svg/src/renderSVG.ts)\r\n\r\n```typescript\r\nfunction renderToSVG(scene: Scene, options: SvgRenderOptions): string\r\n```\r\n\r\n#### `SvgRenderOptions`\r\n\r\n| Campo | Tipo | Default | Descripci√≥n |\r\n|-------|------|---------|-------------|\r\n| `width` | `number` | *(requerido)* | Ancho del SVG en p√≠xeles |\r\n| `height` | `number` | *(requerido)* | Alto del SVG en p√≠xeles |\r\n| `viewBox` | `string` | `\"0 0 {width} {height}\"` | viewBox SVG personalizado |\r\n\r\n### `renderToSVGElement`\r\n\r\nGenera un elemento SVG del DOM (`SVGSVGElement`) con event listeners para interactividad.\r\n\r\n**Archivo fuente:** [renderSVG.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/renderer-svg/src/renderSVG.ts)\r\n\r\n```typescript\r\nfunction renderToSVGElement(\r\n  scene: Scene,\r\n  options: SvgElementRenderOptions\r\n): { svg: SVGSVGElement; dispose: () => void }\r\n```\r\n\r\n#### `SvgElementRenderOptions`\r\n\r\nExtiende `SvgRenderOptions` con:\r\n\r\n| Campo | Tipo | Descripci√≥n |\r\n|-------|------|-------------|\r\n| `container` | `HTMLElement` | *(opcional)* Elemento padre donde se adjuntar√° el SVG autom√°ticamente |\r\n\r\n#### Retorno\r\n\r\nRetorna un objeto con:\r\n- `svg`: El elemento DOM SVG creado.\r\n- `dispose()`: Funci√≥n para limpiar event listeners y remover el elemento del DOM.\r\n\r\n#### Ejemplo\r\n\r\n```typescript\r\nconst { dispose } = renderToSVGElement(scene, {\r\n  width: 800,\r\n  height: 600,\r\n  container: document.body\r\n});\r\n\r\n// M√°s tarde...\r\ndispose();\r\n```\r\n\r\n#### Comportamiento\r\n\r\n1. Llama a `scene.updateWorldMatrices()` para sincronizar transforms.\r\n2. Recorre recursivamente el √°rbol de nodos generando `\u003Cg>` para la jerarqu√≠a.\r\n3. Geometr√≠as soportadas: `Path2D` ‚Üí `\u003Cpath>`, `Box` ‚Üí `\u003Crect>`, `Sphere` ‚Üí `\u003Ccircle>`, `Text` ‚Üí `\u003Ctext>`.\r\n4. Si el nodo tiene un `Material`, aplica `fill`, `stroke`, `stroke-width`, `opacity`, `fillGradient` y `strokeGradient`.\r\n5. Los gradientes generan un bloque `\u003Cdefs>` al inicio del SVG con `\u003ClinearGradient>` / `\u003CradialGradient>`.\r\n6. El `localMatrix` de cada nodo se aplica como `transform=\"matrix(a,b,c,d,e,f)\"`.\r\n7. Los colores se convierten de RGB normalizado (0‚Äì1) a `rgb(R, G, B)` con valores 0‚Äì255.\r\n\r\n#### Ejemplo\r\n\r\n```typescript\r\nimport { renderToSVG } from '@oroya/renderer-svg';\r\n\r\nconst svg = renderToSVG(scene, {\r\n  width: 800,\r\n  height: 600,\r\n  viewBox: '0 0 800 600',\r\n});\r\n\r\n// Insertar en el DOM\r\ndocument.body.innerHTML = svg;\r\n\r\n// O guardar como archivo en Node.js\r\nimport { writeFileSync } from 'fs';\r\nwriteFileSync('output.svg', svg);\r\n```\r\n\r\n> **Ventaja clave:** Esta funci√≥n es **pura** y no requiere DOM. Funciona en Node.js para server-side rendering.\r\n\r\n---\r\n\r\n## `@oroya/loader-gltf`\r\n\r\n### `loadGLTF`\r\n\r\nCarga un archivo glTF/GLB y lo traduce al scene graph de Oroya.\r\n\r\n**Archivo fuente:** [loadGLTF.ts](file:///c:/devfiles/personal-projects/oroya-animate/packages/loader-gltf/src/loadGLTF.ts)\r\n\r\n```typescript\r\nasync function loadGLTF(url: string): Promise\u003CScene>\r\n```\r\n\r\n| Par√°metro | Tipo | Descripci√≥n |\r\n|-----------|------|-------------|\r\n| `url` | `string` | URL del archivo .gltf o .glb |\r\n\r\n#### Traducci√≥n (simplificada ‚Äî v0.3)\r\n\r\n| glTF Element | Oroya Node |\r\n|-------------|------------|\r\n| `THREE.Object3D` (cualquiera) | `Node` con posici√≥n/rotaci√≥n/escala del objeto |\r\n| `THREE.Mesh` | `Node` + `createBox(1,1,1)` (placeholder) + `Material` con color si disponible |\r\n| Hijos del objeto | Nodos hijos recursivos |\r\n\r\n> **‚ö†Ô∏è Limitaciones actuales:** La geometr√≠a real del glTF no se traduce ‚Äî se usa un box placeholder. Los materiales solo extraen el color base. Las animaciones no se importan. Esto se mejorar√° en v0.4.\r\n\r\n---\r\n\r\n## Mapa completo de tipos\r\n\r\n```mermaid\r\ngraph TD\r\n    subgraph \"Tipos base\"\r\n        Vec3[\"Vec3 {x, y, z}\"]\r\n        Quat[\"Quat {x, y, z, w}\"]\r\n        ColorRGB[\"ColorRGB {r, g, b}\"]\r\n        M4[\"Matrix4 (16-tuple)\"]\r\n    end\r\n\r\n    subgraph \"Geometry types\"\r\n        GD[\"GeometryDef (union)\"]\r\n        GD --> BGD[\"BoxGeometryDef\"]\r\n        GD --> SGD[\"SphereGeometryDef\"]\r\n        GD --> PGD[\"Path2DGeometryDef\"]\r\n        PGD --> P2DC[\"Path2DCommand\"]\r\n    end\r\n\r\n    subgraph \"Material types\"\r\n        MatD[\"MaterialDef\"]\r\n        MatD -.-> ColorRGB\r\n    end\r\n\r\n    subgraph \"Camera types\"\r\n        CD[\"CameraDef (union)\"]\r\n        CD --> PCD[\"PerspectiveCameraDef\"]\r\n        CD --> OCD[\"OrthographicCameraDef\"]\r\n    end\r\n\r\n    subgraph \"Animation types\"\r\n        AD[\"SvgAnimationDef (union)\"]\r\n        AD --> SAD[\"SvgAnimateDef\"]\r\n        AD --> SATD[\"SvgAnimateTransformDef\"]\r\n    end\r\n\r\n    subgraph \"Filter types\"\r\n        FD[\"SvgFilterDef\"]\r\n        FD --> FE[\"SvgFilterEffect (union)\"]\r\n        FE --> BL[\"SvgBlurEffect\"]\r\n        FE --> DS[\"SvgDropShadowEffect\"]\r\n        CPD[\"SvgClipPathDef\"]\r\n        MKD[\"SvgMaskDef\"]\r\n    end\r\n\r\n    subgraph \"Enums\"\r\n        CT[\"ComponentType\"]\r\n        GP[\"GeometryPrimitive\"]\r\n        CamT[\"CameraType\"]\r\n    end\r\n\r\n    subgraph \"Serialization\"\r\n        SScene[\"SerializableScene\"]\r\n        SNode[\"SerializableNode\"]\r\n        SComp[\"SerializableComponent\"]\r\n        SScene --> SNode\r\n        SNode --> SComp\r\n        SNode -->|\"children\"| SNode\r\n    end\r\n```\r\n\r\n### Tabla resumen de todos los exports\r\n\r\n| Export | Tipo | Categor√≠a | Paquete |\r\n|--------|------|-----------|---------|\r\n| `Scene` | class | Scene graph | `@oroya/core` |\r\n| `Node` | class | Scene graph | `@oroya/core` |\r\n| `Component` | abstract class | ECS | `@oroya/core` |\r\n| `ComponentType` | enum | ECS | `@oroya/core` |\r\n| `Transform` | class | Components | `@oroya/core` |\r\n| `Vec3` | interface | Types | `@oroya/core` |\r\n| `Quat` | interface | Types | `@oroya/core` |\r\n| `Geometry` | class | Components | `@oroya/core` |\r\n| `GeometryPrimitive` | enum | Components | `@oroya/core` |\r\n| `BoxGeometryDef` | interface | Types | `@oroya/core` |\r\n| `SphereGeometryDef` | interface | Types | `@oroya/core` |\r\n| `Path2DGeometryDef` | interface | Types | `@oroya/core` |\r\n| `Path2DCommand` | interface | Types | `@oroya/core` |\r\n| `GeometryDef` | type alias | Types | `@oroya/core` |\r\n| `Material` | class | Components | `@oroya/core` |\r\n| `ColorRGB` | interface | Types | `@oroya/core` |\r\n| `MaterialDef` | interface | Types | `@oroya/core` |\r\n| `Camera` | class | Components | `@oroya/core` |\r\n| `CameraType` | enum | Components | `@oroya/core` |\r\n| `PerspectiveCameraDef` | interface | Types | `@oroya/core` |\r\n| `CameraDef` | type alias | Types | `@oroya/core` |\r\n| `OrthographicCameraDef` | interface | Types | `@oroya/core` |\r\n| `Interactive` | class | Components | `@oroya/core` |\r\n| `Animation` | class | Components | `@oroya/core` |\r\n| `SvgAnimateDef` | interface | Types | `@oroya/core` |\r\n| `SvgAnimateTransformDef` | interface | Types | `@oroya/core` |\r\n| `SvgAnimationDef` | type alias | Types | `@oroya/core` |\r\n| `SvgFilterDef` | interface | Types | `@oroya/core` |\r\n| `SvgFilterEffect` | type alias | Types | `@oroya/core` |\r\n| `SvgBlurEffect` | interface | Types | `@oroya/core` |\r\n| `SvgDropShadowEffect` | interface | Types | `@oroya/core` |\r\n| `SvgClipPathDef` | interface | Types | `@oroya/core` |\r\n| `SvgMaskDef` | interface | Types | `@oroya/core` |\r\n| `createBox` | function | Factory | `@oroya/core` |\r\n| `createSphere` | function | Factory | `@oroya/core` |\r\n| `createPath2D` | function | Factory | `@oroya/core` |\r\n| `serialize` | function | Serialization | `@oroya/core` |\r\n| `deserialize` | function | Serialization | `@oroya/core` |\r\n| `Matrix4` | type alias | Math | `@oroya/core` |\r\n| `Matrix4Identity` | constant | Math | `@oroya/core` |\r\n| `composeMatrix` | function | Math | `@oroya/core` |\r\n| `multiplyMatrices` | function | Math | `@oroya/core` |\r\n| `ThreeRenderer` | class | Rendering | `@oroya/renderer-three` |\r\n| `renderToSVG` | function | Rendering | `@oroya/renderer-svg` |\r\n| `renderToSVGElement` | function | Rendering | `@oroya/renderer-svg` |\r\n| `TextGeometryDef` | interface | Types | `@oroya/core` |\r\n| `GradientDef` | type alias | Types | `@oroya/core` |\r\n| `LinearGradientDef` | interface | Types | `@oroya/core` |\r\n| `RadialGradientDef` | interface | Types | `@oroya/core` |\r\n| `GradientStop` | interface | Types | `@oroya/core` |\r\n| `createText` | function | Factory | `@oroya/core` |\r\n| `loadGLTF` | async function | Loading | `@oroya/loader-gltf` |","src/content/docs/api-reference.md","c73f716ba56e31c5",{"html":276,"metadata":277},"\u003Ch1 id=\"api-reference\">API Reference\u003C/h1>\n\u003Cp>Complete reference for all packages in the Oroya Animate ecosystem.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"tabla-de-contenidos\">Tabla de contenidos\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#visi%C3%B3n-general-de-la-arquitectura\">Visi√≥n general de la arquitectura\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#oroyacore\">\u003Ccode>@oroya/core\u003C/code>\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#scene\">Scene\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#node\">Node\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#component-base-abstracta\">Component (base)\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#transform-componente\">Transform\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#geometry-componente\">Geometry\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#material-componente\">Material\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#camera-componente\">Camera\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#interactive-componente\">Interactive\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#eventemitter\">EventEmitter\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#interactionevent\">InteractionEvent\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#factory-functions\">Factory Functions\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#serializaci%C3%B3n\">Serialization\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#math--matrix4\">Math ‚Äî Matrix4\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#math--boundingbox\">Math ‚Äî BoundingBox\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#oroyarenderer-three\">\u003Ccode>@oroya/renderer-three\u003C/code>\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#threerenderer\">ThreeRenderer\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#oroyarenderer-svg\">\u003Ccode>@oroya/renderer-svg\u003C/code>\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#rendertosvg\">renderToSVG\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#rendertosvgelement\">renderToSVGElement\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#oroyaloader-gltf\">\u003Ccode>@oroya/loader-gltf\u003C/code>\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#loadgltf\">loadGLTF\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#mapa-completo-de-tipos\">Mapa completo de tipos\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"visi√≥n-general-de-la-arquitectura\">Visi√≥n general de la arquitectura\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"@oroya/core\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Scene --> Node\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Node --> Transform\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Node --> Geometry\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Node --> Material\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Node --> Camera\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Node -->|\"children[]\"| Node\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Geometry -.->|\"uses\"| GeometryDef[\"GeometryDef (union)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Material -.->|\"uses\"| MaterialDef\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Camera -.->|\"uses\"| CameraDef[\"CameraDef (union)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Transform -.->|\"uses\"| Matrix4\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"@oroya/renderer-three\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ThreeRenderer -->|\"reads\"| Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ThreeRenderer -->|\"produces\"| WebGL[\"WebGL Canvas\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"@oroya/renderer-svg\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        renderToSVG -->|\"reads\"| Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        renderToSVG -->|\"produces\"| SVGStr[\"SVG String\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"@oroya/loader-gltf\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        loadGLTF -->|\"produces\"| Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"flujo-de-datos\">Flujo de datos\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sequenceDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant User as User Code\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant Scene as Scene Graph\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant Node as Node + Components\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant Renderer as Renderer\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    User->>Scene: new Scene()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    User->>Node: new Node('box')\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    User->>Node: addComponent(createBox(...))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    User->>Node: addComponent(new Material(...))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    User->>Scene: scene.add(node)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    User->>Renderer: renderer.mount(scene)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    loop Animation Frame\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        User->>Node: transform.rotation = {...}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        User->>Node: transform.updateLocalMatrix()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        User->>Renderer: renderer.render()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Renderer->>Scene: scene.updateWorldMatrices()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Scene->>Node: node.updateWorldMatrix(parentMatrix)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Renderer->>Renderer: Draw frame\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"oroyacore\">\u003Ccode>@oroya/core\u003C/code>\u003C/h2>\n\u003Ch3 id=\"exports-completos\">Exports completos\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './scene/Scene'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Nodes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Node } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './nodes/Node'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Components\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Component, ComponentType } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './components/Component'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Transform } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './components/Transform'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Vec3, Quat } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './components/Transform'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Geometry, GeometryPrimitive } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './components/Geometry'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { BoxGeometryDef, SphereGeometryDef, Path2DGeometryDef, Path2DCommand, GeometryDef } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './components/Geometry'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Material } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './components/Material'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ColorRGB, MaterialDef } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './components/Material'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './components/Camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { PerspectiveCameraDef, OrthographicCameraDef, CameraDef } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './components/Camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Animation } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './components/Animation'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { SvgAnimateDef, SvgAnimateTransformDef, SvgAnimationDef } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './components/Animation'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  SvgFilterDef, SvgFilterEffect, SvgBlurEffect, SvgDropShadowEffect,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  SvgClipPathDef, SvgMaskDef,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">} \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './components/Material'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Primitives\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { createBox, createSphere, createPath2D } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './geometry/primitives'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Serialization\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { serialize, deserialize } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './serialization/json'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Math\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Matrix4Identity, composeMatrix, multiplyMatrices } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './math/Matrix4'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Matrix4 } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './math/Matrix4'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"scene\">\u003Ccode>Scene\u003C/code>\u003C/h3>\n\u003Cp>El contenedor de nivel superior del scene graph.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/scene/Scene.ts\">Scene.ts\u003C/a>\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"constructor\">Constructor\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Par√°metro\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cem>(ninguno)\u003C/em>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Crea una escena con un nodo ra√≠z llamado \u003Ccode>'root'\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"propiedades\">Propiedades\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Propiedad\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Acceso\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>root\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>readonly\u003C/code>\u003C/td>\u003Ctd>El nodo ra√≠z del √°rbol de escena\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"m√©todos\">M√©todos\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>M√©todo\u003C/th>\u003Cth>Firma\u003C/th>\u003Cth>Retorno\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>add\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>add(node: Node, parent?: Node)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Agrega un nodo. Si no se especifica \u003Ccode>parent\u003C/code>, se agrega como hijo del \u003Ccode>root\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>remove\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>remove(node: Node)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Remueve un nodo de su padre\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>findNodeById\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>findNodeById(id: string)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node | undefined\u003C/code>\u003C/td>\u003Ctd>Busca recursivamente un nodo por su UUID\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>findNodeByName\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>findNodeByName(name: string)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node | undefined\u003C/code>\u003C/td>\u003Ctd>Busca recursivamente un nodo por su nombre\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>traverse\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>traverse(callback: (node: Node) => void)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Recorre todos los nodos del √°rbol en profundidad (DFS pre-order)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>updateWorldMatrices\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>updateWorldMatrices()\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Recalcula las matrices del mundo de todos los nodos. Se llama internamente por los renderers\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"ejemplo\">Ejemplo\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> parent\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'group'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> child\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'child'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(parent);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(child, parent); \u003C/span>\u003Cspan style=\"color:#6A737D\">// child es hijo de parent, no del root\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">traverse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">node\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(node.name));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚Üí 'root', 'group', 'child'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> found\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">findNodeByName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'child'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(found?.parent?.name); \u003C/span>\u003Cspan style=\"color:#6A737D\">// ‚Üí 'group'\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"node\">\u003Ccode>Node\u003C/code>\u003C/h3>\n\u003Cp>Un elemento del scene graph. Soporta jerarqu√≠a padre-hijo y un sistema de componentes ECS.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/nodes/Node.ts\">Node.ts\u003C/a>\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">classDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    class Node {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +readonly id: string\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +name: string\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +parent: Node | null\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +readonly children: Node[]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +readonly components: Map~ComponentType, Component~\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +get transform(): Transform\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +constructor(name: string, id?: string)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +addComponent(component: Component): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +getComponent~T~(type: ComponentType): T | undefined\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +hasComponent(type: ComponentType): boolean\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +add(node: Node): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +remove(node: Node): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +updateWorldMatrix(parentMatrix?: Matrix4): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +traverse(callback: Function): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +findNodeById(id: string): Node | undefined\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +findNodeByName(name: string): Node | undefined\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"constructor-1\">Constructor\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Par√°metro\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>name\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Nombre legible del nodo\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>id\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>uuidv4()\u003C/code>\u003C/td>\u003Ctd>Identificador √∫nico. Se auto-genera si no se provee\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nota:\u003C/strong> Cada nodo recibe autom√°ticamente un componente \u003Ccode>Transform\u003C/code> al crearse.\u003C/p>\n\u003C/blockquote>\n\u003Ch4 id=\"propiedades-1\">Propiedades\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Propiedad\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Acceso\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>id\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>readonly\u003C/code>\u003C/td>\u003Ctd>UUID √∫nico generado autom√°ticamente\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>name\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>read/write\u003C/td>\u003Ctd>Etiqueta legible para humanos\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>parent\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node | null\u003C/code>\u003C/td>\u003Ctd>read/write\u003C/td>\u003Ctd>Referencia al nodo padre\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>children\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node[]\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>readonly\u003C/code>\u003C/td>\u003Ctd>Array de nodos hijos\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>components\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Map&#x3C;ComponentType, Component>\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>readonly\u003C/code>\u003C/td>\u003Ctd>Mapa de componentes. M√°ximo uno por tipo\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>transform\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>getter\u003C/td>\u003Ctd>Acceso directo al componente Transform\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>cssClass\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string | undefined\u003C/code>\u003C/td>\u003Ctd>read/write\u003C/td>\u003Ctd>Clase(s) CSS que el renderer SVG emite como atributo \u003Ccode>class\u003C/code> en el elemento\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>cssId\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string | undefined\u003C/code>\u003C/td>\u003Ctd>read/write\u003C/td>\u003Ctd>ID sem√°ntico que el renderer SVG emite como atributo \u003Ccode>id\u003C/code> en el elemento\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"m√©todos-1\">M√©todos\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>M√©todo\u003C/th>\u003Cth>Firma\u003C/th>\u003Cth>Retorno\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>addComponent\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>addComponent(component: Component)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Adjunta un componente. Si ya existe uno del mismo tipo, lo reemplaza. Establece \u003Ccode>component.node = this\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>getComponent&#x3C;T>\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>getComponent&#x3C;T>(type: ComponentType)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>T | undefined\u003C/code>\u003C/td>\u003Ctd>Obtiene un componente por tipo, casteado al tipo gen√©rico\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>hasComponent\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>hasComponent(type: ComponentType)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>boolean\u003C/code>\u003C/td>\u003Ctd>Verifica si existe un componente de ese tipo\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>add\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>add(node: Node)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Agrega un hijo. Si el nodo ya tiene padre, lo remueve primero (re-parenting)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>remove\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>remove(node: Node)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Remueve un hijo. Establece \u003Ccode>node.parent = null\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>updateWorldMatrix\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>updateWorldMatrix(parentMatrix?: Matrix4)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>Recalcula la world matrix y propaga a los hijos recursivamente\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>traverse\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>traverse(callback: (node: Node) => void)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>void\u003C/code>\u003C/td>\u003Ctd>DFS pre-order sobre este nodo y todos los descendientes\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>findNodeById\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>findNodeById(id: string)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node | undefined\u003C/code>\u003C/td>\u003Ctd>B√∫squeda recursiva por UUID\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>findNodeByName\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>findNodeByName(name: string)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node | undefined\u003C/code>\u003C/td>\u003Ctd>B√∫squeda recursiva por nombre. Retorna el primero encontrado\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"ejemplo-completo\">Ejemplo completo\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> player\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'player'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">player.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">player.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Composici√≥n jer√°rquica\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> weapon\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'weapon'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">weapon.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">weapon.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">player.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(weapon); \u003C/span>\u003Cspan style=\"color:#6A737D\">// weapon es hijo de player\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Consultar componentes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> geo\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> player.\u003C/span>\u003Cspan style=\"color:#B392F0\">getComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">Geometry\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(ComponentType.Geometry);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(geo?.definition); \u003C/span>\u003Cspan style=\"color:#6A737D\">// { type: 'Box', width: 0.5, ... }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(player.\u003C/span>\u003Cspan style=\"color:#B392F0\">hasComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(ComponentType.Camera)); \u003C/span>\u003Cspan style=\"color:#6A737D\">// false\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Re-parenting: mover weapon a otro nodo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> chest\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'chest'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">chest.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(weapon); \u003C/span>\u003Cspan style=\"color:#6A737D\">// se remueve autom√°ticamente de player\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(weapon.parent?.name); \u003C/span>\u003Cspan style=\"color:#6A737D\">// 'chest'\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"component-base-abstracta\">\u003Ccode>Component\u003C/code> (base abstracta)\u003C/h3>\n\u003Cp>Clase base para todos los componentes del sistema ECS.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Component.ts\">Component.ts\u003C/a>\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">classDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    class Component {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;&#x3C;abstract>>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +abstract readonly type: ComponentType\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +node: Node | null\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    class Transform {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +type = ComponentType.Transform\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +position: Vec3\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +rotation: Quat\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +scale: Vec3\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +localMatrix: Matrix4\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +worldMatrix: Matrix4\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +isDirty: boolean\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +updateLocalMatrix(): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    class Geometry {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +type = ComponentType.Geometry\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +definition: GeometryDef\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    class Material {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +type = ComponentType.Material\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +definition: MaterialDef\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    class Camera {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +type = ComponentType.Camera\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +definition: CameraDef\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    class Animation {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +type = ComponentType.Animation\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +animations: SvgAnimationDef[]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Component &#x3C;|-- Transform\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Component &#x3C;|-- Geometry\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Component &#x3C;|-- Material\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Component &#x3C;|-- Camera\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Component &#x3C;|-- Animation\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"componenttype-enum\">\u003Ccode>ComponentType\u003C/code> (Enum)\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Valor\u003C/th>\u003Cth>String\u003C/th>\u003Cth>Usado por\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Transform'\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Transform\u003C/code> ‚Äî autom√°tico en cada \u003Ccode>Node\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Geometry\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Geometry'\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Geometry\u003C/code> ‚Äî define la forma\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Material'\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Material\u003C/code> ‚Äî define la apariencia\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Camera'\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Camera\u003C/code> ‚Äî define el punto de vista\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Interactive\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Interactive'\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Interactive\u003C/code> ‚Äî habilita eventos de interacci√≥n\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Animation\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Animation'\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Animation\u003C/code> ‚Äî animaciones SVG nativas\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Regla ECS:\u003C/strong> Cada nodo puede tener \u003Cstrong>m√°ximo un componente\u003C/strong> de cada tipo. Agregar un segundo componente del mismo tipo reemplaza al anterior.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch3 id=\"transform-componente\">\u003Ccode>Transform\u003C/code> (Componente)\u003C/h3>\n\u003Cp>Define la posici√≥n, rotaci√≥n y escala de un nodo en espacio 3D. Se crea \u003Cstrong>autom√°ticamente\u003C/strong> con cada \u003Ccode>Node\u003C/code>.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Transform.ts\">Transform.ts\u003C/a>\u003C/p>\n\u003Ch4 id=\"propiedades-2\">Propiedades\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Propiedad\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>position\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Vec3\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{ x: 0, y: 0, z: 0 }\u003C/code>\u003C/td>\u003Ctd>Traslaci√≥n en espacio local\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>rotation\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Quat\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{ x: 0, y: 0, z: 0, w: 1 }\u003C/code>\u003C/td>\u003Ctd>Rotaci√≥n como quaternion (identidad = sin rotaci√≥n)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>scale\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Vec3\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>{ x: 1, y: 1, z: 1 }\u003C/code>\u003C/td>\u003Ctd>Escala en espacio local\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>localMatrix\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Matrix4\u003C/code>\u003C/td>\u003Ctd>Identidad\u003C/td>\u003Ctd>Matriz de transformaci√≥n local (calculada)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>worldMatrix\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Matrix4\u003C/code>\u003C/td>\u003Ctd>Identidad\u003C/td>\u003Ctd>Matriz de transformaci√≥n en espacio mundo (calculada)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>isDirty\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>true\u003C/code>\u003C/td>\u003Ctd>Indica si la matriz necesita recalcularse\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"m√©todos-2\">M√©todos\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>M√©todo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>updateLocalMatrix()\u003C/code>\u003C/td>\u003Ctd>Recalcula \u003Ccode>localMatrix\u003C/code> a partir de \u003Ccode>position\u003C/code>, \u003Ccode>rotation\u003C/code> y \u003Ccode>scale\u003C/code>. Marca \u003Ccode>isDirty = true\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"pipeline-de-transformaci√≥n\">Pipeline de transformaci√≥n\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    A[\"position + rotation + scale\"] -->|\"updateLocalMatrix()\"| B[\"localMatrix\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    B -->|\"√ó parent.worldMatrix\"| C[\"worldMatrix\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    C -->|\"renderer reads\"| D[\"Posici√≥n final en pantalla\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"gu√≠a-r√°pida-de-quaterniones\">Gu√≠a r√°pida de quaterniones\u003C/h4>\n\u003Cp>Los quaterniones \u003Ccode>{ x, y, z, w }\u003C/code> representan rotaciones 3D sin gimbal lock.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Rotaci√≥n deseada\u003C/th>\u003Cth>Quaternion\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Sin rotaci√≥n\u003C/td>\u003Ctd>\u003Ccode>{ x: 0, y: 0, z: 0, w: 1 }\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>90¬∞ en eje Y\u003C/td>\u003Ctd>\u003Ccode>{ x: 0, y: 0.707, z: 0, w: 0.707 }\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>180¬∞ en eje Y\u003C/td>\u003Ctd>\u003Ccode>{ x: 0, y: 1, z: 0, w: 0 }\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Œ∏ grados en eje Y\u003C/td>\u003Ctd>\u003Ccode>{ x: 0, y: sin(Œ∏/2), z: 0, w: cos(Œ∏/2) }\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Œ∏ grados en eje X\u003C/td>\u003Ctd>\u003Ccode>{ x: sin(Œ∏/2), y: 0, z: 0, w: cos(Œ∏/2) }\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Œ∏ grados en eje Z\u003C/td>\u003Ctd>\u003Ccode>{ x: 0, y: 0, z: sin(Œ∏/2), w: cos(Œ∏/2) }\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>F√≥rmula:\u003C/strong> Para rotar \u003Ccode>Œ∏\u003C/code> radianes alrededor del eje unitario \u003Ccode>(ax, ay, az)\u003C/code>:\r\n\u003Ccode>{ x: ax * sin(Œ∏/2), y: ay * sin(Œ∏/2), z: az * sin(Œ∏/2), w: cos(Œ∏/2) }\u003C/code>\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch3 id=\"geometry-componente\">\u003Ccode>Geometry\u003C/code> (Componente)\u003C/h3>\n\u003Cp>Define la forma geom√©trica de un nodo.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Geometry.ts\">Geometry.ts\u003C/a>\u003C/p>\n\u003Ch4 id=\"constructor-2\">Constructor\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Geometry\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(definition: GeometryDef)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"geometryprimitive-enum\">\u003Ccode>GeometryPrimitive\u003C/code> (Enum)\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Valor\u003C/th>\u003Cth>String\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Box\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Box'\u003C/code>\u003C/td>\u003Ctd>Paralelep√≠pedo (cubo, caja)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Sphere\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Sphere'\u003C/code>\u003C/td>\u003Ctd>Esfera UV\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Path2D\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Path2D'\u003C/code>\u003C/td>\u003Ctd>Path vectorial 2D (para SVG)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Text\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Text'\u003C/code>\u003C/td>\u003Ctd>Texto SVG\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"geometrydef-union-type\">\u003Ccode>GeometryDef\u003C/code> (Union type)\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    GD[\"GeometryDef\"] -->|\"type = 'Box'\"| Box[\"BoxGeometryDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    GD -->|\"type = 'Sphere'\"| Sphere[\"SphereGeometryDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    GD -->|\"type = 'Path2D'\"| Path[\"Path2DGeometryDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    GD -->|\"type = 'Text'\"| Text[\"TextGeometryDef\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"boxgeometrydef\">\u003Ccode>BoxGeometryDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GeometryPrimitive.Box\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>width\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Ancho (eje X)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>height\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Alto (eje Y)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>depth\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Profundidad (eje Z)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"spheregeometrydef\">\u003Ccode>SphereGeometryDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GeometryPrimitive.Sphere\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>radius\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Radio de la esfera\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>widthSegments\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Segmentos horizontales (meridianos)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>heightSegments\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Segmentos verticales (paralelos)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Tip:\u003C/strong> M√°s segmentos = esfera m√°s suave. Valores comunes: 16 (baja calidad), 32 (est√°ndar), 64 (alta calidad).\u003C/p>\n\u003C/blockquote>\n\u003Ch4 id=\"path2dgeometrydef\">\u003Ccode>Path2DGeometryDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GeometryPrimitive.Path2D\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>path\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Path2DCommand[]\u003C/code>\u003C/td>\u003Ctd>Array de comandos SVG-like\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"path2dcommand\">\u003Ccode>Path2DCommand\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>command\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Comando SVG: \u003Ccode>'M'\u003C/code>, \u003Ccode>'L'\u003C/code>, \u003Ccode>'C'\u003C/code>, \u003Ccode>'Q'\u003C/code>, \u003Ccode>'Z'\u003C/code>, etc.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>args\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number[]\u003C/code>\u003C/td>\u003Ctd>Argumentos num√©ricos del comando\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>\u003Cstrong>Comandos SVG soportados:\u003C/strong>\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Comando\u003C/th>\u003Cth>Argumentos\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>M\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>[x, y]\u003C/code>\u003C/td>\u003Ctd>Move to ‚Äî mover sin dibujar\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>L\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>[x, y]\u003C/code>\u003C/td>\u003Ctd>Line to ‚Äî l√≠nea recta\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>C\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>[cx1, cy1, cx2, cy2, x, y]\u003C/code>\u003C/td>\u003Ctd>Cubic B√©zier\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Q\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>[cx, cy, x, y]\u003C/code>\u003C/td>\u003Ctd>Quadratic B√©zier\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>A\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>[rx, ry, rotation, largeArc, sweep, x, y]\u003C/code>\u003C/td>\u003Ctd>Arc\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Z\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>[]\u003C/code>\u003C/td>\u003Ctd>Close path ‚Äî cerrar el camino\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"textgeometrydef\">\u003Ccode>TextGeometryDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GeometryPrimitive.Text\u003C/code>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>text\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Contenido del texto\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fontSize\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>16\u003C/code>\u003C/td>\u003Ctd>Tama√±o de fuente (px)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fontFamily\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'sans-serif'\u003C/code>\u003C/td>\u003Ctd>Familia tipogr√°fica\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fontWeight\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'normal'\u003C/code>\u003C/td>\u003Ctd>Peso: \u003Ccode>'normal'\u003C/code>, \u003Ccode>'bold'\u003C/code>, \u003Ccode>'100'\u003C/code>‚Äì\u003Ccode>'900'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>textAnchor\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'start'\u003C/code>\u003C/td>\u003Ctd>Alineaci√≥n horizontal: \u003Ccode>'start'\u003C/code>, \u003Ccode>'middle'\u003C/code>, \u003Ccode>'end'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dominantBaseline\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'auto'\u003C/code>\u003C/td>\u003Ctd>Alineaci√≥n vertical: \u003Ccode>'auto'\u003C/code>, \u003Ccode>'middle'\u003C/code>, \u003Ccode>'hanging'\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"compatibilidad-con-renderers\">Compatibilidad con renderers\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>GeometryDef\u003C/th>\u003Cth>Three.js\u003C/th>\u003Cth>SVG\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>BoxGeometryDef\u003C/code>\u003C/td>\u003Ctd>‚úÖ ‚Üí \u003Ccode>THREE.BoxGeometry\u003C/code>\u003C/td>\u003Ctd>‚úÖ ‚Üí \u003Ccode>&#x3C;rect>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SphereGeometryDef\u003C/code>\u003C/td>\u003Ctd>‚úÖ ‚Üí \u003Ccode>THREE.SphereGeometry\u003C/code>\u003C/td>\u003Ctd>‚úÖ ‚Üí \u003Ccode>&#x3C;circle>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Path2DGeometryDef\u003C/code>\u003C/td>\u003Ctd>‚ùå ignorado\u003C/td>\u003Ctd>‚úÖ ‚Üí \u003Ccode>&#x3C;path d=\"...\">\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>TextGeometryDef\u003C/code>\u003C/td>\u003Ctd>‚ùå ignorado\u003C/td>\u003Ctd>‚úÖ ‚Üí \u003Ccode>&#x3C;text>\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch3 id=\"material-componente\">\u003Ccode>Material\u003C/code> (Componente)\u003C/h3>\n\u003Cp>Define la apariencia visual de un nodo.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Material.ts\">Material.ts\u003C/a>\u003C/p>\n\u003Ch4 id=\"constructor-3\">Constructor\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(definition\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> MaterialDef)  \u003C/span>\u003Cspan style=\"color:#6A737D\">// default: {}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"colorrgb\">\u003Ccode>ColorRGB\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Rango\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>r\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>0.0 ‚Äì 1.0\u003C/td>\u003Ctd>Componente rojo\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>g\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>0.0 ‚Äì 1.0\u003C/td>\u003Ctd>Componente verde\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>b\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>0.0 ‚Äì 1.0\u003C/td>\u003Ctd>Componente azul\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Conversi√≥n:\u003C/strong> Para convertir de hex \u003Ccode>#3399ff\u003C/code> a RGB normalizado: \u003Ccode>{ r: 0x33/255, g: 0x99/255, b: 0xff/255 }\u003C/code> ‚Üí \u003Ccode>{ r: 0.2, g: 0.6, b: 1.0 }\u003C/code>\u003C/p>\n\u003C/blockquote>\n\u003Ch4 id=\"materialdef\">\u003Ccode>MaterialDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Usado por\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>color\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>ColorRGB\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Three.js\u003C/td>\u003Ctd>Color de la superficie para renderizado 3D\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>opacity\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Three.js, SVG\u003C/td>\u003Ctd>Opacidad: 0 (transparente) a 1 (opaco). Activa transparencia autom√°ticamente si &#x3C; 1\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>ColorRGB\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>Color de relleno para paths 2D\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stroke\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>ColorRGB\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>Color del trazo para paths 2D\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>strokeWidth\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>Ancho del trazo en p√≠xeles\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fillGradient\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GradientDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>Gradiente para relleno. Tiene prioridad sobre \u003Ccode>fill\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>strokeGradient\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GradientDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>Gradiente para trazo. Tiene prioridad sobre \u003Ccode>stroke\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>filter\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SvgFilterDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>Filtro SVG (blur, drop-shadow). Genera un \u003Ccode>&#x3C;filter>\u003C/code> en \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>clipPath\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SvgClipPathDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>Recorte vectorial. Genera un \u003Ccode>&#x3C;clipPath>\u003C/code> en \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>mask\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SvgMaskDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>SVG\u003C/td>\u003Ctd>M√°scara de luminancia. Genera un \u003Ccode>&#x3C;mask>\u003C/code> en \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"gradientdef-union-type\">\u003Ccode>GradientDef\u003C/code> (Union type)\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> GradientDef\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> LinearGradientDef\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#B392F0\"> RadialGradientDef\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"svg-filters-svgfilterdef\">SVG Filters (\u003Ccode>SvgFilterDef\u003C/code>)\u003C/h4>\n\u003Cp>Permite aplicar filtros SVG nativos a un nodo.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">interface\u003C/span>\u003Cspan style=\"color:#B392F0\"> SvgFilterDef\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  effects\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> SvgFilterEffect\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> SvgFilterEffect\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> SvgBlurEffect\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#B392F0\"> SvgDropShadowEffect\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch5 id=\"svgblureffect\">\u003Ccode>SvgBlurEffect\u003C/code>\u003C/h5>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'blur'\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stdDeviation\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Radio de desenfoque gaussiano\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch5 id=\"svgdropshadoweffect\">\u003Ccode>SvgDropShadowEffect\u003C/code>\u003C/h5>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'dropShadow'\u003C/code>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dx\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Desplazamiento horizontal de la sombra\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dy\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Desplazamiento vertical de la sombra\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stdDeviation\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Radio de desenfoque de la sombra\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>floodColor\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Color de la sombra (e.g., \u003Ccode>'black'\u003C/code>, \u003Ccode>'#333'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>floodOpacity\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Opacidad de la sombra (0‚Äì1)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"svgclippathdef\">\u003Ccode>SvgClipPathDef\u003C/code>\u003C/h4>\n\u003Cp>Recorta el nodo a una regi√≥n vectorial definida por un path SVG.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>path\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Path2DCommand[]\u003C/code>\u003C/td>\u003Ctd>Comandos del path de recorte\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"svgmaskdef\">\u003Ccode>SvgMaskDef\u003C/code>\u003C/h4>\n\u003Cp>Aplica una m√°scara de luminancia al nodo.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>path\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Path2DCommand[]\u003C/code>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Comandos del path de la m√°scara\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Color de relleno de la m√°scara (e.g., \u003Ccode>'white'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>opacity\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Opacidad del path de la m√°scara\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"ejemplo-filtros-clip-path-y-m√°scara\">Ejemplo: Filtros, clip-path y m√°scara\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Blur\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> blurred\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  filter: { effects: [{ type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'blur'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, stdDeviation: \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Drop shadow con color personalizado\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> shadowed\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  filter: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    effects: [{ type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'dropShadow'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, dx: \u003C/span>\u003Cspan style=\"color:#79B8FF\">4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, dy: \u003C/span>\u003Cspan style=\"color:#79B8FF\">4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, stdDeviation: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, floodColor: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'#333'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, floodOpacity: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Clip path\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> clipped\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  clipPath: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    path: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'M'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Z'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"lineargradientdef\">\u003Ccode>LinearGradientDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'linear'\u003C/code>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>x1\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>0\u003C/code>\u003C/td>\u003Ctd>Coordenada X inicio (0‚Äì1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>y1\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>0\u003C/code>\u003C/td>\u003Ctd>Coordenada Y inicio (0‚Äì1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>x2\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>1\u003C/code>\u003C/td>\u003Ctd>Coordenada X fin (0‚Äì1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>y2\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>0\u003C/code>\u003C/td>\u003Ctd>Coordenada Y fin (0‚Äì1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stops\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GradientStop[]\u003C/code>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Paradas de color\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"radialgradientdef\">\u003Ccode>RadialGradientDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'radial'\u003C/code>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>cx\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>0.5\u003C/code>\u003C/td>\u003Ctd>Centro X (0‚Äì1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>cy\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>0.5\u003C/code>\u003C/td>\u003Ctd>Centro Y (0‚Äì1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>r\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>0.5\u003C/code>\u003C/td>\u003Ctd>Radio (0‚Äì1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fx\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Foco X (0‚Äì1), opcional\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fy\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Foco Y (0‚Äì1), opcional\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stops\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GradientStop[]\u003C/code>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Paradas de color\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"gradientstop\">\u003Ccode>GradientStop\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>offset\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Posici√≥n en el gradiente (0‚Äì1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>color\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>ColorRGB\u003C/code>\u003C/td>\u003Ctd>Color en esta parada\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>opacity\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(opcional)\u003C/em> Opacidad de la parada (0‚Äì1)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"ejemplo-material-para-ambos-renderers\">Ejemplo: Material para ambos renderers\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Material que funciona en 3D y SVG\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> material\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },    \u003C/span>\u003Cspan style=\"color:#6A737D\">// Three.js lo usa como diffuse color\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },      \u003C/span>\u003Cspan style=\"color:#6A737D\">// SVG lo usa como fill\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },    \u003C/span>\u003Cspan style=\"color:#6A737D\">// SVG lo usa como stroke\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  opacity: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"c√≥mo-lo-interpretan-los-renderers\">C√≥mo lo interpretan los renderers\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    MD[\"MaterialDef\"] --> TH{\"Three.js Renderer\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    MD --> SV{\"SVG Renderer\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    TH --> M1[\"MeshStandardMaterial\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    TH -->|\"color\"| M1\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    TH -->|\"opacity + transparent\"| M1\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SV --> M2[\"style attributes\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SV -->|\"fill / fillGradient\"| M2\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SV -->|\"stroke / strokeGradient\"| M2\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SV -->|\"opacity\"| M2\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"camera-componente\">\u003Ccode>Camera\u003C/code> (Componente)\u003C/h3>\n\u003Cp>Define un punto de vista para renderizar la escena. El \u003Ccode>ThreeRenderer\u003C/code> busca autom√°ticamente el primer nodo con \u003Ccode>Camera\u003C/code> al montar la escena.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Camera.ts\">Camera.ts\u003C/a>\u003C/p>\n\u003Ch4 id=\"constructor-4\">Constructor\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(definition: CameraDef)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"cameratype-enum\">\u003Ccode>CameraType\u003C/code> (Enum)\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Valor\u003C/th>\u003Cth>String\u003C/th>\u003Cth>Estado\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Perspective\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Perspective'\u003C/code>\u003C/td>\u003Ctd>‚úÖ Implementado\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Orthographic\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'Orthographic'\u003C/code>\u003C/td>\u003Ctd>‚úÖ Implementado\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"perspectivecameradef\">\u003Ccode>PerspectiveCameraDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003Cth>Valor t√≠pico\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>CameraType.Perspective\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fov\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Campo de visi√≥n en grados\u003C/td>\u003Ctd>45 ‚Äì 90\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>aspect\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Relaci√≥n de aspecto (ancho / alto)\u003C/td>\u003Ctd>\u003Ccode>window.innerWidth / window.innerHeight\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>near\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Plano de corte cercano\u003C/td>\u003Ctd>0.1\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>far\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Plano de corte lejano\u003C/td>\u003Ctd>1000\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"diagrama-de-frustum-perspectiva\">Diagrama de frustum (perspectiva)\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>              far plane\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         /                   \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        /     Visible         \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>       /      Volume           \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>      /      (frustum)          \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>     /                           \\\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>     ‚îú‚îÄ‚îÄ near plane ‚îÄ‚îÄ‚î§\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>              ‚ñ≥\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>           Camera\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>          position\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"ejemplo-de-uso\">Ejemplo de uso\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'main-camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Perspective,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fov: \u003C/span>\u003Cspan style=\"color:#79B8FF\">75\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  aspect: \u003C/span>\u003Cspan style=\"color:#79B8FF\">16\u003C/span>\u003Cspan style=\"color:#F97583\"> /\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1000\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">10\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cam);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"orthographiccameradef\">\u003Ccode>OrthographicCameraDef\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003Cth>Valor t√≠pico\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>CameraType.Orthographic\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>left\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Borde izquierdo del frustum\u003C/td>\u003Ctd>\u003Ccode>-400\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>right\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Borde derecho del frustum\u003C/td>\u003Ctd>\u003Ccode>400\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>top\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Borde superior del frustum\u003C/td>\u003Ctd>\u003Ccode>-300\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>bottom\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Borde inferior del frustum\u003C/td>\u003Ctd>\u003Ccode>300\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>near\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Plano de corte cercano\u003C/td>\u003Ctd>\u003Ccode>0.1\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>far\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>Plano de corte lejano\u003C/td>\u003Ctd>\u003Ccode>1000\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>SVG:\u003C/strong> Cuando una escena tiene un nodo con \u003Ccode>OrthographicCameraDef\u003C/code>, el renderer SVG calcula autom√°ticamente el \u003Ccode>viewBox\u003C/code> a partir de \u003Ccode>left\u003C/code>, \u003Ccode>right\u003C/code>, \u003Ccode>top\u003C/code> y \u003Ccode>bottom\u003C/code>, m√°s el offset de posici√≥n de la c√°mara. Un \u003Ccode>viewBox\u003C/code> expl√≠cito en las opciones tiene prioridad.\u003C/p>\n\u003C/blockquote>\n\u003Ch4 id=\"ejemplo-c√°mara-ortogr√°fica-para-svg\">Ejemplo: C√°mara ortogr√°fica para SVG\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'ortho-cam'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Orthographic,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  left: \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, right: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  top: \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">300\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, bottom: \u003C/span>\u003Cspan style=\"color:#79B8FF\">300\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1000\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">25\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// viewBox se calcula como \"-350 -275 800 600\" (offset por posici√≥n de c√°mara)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> svg\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, { width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">800\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> });\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nota:\u003C/strong> Si no se agrega ninguna c√°mara, \u003Ccode>ThreeRenderer\u003C/code> crea un fallback en \u003Ccode>(0, 0, 5)\u003C/code> con FOV 75.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch3 id=\"interactive-componente\">Interactive (componente)\u003C/h3>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Interactive.ts\">Interactive.ts\u003C/a>\u003C/p>\n\u003Cp>Marca un nodo como interactivo, permitiendo que responda a eventos de puntero (click, hover, drag, etc.).\u003C/p>\n\u003Chr>\n\u003Ch3 id=\"animation-componente\">Animation (componente)\u003C/h3>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/components/Animation.ts\">Animation.ts\u003C/a>\u003C/p>\n\u003Cp>Permite agregar animaciones SVG nativas (\u003Ccode>&#x3C;animate>\u003C/code> y \u003Ccode>&#x3C;animateTransform>\u003C/code>) a un nodo. Estas animaciones se ejecutan directamente en el navegador sin JavaScript.\u003C/p>\n\u003Ch4 id=\"constructor-5\">Constructor\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Animation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animations: SvgAnimationDef[])\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"svganimationdef-union-type\">\u003Ccode>SvgAnimationDef\u003C/code> (Union type)\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> SvgAnimationDef\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> SvgAnimateDef\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#B392F0\"> SvgAnimateTransformDef\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"svganimatedef\">\u003Ccode>SvgAnimateDef\u003C/code>\u003C/h4>\n\u003Cp>Genera un elemento \u003Ccode>&#x3C;animate>\u003C/code> que anima un atributo escalar.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'animate'\u003C/code>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>attributeName\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Atributo SVG a animar (e.g., \u003Ccode>'opacity'\u003C/code>, \u003Ccode>'r'\u003C/code>, \u003Ccode>'fill'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>from\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Valor inicial\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>to\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Valor final\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>values\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Lista de valores separados por \u003Ccode>;\u003C/code> (alternativa a from/to)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dur\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Duraci√≥n (e.g., \u003Ccode>'2s'\u003C/code>, \u003Ccode>'500ms'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>repeatCount\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Repeticiones: un n√∫mero o \u003Ccode>'indefinite'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>begin\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Cu√°ndo empieza (e.g., \u003Ccode>'0s'\u003C/code>, \u003Ccode>'click'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Comportamiento al terminar: \u003Ccode>'freeze'\u003C/code> o \u003Ccode>'remove'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>keyTimes\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Tiempos clave separados por \u003Ccode>;\u003C/code> (0‚Äì1)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>keySplines\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Curvas B√©zier para interpolaci√≥n entre keyframes\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>calcMode\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Modo de c√°lculo: \u003Ccode>'linear'\u003C/code>, \u003Ccode>'discrete'\u003C/code>, \u003Ccode>'paced'\u003C/code>, \u003Ccode>'spline'\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"svganimatetransformdef\">\u003Ccode>SvgAnimateTransformDef\u003C/code>\u003C/h4>\n\u003Cp>Genera un elemento \u003Ccode>&#x3C;animateTransform>\u003C/code> que anima una transformaci√≥n geom√©trica.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'animateTransform'\u003C/code>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>transformType\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>‚Äî\u003C/td>\u003Ctd>Tipo de transformaci√≥n: \u003Ccode>'translate'\u003C/code>, \u003Ccode>'scale'\u003C/code>, \u003Ccode>'rotate'\u003C/code>, \u003Ccode>'skewX'\u003C/code>, \u003Ccode>'skewY'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>from\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Valor inicial (e.g., \u003Ccode>'0 50 50'\u003C/code> para rotaci√≥n)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>to\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Valor final\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>values\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Lista de valores separados por \u003Ccode>;\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dur\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Duraci√≥n\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>repeatCount\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Repeticiones\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>begin\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>Cu√°ndo empieza\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'freeze'\u003C/code> o \u003Ccode>'remove'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>additive\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>undefined\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'sum'\u003C/code> para acumular con la transformaci√≥n base\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"ejemplo-1\">Ejemplo\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> circle\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'pulse'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">circle.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">30\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">circle.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">circle.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Animation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Pulsar opacidad\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'animate'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    attributeName: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'opacity'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    values: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'1;0.3;1'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    dur: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'2s'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'indefinite'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Rotar continuamente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'animateTransform'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    transformType: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'rotate'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    from: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'0 50 50'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    to: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'360 50 50'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    dur: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'4s'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'indefinite'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(circle);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">circle\u003C/span>\u003Cspan style=\"color:#B392F0\"> cx\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> cy\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> r\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"30\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> fill\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"rgb(255, 0, 0)\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">animate\u003C/span>\u003Cspan style=\"color:#B392F0\"> attributeName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"opacity\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> values\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"1;0.3;1\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> dur\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"2s\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> repeatCount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"indefinite\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">animateTransform\u003C/span>\u003Cspan style=\"color:#B392F0\"> attributeName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"transform\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"rotate\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    from\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0 50 50\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> to\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"360 50 50\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> dur\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"4s\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> repeatCount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"indefinite\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">circle\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nota:\u003C/strong> Las animaciones SVG nativas solo tienen efecto en el renderer SVG. El renderer Three.js las ignora.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch4 id=\"definici√≥n\">Definici√≥n\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">interface\u003C/span>\u003Cspan style=\"color:#B392F0\"> InteractiveDef\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  enabled\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> boolean\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  cursor\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  blocksRaycast\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> boolean\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>enabled\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>true\u003C/code>\u003C/td>\u003Ctd>Si el nodo responde a eventos\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>cursor\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'pointer'\u003C/code>\u003C/td>\u003Ctd>CSS cursor al hacer hover (e.g., \u003Ccode>'pointer'\u003C/code>, \u003Ccode>'grab'\u003C/code>, \u003Ccode>'move'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>blocksRaycast\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>true\u003C/code>\u003C/td>\u003Ctd>Si bloquea raycasts a objetos detr√°s\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"uso\">Uso\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Node, Interactive, createBox } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> button\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'button'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">button.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">button.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Interactive\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ cursor: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'pointer'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Registrar event handlers\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">button.\u003C/span>\u003Cspan style=\"color:#B392F0\">on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'click'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, (\u003C/span>\u003Cspan style=\"color:#FFAB70\">e\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Clicked!'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, e.target.name);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">button.\u003C/span>\u003Cspan style=\"color:#B392F0\">on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'pointerenter'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, (\u003C/span>\u003Cspan style=\"color:#FFAB70\">e\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Hover started'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">button.\u003C/span>\u003Cspan style=\"color:#B392F0\">on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'pointerleave'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, (\u003C/span>\u003Cspan style=\"color:#FFAB70\">e\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Hover ended'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"integraci√≥n-con-renderers\">Integraci√≥n con renderers\u003C/h4>\n\u003Cul>\n\u003Cli>\u003Cstrong>ThreeRenderer:\u003C/strong> Requiere llamar \u003Ccode>renderer.enableInteraction()\u003C/code> despu√©s de \u003Ccode>mount()\u003C/code>. Usa \u003Ccode>THREE.Raycaster\u003C/code> para hit-testing 3D.\u003C/li>\n\u003Cli>\u003Cstrong>SVG Renderer:\u003C/strong> Usa \u003Ccode>renderToSVGElement()\u003C/code> (no \u003Ccode>renderToSVG()\u003C/code>) para obtener un DOM element con event listeners.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch3 id=\"eventemitter\">EventEmitter\u003C/h3>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/events/EventEmitter.ts\">EventEmitter.ts\u003C/a>\u003C/p>\n\u003Cp>Sistema de eventos gen√©rico con tipado fuerte. Cada \u003Ccode>Node\u003C/code> tiene un \u003Ccode>EventEmitter\u003C/code> interno para manejar \u003Ccode>InteractionEvent\u003C/code>s.\u003C/p>\n\u003Ch4 id=\"api\">API\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">class\u003C/span>\u003Cspan style=\"color:#B392F0\"> EventEmitter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">EventMap\u003C/span>\u003Cspan style=\"color:#F97583\"> extends\u003C/span>\u003Cspan style=\"color:#B392F0\"> Record\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">any\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">K\u003C/span>\u003Cspan style=\"color:#F97583\"> extends\u003C/span>\u003Cspan style=\"color:#F97583\"> keyof\u003C/span>\u003Cspan style=\"color:#B392F0\"> EventMap\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">    eventType\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> K\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    handler\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">payload\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> EventMap\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[\u003C/span>\u003Cspan style=\"color:#B392F0\">K\u003C/span>\u003Cspan style=\"color:#E1E4E8\">]) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  )\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  off\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">K\u003C/span>\u003Cspan style=\"color:#F97583\"> extends\u003C/span>\u003Cspan style=\"color:#F97583\"> keyof\u003C/span>\u003Cspan style=\"color:#B392F0\"> EventMap\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">    eventType\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> K\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    handler\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">payload\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> EventMap\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[\u003C/span>\u003Cspan style=\"color:#B392F0\">K\u003C/span>\u003Cspan style=\"color:#E1E4E8\">]) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  )\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  emit\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">K\u003C/span>\u003Cspan style=\"color:#F97583\"> extends\u003C/span>\u003Cspan style=\"color:#F97583\"> keyof\u003C/span>\u003Cspan style=\"color:#B392F0\"> EventMap\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">    eventType\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> K\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">    payload\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> EventMap\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[\u003C/span>\u003Cspan style=\"color:#B392F0\">K\u003C/span>\u003Cspan style=\"color:#E1E4E8\">]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  )\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  removeAllListeners\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">eventType\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#F97583\"> keyof\u003C/span>\u003Cspan style=\"color:#B392F0\"> EventMap\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  hasListeners\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">eventType\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#F97583\"> keyof\u003C/span>\u003Cspan style=\"color:#B392F0\"> EventMap\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> boolean\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"ejemplo-de-uso-directo\">Ejemplo de uso directo\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { EventEmitter } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> MyEvents\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#9ECBFF\">  'data-loaded'\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">id\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">data\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> any\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#9ECBFF\">  'error'\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">message\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> emitter\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> EventEmitter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">MyEvents\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">emitter.\u003C/span>\u003Cspan style=\"color:#B392F0\">on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'data-loaded'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, (\u003C/span>\u003Cspan style=\"color:#FFAB70\">payload\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Data:'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, payload.data);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">emitter.\u003C/span>\u003Cspan style=\"color:#B392F0\">emit\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'data-loaded'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, { id: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'123'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, data: { foo: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'bar'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } });\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"uso-en-node\">Uso en Node\u003C/h4>\n\u003Cp>Los nodos exponen shortcuts \u003Ccode>on()\u003C/code> y \u003Ccode>off()\u003C/code> que delegan al \u003Ccode>EventEmitter\u003C/code> interno:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> node\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'my-node'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.\u003C/span>\u003Cspan style=\"color:#B392F0\">on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'click'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, (\u003C/span>\u003Cspan style=\"color:#FFAB70\">e\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> InteractionEvent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Clicked at'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, e.screenPosition);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"interactionevent\">InteractionEvent\u003C/h3>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/events/InteractionEvent.ts\">InteractionEvent.ts\u003C/a>\u003C/p>\n\u003Cp>Eventos de interacci√≥n que se disparan cuando el usuario interact√∫a con nodos marcados como \u003Ccode>Interactive\u003C/code>.\u003C/p>\n\u003Ch4 id=\"tipos-de-eventos\">Tipos de eventos\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">enum\u003C/span>\u003Cspan style=\"color:#B392F0\"> InteractionEventType\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  Click\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'click'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  PointerDown\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'pointerdown'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  PointerUp\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'pointerup'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  PointerMove\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'pointermove'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  PointerEnter\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'pointerenter'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  PointerLeave\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'pointerleave'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  PointerCancel\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'pointercancel'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  Wheel\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'wheel'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  DragStart\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'dragstart'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  DragEnd\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'dragend'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"interfaz\">Interfaz\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">interface\u003C/span>\u003Cspan style=\"color:#B392F0\"> InteractionEvent\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  type\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> InteractionEventType\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  target\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;                    \u003C/span>\u003Cspan style=\"color:#6A737D\">// Nodo que recibi√≥ el evento originalmente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  currentTarget\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;             \u003C/span>\u003Cspan style=\"color:#6A737D\">// Nodo actual durante bubbling\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  point\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">x\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">y\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">z\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };  \u003C/span>\u003Cspan style=\"color:#6A737D\">// Posici√≥n 3D en world space\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  localPoint\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">x\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">y\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">z\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };  \u003C/span>\u003Cspan style=\"color:#6A737D\">// Posici√≥n en local space del nodo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  screenPosition\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">x\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">y\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };  \u003C/span>\u003Cspan style=\"color:#6A737D\">// Posici√≥n en pantalla (clientX/Y)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  nativeEvent\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> unknown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;            \u003C/span>\u003Cspan style=\"color:#6A737D\">// Evento DOM original (PointerEvent, MouseEvent, etc.)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  propagationStopped\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> boolean\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  stopPropagation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"event-bubbling\">Event Bubbling\u003C/h4>\n\u003Cp>Los eventos se propagan hacia arriba en el scene graph (de hijo a padre), similar al DOM:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> parent\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'parent'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> child\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'child'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">parent.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(child);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">parent.\u003C/span>\u003Cspan style=\"color:#B392F0\">on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'click'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, (\u003C/span>\u003Cspan style=\"color:#FFAB70\">e\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Parent clicked, target:'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, e.target.name);  \u003C/span>\u003Cspan style=\"color:#6A737D\">// \"child\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Current target:'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, e.currentTarget.name);   \u003C/span>\u003Cspan style=\"color:#6A737D\">// \"parent\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">child.\u003C/span>\u003Cspan style=\"color:#B392F0\">on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'click'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, (\u003C/span>\u003Cspan style=\"color:#FFAB70\">e\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Child clicked'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  e.\u003C/span>\u003Cspan style=\"color:#B392F0\">stopPropagation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();  \u003C/span>\u003Cspan style=\"color:#6A737D\">// Detiene el bubbling\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"factory\">Factory\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> createInteractionEvent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  type\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> InteractionEventType\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  target\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  nativeEvent\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> unknown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  screenPosition\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">x\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">y\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  options\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">    point\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">x\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">y\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">z\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">    localPoint\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">x\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">y\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">z\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> InteractionEvent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"factory-functions\">Factory Functions\u003C/h3>\n\u003Cp>Funciones helper para crear componentes \u003Ccode>Geometry\u003C/code> de forma concisa.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/geometry/primitives.ts\">primitives.ts\u003C/a>\u003C/p>\n\u003Ch4 id=\"createbox\">\u003Ccode>createBox\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">width\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">height\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">depth\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Geometry\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Par√°metro\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>width\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>1\u003C/code>\u003C/td>\u003Ctd>Ancho (eje X)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>height\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>1\u003C/code>\u003C/td>\u003Ctd>Alto (eje Y)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>depth\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>1\u003C/code>\u003C/td>\u003Ctd>Profundidad (eje Z)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cube\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();          \u003C/span>\u003Cspan style=\"color:#6A737D\">// Cubo 1√ó1√ó1\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> plank\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">); \u003C/span>\u003Cspan style=\"color:#6A737D\">// Tabla plana\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"createsphere\">\u003Ccode>createSphere\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">radius\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">widthSegments\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">heightSegments\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Geometry\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Par√°metro\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>radius\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>0.5\u003C/code>\u003C/td>\u003Ctd>Radio de la esfera\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>widthSegments\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>16\u003C/code>\u003C/td>\u003Ctd>Segmentos horizontales\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>heightSegments\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>16\u003C/code>\u003C/td>\u003Ctd>Segmentos verticales\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> ball\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">); \u003C/span>\u003Cspan style=\"color:#6A737D\">// Esfera suave\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> lowpoly\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">); \u003C/span>\u003Cspan style=\"color:#6A737D\">// Esfera facetada\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"createpath2d\">\u003Ccode>createPath2D\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> createPath2D\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">path\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Path2DCommand\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[])\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Geometry\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Par√°metro\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>path\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Path2DCommand[]\u003C/code>\u003C/td>\u003Ctd>Array de comandos SVG\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> triangle\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> createPath2D\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'M'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Z'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">]);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"createtext\">\u003Ccode>createText\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> createText\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">text\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">options\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  fontSize\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  fontFamily\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  fontWeight\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  textAnchor\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  dominantBaseline\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">})\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Geometry\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Par√°metro\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>text\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Contenido del texto\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>options\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>object\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(opcional)\u003C/em> Opciones tipogr√°ficas\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> title\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> createText\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Hello'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, { fontSize: \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, fontFamily: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'monospace'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, textAnchor: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'middle'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> });\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"serializaci√≥n\">Serializaci√≥n\u003C/h3>\n\u003Cp>Funciones para convertir escenas a JSON y reconstruirlas.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/serialization/json.ts\">json.ts\u003C/a>\u003C/p>\n\u003Ch4 id=\"serialize\">\u003Ccode>serialize\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> serialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">scene\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Convierte todo el scene graph a una cadena JSON formateada con indentaci√≥n de 2 espacios.\u003C/p>\n\u003Cp>\u003Cstrong>Componentes soportados en serializaci√≥n:\u003C/strong>\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Componente\u003C/th>\u003Cth>¬øSe serializa?\u003C/th>\u003Cth>Datos incluidos\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>\u003Ccode>position\u003C/code>, \u003Ccode>rotation\u003C/code>, \u003Ccode>scale\u003C/code>, \u003Ccode>localMatrix\u003C/code>, \u003Ccode>worldMatrix\u003C/code>, \u003Ccode>isDirty\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Geometry\u003C/code>\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>\u003Ccode>definition\u003C/code> completo (tipo + par√°metros)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>\u003Ccode>definition\u003C/code> completo (color, opacity, fill, stroke, etc.)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>\u003Ccode>definition\u003C/code> completo (type, fov/aspect/near/far para Perspective; left/right/top/bottom/near/far para Orthographic)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Animation\u003C/code>\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>Array de \u003Ccode>SvgAnimationDef\u003C/code> (animate y animateTransform)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"deserialize\">\u003Ccode>deserialize\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> deserialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">jsonString\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Reconstruye una \u003Ccode>Scene\u003C/code> funcional desde un string JSON.\u003C/p>\n\u003Cp>\u003Cstrong>Comportamiento:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>Los UUIDs de los nodos se \u003Cstrong>preservan\u003C/strong> (mismo ID que el original).\u003C/li>\n\u003Cli>Los campos \u003Ccode>cssClass\u003C/code> y \u003Ccode>cssId\u003C/code> se serializan y restauran.\u003C/li>\n\u003Cli>Todos los componentes (\u003Ccode>Transform\u003C/code>, \u003Ccode>Geometry\u003C/code>, \u003Ccode>Material\u003C/code>, \u003Ccode>Camera\u003C/code>, \u003Ccode>Animation\u003C/code>) se serializan y deserializan correctamente.\u003C/li>\n\u003Cli>El nodo ra√≠z deserializado transfiere sus hijos al ra√≠z de la nueva escena.\u003C/li>\n\u003C/ul>\n\u003Ch4 id=\"formato-del-json\">Formato del JSON\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Root[\"SerializableScene\"] -->|\"root\"| RN[\"SerializableNode\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    RN -->|\"id\"| ID[\"string (UUID)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    RN -->|\"name\"| Name[\"string\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    RN -->|\"components\"| Comps[\"SerializableComponent[]\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    RN -->|\"children\"| Children[\"SerializableNode[]\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Comps --> SC[\"{ type: ComponentType, ...data }\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"root\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"id\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"550e8400-e29b-41d4-a716-446655440000\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"name\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"root\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"components\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Transform\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"position\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"x\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"y\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"z\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"rotation\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"x\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"y\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"z\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"w\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"scale\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"x\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"y\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"z\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"children\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"id\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"6ba7b810-9dad-11d1-80b4-00c04fd430c8\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"name\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"my-box\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"components\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Transform\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"...\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> : \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"...\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Geometry\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"definition\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Box\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"width\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"height\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"depth\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Material\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"definition\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"color\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"r\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"g\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"b\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } } }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"children\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: []\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"math--matrix4\">Math ‚Äî Matrix4\u003C/h3>\n\u003Cp>Utilidades matem√°ticas para transformaciones 3D con matrices 4√ó4.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/math/Matrix4.ts\">Matrix4.ts\u003C/a>\u003C/p>\n\u003Ch4 id=\"matrix4-type\">\u003Ccode>Matrix4\u003C/code> (Type)\u003C/h4>\n\u003Cp>Tupla de 16 n√∫meros en \u003Cstrong>column-major order\u003C/strong> (compatible con WebGL/Three.js):\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> Matrix4\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,  \u003C/span>\u003Cspan style=\"color:#6A737D\">// Columna 0 (Right)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,  \u003C/span>\u003Cspan style=\"color:#6A737D\">// Columna 1 (Up)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,  \u003C/span>\u003Cspan style=\"color:#6A737D\">// Columna 2 (Forward)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#6A737D\">   // Columna 3 (Position)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">];\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Cstrong>Layout de la matriz:\u003C/strong>\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>√çndice:  [ 0]  [ 4]  [ 8]  [12]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         [ 1]  [ 5]  [ 9]  [13]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         [ 2]  [ 6]  [10]  [14]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         [ 3]  [ 7]  [11]  [15]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Significado:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         [Rx]  [Ux]  [Fx]  [Tx]     R = Right (eje X)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         [Ry]  [Uy]  [Fy]  [Ty]     U = Up (eje Y)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         [Rz]  [Uz]  [Fz]  [Tz]     F = Forward (eje Z)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         [ 0]  [ 0]  [ 0]  [ 1]     T = Translation\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"matrix4identity\">\u003Ccode>Matrix4Identity\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> Matrix4Identity\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Readonly\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">Matrix4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">];\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"composematrix\">\u003Ccode>composeMatrix\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> composeMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">position\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Vec3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">quaternion\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Quat\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">scale\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Vec3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Matrix4\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Construye una matriz de transformaci√≥n a partir de posici√≥n, rotaci√≥n (quaternion) y escala. Esta es la funci√≥n usada internamente por \u003Ccode>Transform.updateLocalMatrix()\u003C/code>.\u003C/p>\n\u003Ch4 id=\"multiplymatrices\">\u003Ccode>multiplyMatrices\u003C/code>\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> multiplyMatrices\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">a\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Matrix4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">b\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Matrix4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Matrix4\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Multiplica dos matrices 4√ó4. El orden es importante: \u003Ccode>result = A √ó B\u003C/code> (A se aplica despu√©s de B).\u003C/p>\n\u003Cp>Usada internamente por \u003Ccode>Node.updateWorldMatrix()\u003C/code>:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">worldMatrix \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> multiplyMatrices\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(parent.worldMatrix, \u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.localMatrix)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"math--boundingbox\">Math ‚Äî BoundingBox\u003C/h3>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/core/src/math/BoundingBox.ts\">BoundingBox.ts\u003C/a>\u003C/p>\n\u003Cp>Utilidades para calcular y manipular Axis-Aligned Bounding Boxes (AABB).\u003C/p>\n\u003Ch4 id=\"tipos\">Tipos\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">interface\u003C/span>\u003Cspan style=\"color:#B392F0\"> AABB\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  min\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">x\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">y\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">z\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  max\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">x\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">y\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">z\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"funciones\">Funciones\u003C/h4>\n\u003Ch5 id=\"computelocalaabb\">\u003Ccode>computeLocalAABB\u003C/code>\u003C/h5>\n\u003Cp>Calcula el AABB local basado en la definici√≥n de la geometr√≠a.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> computeLocalAABB\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">def\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> GeometryDef\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> AABB\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>Soporta \u003Ccode>Box\u003C/code>, \u003Ccode>Sphere\u003C/code> y \u003Ccode>Path2D\u003C/code>.\u003C/li>\n\u003Cli>Para \u003Ccode>Path2D\u003C/code>, calcula el bounding box exacto de los puntos de control.\u003C/li>\n\u003C/ul>\n\u003Ch5 id=\"transformaabb\">\u003Ccode>transformAABB\u003C/code>\u003C/h5>\n\u003Cp>Transforma un AABB local al espacio de mundo usando una matriz de transformaci√≥n.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> transformAABB\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">localAABB\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> AABB\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">matrix\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Matrix4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> AABB\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch5 id=\"pointinaabb\">\u003Ccode>pointInAABB\u003C/code>\u003C/h5>\n\u003Cp>Verifica si un punto est√° dentro de un AABB.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> pointInAABB\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">point\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">x\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">y\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">z\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, \u003C/span>\u003Cspan style=\"color:#FFAB70\">aabb\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> AABB\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> boolean\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"oroyarenderer-three\">\u003Ccode>@oroya/renderer-three\u003C/code>\u003C/h2>\n\u003Ch3 id=\"threerenderer\">\u003Ccode>ThreeRenderer\u003C/code>\u003C/h3>\n\u003Cp>Renderer WebGL basado en Three.js.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/renderer-three/src/ThreeRenderer.ts\">ThreeRenderer.ts\u003C/a>\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">classDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    class ThreeRenderer {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        -renderer: THREE.WebGLRenderer\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        -scene: THREE.Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        -activeCamera: THREE.Camera | null\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        -oroyaScene: OroyaScene | null\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        -nodeMap: Map~string, THREE.Object3D~\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +constructor(options: ThreeRendererOptions)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +mount(scene: OroyaScene): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +render(): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +enableInteraction(): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +disableInteraction(): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +dispose(): void\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    class ThreeRendererOptions {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +canvas: HTMLCanvasElement\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +width: number\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +height: number\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        +dpr?: number\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"threerendereroptions\">\u003Ccode>ThreeRendererOptions\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>canvas\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>HTMLCanvasElement\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>El elemento canvas donde se renderiza\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>width\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Ancho del viewport en p√≠xeles\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>height\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Alto del viewport en p√≠xeles\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dpr\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>window.devicePixelRatio\u003C/code>\u003C/td>\u003Ctd>Device pixel ratio para HiDPI\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"m√©todos-3\">M√©todos\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>M√©todo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>mount(scene)\u003C/code>\u003C/td>\u003Ctd>Conecta una \u003Ccode>Scene\u003C/code> de Oroya. Reconstruye internamente los objetos Three.js, busca la primera c√°mara, y agrega luces ambientales. Puede llamarse m√∫ltiples veces\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>render()\u003C/code>\u003C/td>\u003Ctd>Actualiza las matrices del mundo, sincroniza las posiciones de los objetos Three.js con el scene graph de Oroya, y dibuja el frame. Debe llamarse en un \u003Ccode>requestAnimationFrame\u003C/code> loop\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>enableInteraction()\u003C/code>\u003C/td>\u003Ctd>Activa el sistema de interactividad (raycasting, listeners DOM). Debe llamarse despu√©s de \u003Ccode>mount()\u003C/code>.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>disableInteraction()\u003C/code>\u003C/td>\u003Ctd>Desactiva el sistema de interactividad y remueve listeners.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dispose()\u003C/code>\u003C/td>\u003Ctd>Libera los recursos del WebGLRenderer y limpia listeners de interacci√≥n.\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"traducci√≥n-de-componentes\">Traducci√≥n de componentes\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Oroya Component\u003C/th>\u003Cth>Three.js Object\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Node\u003C/code> sin geometr√≠a ni c√°mara\u003C/td>\u003Ctd>\u003Ccode>THREE.Group\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Node\u003C/code> con \u003Ccode>Geometry\u003C/code> (Box)\u003C/td>\u003Ctd>\u003Ccode>THREE.Mesh\u003C/code> + \u003Ccode>THREE.BoxGeometry\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Node\u003C/code> con \u003Ccode>Geometry\u003C/code> (Sphere)\u003C/td>\u003Ctd>\u003Ccode>THREE.Mesh\u003C/code> + \u003Ccode>THREE.SphereGeometry\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Node\u003C/code> con \u003Ccode>Camera\u003C/code> (Perspective)\u003C/td>\u003Ctd>\u003Ccode>THREE.PerspectiveCamera\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code> con \u003Ccode>color\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>THREE.MeshStandardMaterial\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code> con \u003Ccode>opacity &#x3C; 1\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>THREE.MeshStandardMaterial({ transparent: true })\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Sin \u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>THREE.MeshStandardMaterial({ color: 0xcccccc })\u003C/code> (gris por defecto)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"iluminaci√≥n-autom√°tica\">Iluminaci√≥n autom√°tica\u003C/h4>\n\u003Cp>Al montar una escena, el renderer agrega autom√°ticamente:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Luz\u003C/th>\u003Cth>Configuraci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>AmbientLight\u003C/code>\u003C/td>\u003Ctd>Color: blanco, Intensidad: 0.5\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>DirectionalLight\u003C/code>\u003C/td>\u003Ctd>Color: blanco, Intensidad: 1.5, Posici√≥n: \u003Ccode>(2, 5, 3)\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"ejemplo-2\">Ejemplo\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  canvas: document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'canvas'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: window.innerWidth,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  dpr: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// Retina display\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // ... mutate scene ...\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Cleanup\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">dispose\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"oroyarenderer-svg\">\u003Ccode>@oroya/renderer-svg\u003C/code>\u003C/h2>\n\u003Ch3 id=\"rendertosvg\">\u003Ccode>renderToSVG\u003C/code>\u003C/h3>\n\u003Cp>Funci√≥n pura que genera un string SVG a partir de una escena.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/renderer-svg/src/renderSVG.ts\">renderSVG.ts\u003C/a>\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">scene\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">options\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> SvgRenderOptions\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"svgrenderoptions\">\u003Ccode>SvgRenderOptions\u003C/code>\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>width\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Ancho del SVG en p√≠xeles\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>height\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Alto del SVG en p√≠xeles\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>viewBox\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"0 0 {width} {height}\"\u003C/code>\u003C/td>\u003Ctd>viewBox SVG personalizado\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"rendertosvgelement\">\u003Ccode>renderToSVGElement\u003C/code>\u003C/h3>\n\u003Cp>Genera un elemento SVG del DOM (\u003Ccode>SVGSVGElement\u003C/code>) con event listeners para interactividad.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/renderer-svg/src/renderSVG.ts\">renderSVG.ts\u003C/a>\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVGElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  scene\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  options\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> SvgElementRenderOptions\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">svg\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> SVGSVGElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#B392F0\">dispose\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> () \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"svgelementrenderoptions\">\u003Ccode>SvgElementRenderOptions\u003C/code>\u003C/h4>\n\u003Cp>Extiende \u003Ccode>SvgRenderOptions\u003C/code> con:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>container\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>HTMLElement\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(opcional)\u003C/em> Elemento padre donde se adjuntar√° el SVG autom√°ticamente\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"retorno\">Retorno\u003C/h4>\n\u003Cp>Retorna un objeto con:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode>svg\u003C/code>: El elemento DOM SVG creado.\u003C/li>\n\u003Cli>\u003Ccode>dispose()\u003C/code>: Funci√≥n para limpiar event listeners y remover el elemento del DOM.\u003C/li>\n\u003C/ul>\n\u003Ch4 id=\"ejemplo-3\">Ejemplo\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#79B8FF\">dispose\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVGElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">800\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  container: document.body\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// M√°s tarde...\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">dispose\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"comportamiento\">Comportamiento\u003C/h4>\n\u003Col>\n\u003Cli>Llama a \u003Ccode>scene.updateWorldMatrices()\u003C/code> para sincronizar transforms.\u003C/li>\n\u003Cli>Recorre recursivamente el √°rbol de nodos generando \u003Ccode>&#x3C;g>\u003C/code> para la jerarqu√≠a.\u003C/li>\n\u003Cli>Geometr√≠as soportadas: \u003Ccode>Path2D\u003C/code> ‚Üí \u003Ccode>&#x3C;path>\u003C/code>, \u003Ccode>Box\u003C/code> ‚Üí \u003Ccode>&#x3C;rect>\u003C/code>, \u003Ccode>Sphere\u003C/code> ‚Üí \u003Ccode>&#x3C;circle>\u003C/code>, \u003Ccode>Text\u003C/code> ‚Üí \u003Ccode>&#x3C;text>\u003C/code>.\u003C/li>\n\u003Cli>Si el nodo tiene un \u003Ccode>Material\u003C/code>, aplica \u003Ccode>fill\u003C/code>, \u003Ccode>stroke\u003C/code>, \u003Ccode>stroke-width\u003C/code>, \u003Ccode>opacity\u003C/code>, \u003Ccode>fillGradient\u003C/code> y \u003Ccode>strokeGradient\u003C/code>.\u003C/li>\n\u003Cli>Los gradientes generan un bloque \u003Ccode>&#x3C;defs>\u003C/code> al inicio del SVG con \u003Ccode>&#x3C;linearGradient>\u003C/code> / \u003Ccode>&#x3C;radialGradient>\u003C/code>.\u003C/li>\n\u003Cli>El \u003Ccode>localMatrix\u003C/code> de cada nodo se aplica como \u003Ccode>transform=\"matrix(a,b,c,d,e,f)\"\u003C/code>.\u003C/li>\n\u003Cli>Los colores se convierten de RGB normalizado (0‚Äì1) a \u003Ccode>rgb(R, G, B)\u003C/code> con valores 0‚Äì255.\u003C/li>\n\u003C/ol>\n\u003Ch4 id=\"ejemplo-4\">Ejemplo\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-svg'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> svg\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">800\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  viewBox: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'0 0 800 600'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Insertar en el DOM\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">document.body.innerHTML \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> svg;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// O guardar como archivo en Node.js\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { writeFileSync } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'fs'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">writeFileSync\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'output.svg'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, svg);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Ventaja clave:\u003C/strong> Esta funci√≥n es \u003Cstrong>pura\u003C/strong> y no requiere DOM. Funciona en Node.js para server-side rendering.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"oroyaloader-gltf\">\u003Ccode>@oroya/loader-gltf\u003C/code>\u003C/h2>\n\u003Ch3 id=\"loadgltf\">\u003Ccode>loadGLTF\u003C/code>\u003C/h3>\n\u003Cp>Carga un archivo glTF/GLB y lo traduce al scene graph de Oroya.\u003C/p>\n\u003Cp>\u003Cstrong>Archivo fuente:\u003C/strong> \u003Ca href=\"file:///c:/devfiles/personal-projects/oroya-animate/packages/loader-gltf/src/loadGLTF.ts\">loadGLTF.ts\u003C/a>\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">async\u003C/span>\u003Cspan style=\"color:#F97583\"> function\u003C/span>\u003Cspan style=\"color:#B392F0\"> loadGLTF\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">url\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Promise\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Par√°metro\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>url\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>URL del archivo .gltf o .glb\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"traducci√≥n-simplificada--v03\">Traducci√≥n (simplificada ‚Äî v0.3)\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>glTF Element\u003C/th>\u003Cth>Oroya Node\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>THREE.Object3D\u003C/code> (cualquiera)\u003C/td>\u003Ctd>\u003Ccode>Node\u003C/code> con posici√≥n/rotaci√≥n/escala del objeto\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>THREE.Mesh\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Node\u003C/code> + \u003Ccode>createBox(1,1,1)\u003C/code> (placeholder) + \u003Ccode>Material\u003C/code> con color si disponible\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Hijos del objeto\u003C/td>\u003Ctd>Nodos hijos recursivos\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>‚ö†Ô∏è Limitaciones actuales:\u003C/strong> La geometr√≠a real del glTF no se traduce ‚Äî se usa un box placeholder. Los materiales solo extraen el color base. Las animaciones no se importan. Esto se mejorar√° en v0.4.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"mapa-completo-de-tipos\">Mapa completo de tipos\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Tipos base\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Vec3[\"Vec3 {x, y, z}\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Quat[\"Quat {x, y, z, w}\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ColorRGB[\"ColorRGB {r, g, b}\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        M4[\"Matrix4 (16-tuple)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Geometry types\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        GD[\"GeometryDef (union)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        GD --> BGD[\"BoxGeometryDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        GD --> SGD[\"SphereGeometryDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        GD --> PGD[\"Path2DGeometryDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        PGD --> P2DC[\"Path2DCommand\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Material types\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        MatD[\"MaterialDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        MatD -.-> ColorRGB\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Camera types\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        CD[\"CameraDef (union)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        CD --> PCD[\"PerspectiveCameraDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        CD --> OCD[\"OrthographicCameraDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Animation types\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        AD[\"SvgAnimationDef (union)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        AD --> SAD[\"SvgAnimateDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        AD --> SATD[\"SvgAnimateTransformDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Filter types\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        FD[\"SvgFilterDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        FD --> FE[\"SvgFilterEffect (union)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        FE --> BL[\"SvgBlurEffect\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        FE --> DS[\"SvgDropShadowEffect\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        CPD[\"SvgClipPathDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        MKD[\"SvgMaskDef\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Enums\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        CT[\"ComponentType\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        GP[\"GeometryPrimitive\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        CamT[\"CameraType\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    subgraph \"Serialization\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        SScene[\"SerializableScene\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        SNode[\"SerializableNode\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        SComp[\"SerializableComponent\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        SScene --> SNode\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        SNode --> SComp\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        SNode -->|\"children\"| SNode\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"tabla-resumen-de-todos-los-exports\">Tabla resumen de todos los exports\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Export\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Categor√≠a\u003C/th>\u003Cth>Paquete\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Scene\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Scene graph\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Node\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Scene graph\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Component\u003C/code>\u003C/td>\u003Ctd>abstract class\u003C/td>\u003Ctd>ECS\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>ComponentType\u003C/code>\u003C/td>\u003Ctd>enum\u003C/td>\u003Ctd>ECS\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Vec3\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Quat\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Geometry\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>GeometryPrimitive\u003C/code>\u003C/td>\u003Ctd>enum\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>BoxGeometryDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SphereGeometryDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Path2DGeometryDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Path2DCommand\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>GeometryDef\u003C/code>\u003C/td>\u003Ctd>type alias\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>ColorRGB\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>MaterialDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>CameraType\u003C/code>\u003C/td>\u003Ctd>enum\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>PerspectiveCameraDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>CameraDef\u003C/code>\u003C/td>\u003Ctd>type alias\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>OrthographicCameraDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Interactive\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Animation\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Components\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgAnimateDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgAnimateTransformDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgAnimationDef\u003C/code>\u003C/td>\u003Ctd>type alias\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgFilterDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgFilterEffect\u003C/code>\u003C/td>\u003Ctd>type alias\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgBlurEffect\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgDropShadowEffect\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgClipPathDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SvgMaskDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>createBox\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Factory\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>createSphere\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Factory\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>createPath2D\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Factory\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>serialize\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Serialization\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>deserialize\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Serialization\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Matrix4\u003C/code>\u003C/td>\u003Ctd>type alias\u003C/td>\u003Ctd>Math\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Matrix4Identity\u003C/code>\u003C/td>\u003Ctd>constant\u003C/td>\u003Ctd>Math\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>composeMatrix\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Math\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>multiplyMatrices\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Math\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>ThreeRenderer\u003C/code>\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>Rendering\u003C/td>\u003Ctd>\u003Ccode>@oroya/renderer-three\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>renderToSVG\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Rendering\u003C/td>\u003Ctd>\u003Ccode>@oroya/renderer-svg\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>renderToSVGElement\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Rendering\u003C/td>\u003Ctd>\u003Ccode>@oroya/renderer-svg\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>TextGeometryDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>GradientDef\u003C/code>\u003C/td>\u003Ctd>type alias\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>LinearGradientDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>RadialGradientDef\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>GradientStop\u003C/code>\u003C/td>\u003Ctd>interface\u003C/td>\u003Ctd>Types\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>createText\u003C/code>\u003C/td>\u003Ctd>function\u003C/td>\u003Ctd>Factory\u003C/td>\u003Ctd>\u003Ccode>@oroya/core\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>loadGLTF\u003C/code>\u003C/td>\u003Ctd>async function\u003C/td>\u003Ctd>Loading\u003C/td>\u003Ctd>\u003Ccode>@oroya/loader-gltf\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>",{"headings":278,"localImagePaths":610,"remoteImagePaths":611,"frontmatter":612,"imagePaths":613},[279,280,281,284,287,290,293,294,298,301,304,307,310,312,314,316,319,322,325,328,330,332,335,338,341,343,346,349,352,355,358,361,364,367,370,372,375,378,381,384,388,391,394,397,400,403,406,409,412,415,418,420,423,426,429,432,435,438,441,444,446,449,452,455,457,460,463,466,469,472,475,478,481,484,487,490,493,496,499,502,505,508,511,513,515,518,521,524,527,530,533,536,539,542,545,548,551,554,557,560,562,565,568,570,573,576,579,582,585,588,590,593,595,598,601,604,607],{"depth":26,"slug":265,"text":268},{"depth":16,"slug":89,"text":90},{"depth":16,"slug":282,"text":283},"visi√≥n-general-de-la-arquitectura","Visi√≥n general de la arquitectura",{"depth":36,"slug":285,"text":286},"flujo-de-datos","Flujo de datos",{"depth":16,"slug":288,"text":289},"oroyacore","@oroya/core",{"depth":36,"slug":291,"text":292},"exports-completos","Exports completos",{"depth":36,"slug":205,"text":206},{"depth":295,"slug":296,"text":297},4,"constructor","Constructor",{"depth":295,"slug":299,"text":300},"propiedades","Propiedades",{"depth":295,"slug":302,"text":303},"m√©todos","M√©todos",{"depth":295,"slug":305,"text":306},"ejemplo","Ejemplo",{"depth":36,"slug":308,"text":309},"node","Node",{"depth":295,"slug":311,"text":297},"constructor-1",{"depth":295,"slug":313,"text":300},"propiedades-1",{"depth":295,"slug":315,"text":303},"m√©todos-1",{"depth":295,"slug":317,"text":318},"ejemplo-completo","Ejemplo completo",{"depth":36,"slug":320,"text":321},"component-base-abstracta","Component (base abstracta)",{"depth":295,"slug":323,"text":324},"componenttype-enum","ComponentType (Enum)",{"depth":36,"slug":326,"text":327},"transform-componente","Transform (Componente)",{"depth":295,"slug":329,"text":300},"propiedades-2",{"depth":295,"slug":331,"text":303},"m√©todos-2",{"depth":295,"slug":333,"text":334},"pipeline-de-transformaci√≥n","Pipeline de transformaci√≥n",{"depth":295,"slug":336,"text":337},"gu√≠a-r√°pida-de-quaterniones","Gu√≠a r√°pida de quaterniones",{"depth":36,"slug":339,"text":340},"geometry-componente","Geometry (Componente)",{"depth":295,"slug":342,"text":297},"constructor-2",{"depth":295,"slug":344,"text":345},"geometryprimitive-enum","GeometryPrimitive (Enum)",{"depth":295,"slug":347,"text":348},"geometrydef-union-type","GeometryDef (Union type)",{"depth":295,"slug":350,"text":351},"boxgeometrydef","BoxGeometryDef",{"depth":295,"slug":353,"text":354},"spheregeometrydef","SphereGeometryDef",{"depth":295,"slug":356,"text":357},"path2dgeometrydef","Path2DGeometryDef",{"depth":295,"slug":359,"text":360},"path2dcommand","Path2DCommand",{"depth":295,"slug":362,"text":363},"textgeometrydef","TextGeometryDef",{"depth":295,"slug":365,"text":366},"compatibilidad-con-renderers","Compatibilidad con renderers",{"depth":36,"slug":368,"text":369},"material-componente","Material (Componente)",{"depth":295,"slug":371,"text":297},"constructor-3",{"depth":295,"slug":373,"text":374},"colorrgb","ColorRGB",{"depth":295,"slug":376,"text":377},"materialdef","MaterialDef",{"depth":295,"slug":379,"text":380},"gradientdef-union-type","GradientDef (Union type)",{"depth":295,"slug":382,"text":383},"svg-filters-svgfilterdef","SVG Filters (SvgFilterDef)",{"depth":385,"slug":386,"text":387},5,"svgblureffect","SvgBlurEffect",{"depth":385,"slug":389,"text":390},"svgdropshadoweffect","SvgDropShadowEffect",{"depth":295,"slug":392,"text":393},"svgclippathdef","SvgClipPathDef",{"depth":295,"slug":395,"text":396},"svgmaskdef","SvgMaskDef",{"depth":295,"slug":398,"text":399},"ejemplo-filtros-clip-path-y-m√°scara","Ejemplo: Filtros, clip-path y m√°scara",{"depth":295,"slug":401,"text":402},"lineargradientdef","LinearGradientDef",{"depth":295,"slug":404,"text":405},"radialgradientdef","RadialGradientDef",{"depth":295,"slug":407,"text":408},"gradientstop","GradientStop",{"depth":295,"slug":410,"text":411},"ejemplo-material-para-ambos-renderers","Ejemplo: Material para ambos renderers",{"depth":295,"slug":413,"text":414},"c√≥mo-lo-interpretan-los-renderers","C√≥mo lo interpretan los renderers",{"depth":36,"slug":416,"text":417},"camera-componente","Camera (Componente)",{"depth":295,"slug":419,"text":297},"constructor-4",{"depth":295,"slug":421,"text":422},"cameratype-enum","CameraType (Enum)",{"depth":295,"slug":424,"text":425},"perspectivecameradef","PerspectiveCameraDef",{"depth":295,"slug":427,"text":428},"diagrama-de-frustum-perspectiva","Diagrama de frustum (perspectiva)",{"depth":295,"slug":430,"text":431},"ejemplo-de-uso","Ejemplo de uso",{"depth":295,"slug":433,"text":434},"orthographiccameradef","OrthographicCameraDef",{"depth":295,"slug":436,"text":437},"ejemplo-c√°mara-ortogr√°fica-para-svg","Ejemplo: C√°mara ortogr√°fica para SVG",{"depth":36,"slug":439,"text":440},"interactive-componente","Interactive (componente)",{"depth":36,"slug":442,"text":443},"animation-componente","Animation (componente)",{"depth":295,"slug":445,"text":297},"constructor-5",{"depth":295,"slug":447,"text":448},"svganimationdef-union-type","SvgAnimationDef (Union type)",{"depth":295,"slug":450,"text":451},"svganimatedef","SvgAnimateDef",{"depth":295,"slug":453,"text":454},"svganimatetransformdef","SvgAnimateTransformDef",{"depth":295,"slug":456,"text":306},"ejemplo-1",{"depth":295,"slug":458,"text":459},"definici√≥n","Definici√≥n",{"depth":295,"slug":461,"text":462},"uso","Uso",{"depth":295,"slug":464,"text":465},"integraci√≥n-con-renderers","Integraci√≥n con renderers",{"depth":36,"slug":467,"text":468},"eventemitter","EventEmitter",{"depth":295,"slug":470,"text":471},"api","API",{"depth":295,"slug":473,"text":474},"ejemplo-de-uso-directo","Ejemplo de uso directo",{"depth":295,"slug":476,"text":477},"uso-en-node","Uso en Node",{"depth":36,"slug":479,"text":480},"interactionevent","InteractionEvent",{"depth":295,"slug":482,"text":483},"tipos-de-eventos","Tipos de eventos",{"depth":295,"slug":485,"text":486},"interfaz","Interfaz",{"depth":295,"slug":488,"text":489},"event-bubbling","Event Bubbling",{"depth":295,"slug":491,"text":492},"factory","Factory",{"depth":36,"slug":494,"text":495},"factory-functions","Factory Functions",{"depth":295,"slug":497,"text":498},"createbox","createBox",{"depth":295,"slug":500,"text":501},"createsphere","createSphere",{"depth":295,"slug":503,"text":504},"createpath2d","createPath2D",{"depth":295,"slug":506,"text":507},"createtext","createText",{"depth":36,"slug":509,"text":510},"serializaci√≥n","Serializaci√≥n",{"depth":295,"slug":512,"text":512},"serialize",{"depth":295,"slug":514,"text":514},"deserialize",{"depth":295,"slug":516,"text":517},"formato-del-json","Formato del JSON",{"depth":36,"slug":519,"text":520},"math--matrix4","Math ‚Äî Matrix4",{"depth":295,"slug":522,"text":523},"matrix4-type","Matrix4 (Type)",{"depth":295,"slug":525,"text":526},"matrix4identity","Matrix4Identity",{"depth":295,"slug":528,"text":529},"composematrix","composeMatrix",{"depth":295,"slug":531,"text":532},"multiplymatrices","multiplyMatrices",{"depth":36,"slug":534,"text":535},"math--boundingbox","Math ‚Äî BoundingBox",{"depth":295,"slug":537,"text":538},"tipos","Tipos",{"depth":295,"slug":540,"text":541},"funciones","Funciones",{"depth":385,"slug":543,"text":544},"computelocalaabb","computeLocalAABB",{"depth":385,"slug":546,"text":547},"transformaabb","transformAABB",{"depth":385,"slug":549,"text":550},"pointinaabb","pointInAABB",{"depth":16,"slug":552,"text":553},"oroyarenderer-three","@oroya/renderer-three",{"depth":36,"slug":555,"text":556},"threerenderer","ThreeRenderer",{"depth":295,"slug":558,"text":559},"threerendereroptions","ThreeRendererOptions",{"depth":295,"slug":561,"text":303},"m√©todos-3",{"depth":295,"slug":563,"text":564},"traducci√≥n-de-componentes","Traducci√≥n de componentes",{"depth":295,"slug":566,"text":567},"iluminaci√≥n-autom√°tica","Iluminaci√≥n autom√°tica",{"depth":295,"slug":569,"text":306},"ejemplo-2",{"depth":16,"slug":571,"text":572},"oroyarenderer-svg","@oroya/renderer-svg",{"depth":36,"slug":574,"text":575},"rendertosvg","renderToSVG",{"depth":295,"slug":577,"text":578},"svgrenderoptions","SvgRenderOptions",{"depth":36,"slug":580,"text":581},"rendertosvgelement","renderToSVGElement",{"depth":295,"slug":583,"text":584},"svgelementrenderoptions","SvgElementRenderOptions",{"depth":295,"slug":586,"text":587},"retorno","Retorno",{"depth":295,"slug":589,"text":306},"ejemplo-3",{"depth":295,"slug":591,"text":592},"comportamiento","Comportamiento",{"depth":295,"slug":594,"text":306},"ejemplo-4",{"depth":16,"slug":596,"text":597},"oroyaloader-gltf","@oroya/loader-gltf",{"depth":36,"slug":599,"text":600},"loadgltf","loadGLTF",{"depth":295,"slug":602,"text":603},"traducci√≥n-simplificada--v03","Traducci√≥n (simplificada ‚Äî v0.3)",{"depth":16,"slug":605,"text":606},"mapa-completo-de-tipos","Mapa completo de tipos",{"depth":36,"slug":608,"text":609},"tabla-resumen-de-todos-los-exports","Tabla resumen de todos los exports",[],[],{"title":268,"description":269,"order":270,"category":271},[],{"id":247,"data":615,"body":617,"filePath":618,"digest":619,"rendered":620},{"title":248,"description":616,"order":385,"category":17},"JSON serialization for saving, loading, and sharing scenes","# Serializaci√≥n\r\n\r\nOroya Animate incluye un sistema de serializaci√≥n JSON que permite guardar y cargar escenas completas. Es la base para editores visuales, colaboraci√≥n y versionado de escenas.\r\n\r\n---\r\n\r\n## Tabla de contenidos\r\n\r\n- [Serializar una escena](#serializar-una-escena)\r\n- [Deserializar una escena](#deserializar-una-escena)\r\n- [Formato del JSON](#formato-del-json)\r\n- [Componentes soportados](#componentes-soportados)\r\n- [Casos de uso](#casos-de-uso)\r\n- [Limitaciones](#limitaciones)\r\n\r\n---\r\n\r\n## Serializar una escena\r\n\r\nLa funci√≥n `serialize` convierte todo el scene graph a un string JSON formateado:\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, Material, serialize } from '@oroya/core';\r\n\r\nconst scene = new Scene();\r\n\r\nconst cube = new Node('hero-cube');\r\ncube.addComponent(createBox(2, 2, 2));\r\ncube.addComponent(new Material({ color: { r: 1, g: 0.5, b: 0 } }));\r\ncube.transform.position = { x: 3, y: 0, z: -1 };\r\nscene.add(cube);\r\n\r\nconst json = serialize(scene);\r\nconsole.log(json);\r\n```\r\n\r\n### Flujo de serializaci√≥n\r\n\r\n```mermaid\r\nflowchart LR\r\n    S[\"Scene\"] -->|\"serialize()\"| SR[\"serializeNode(root)\"]\r\n    SR -->|\"recursivo\"| SN[\"Para cada nodo:\\nid, name, components, children\"]\r\n    SN -->|\"spread\"| SC[\"Cada component:\\n{ type, ...data }\"]\r\n    SC --> JSON[\"JSON.stringify()\\ncon indent 2\"]\r\n    JSON --> STR[\"string\"]\r\n```\r\n\r\n---\r\n\r\n## Deserializar una escena\r\n\r\nLa funci√≥n `deserialize` reconstruye una `Scene` funcional desde un string JSON:\r\n\r\n```typescript\r\nimport { deserialize } from '@oroya/core';\r\n\r\nconst restoredScene = deserialize(json);\r\n\r\nconst found = restoredScene.findNodeByName('hero-cube');\r\nconsole.log(found?.transform.position); // { x: 3, y: 0, z: -1 }\r\n```\r\n\r\nLa escena restaurada es completamente funcional ‚Äî puede montarse en cualquier renderer:\r\n\r\n```typescript\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst renderer = new ThreeRenderer({ canvas, width, height });\r\nrenderer.mount(restoredScene);\r\nrenderer.render();\r\n```\r\n\r\n### Flujo de deserializaci√≥n\r\n\r\n```mermaid\r\nflowchart LR\r\n    STR[\"string JSON\"] -->|\"JSON.parse()\"| OBJ[\"SerializableScene\"]\r\n    OBJ -->|\"deserializeNode()\"| RN[\"Reconstruir nodos\\nrecursivamente\"]\r\n    RN -->|\"switch(type)\"| COMP[\"Recrear componentes:\\nTransform, Geometry, Material,\\nCamera, Animation\"]\r\n    COMP --> SCENE[\"new Scene()\"]\r\n    RN -->|\"children\"| SCENE\r\n```\r\n\r\n---\r\n\r\n## Formato del JSON\r\n\r\n### Estructura general\r\n\r\n```mermaid\r\ngraph TD\r\n    SS[\"SerializableScene\"] -->|\"root\"| SN[\"SerializableNode\"]\r\n    SN -->|\"id\"| ID[\"string (UUID)\"]\r\n    SN -->|\"name\"| NAME[\"string\"]\r\n    SN -->|\"components\"| COMPS[\"SerializableComponent[]\"]\r\n    SN -->|\"children\"| CHILDREN[\"SerializableNode[]\"]\r\n    CHILDREN -->|\"recursivo\"| SN\r\n    COMPS --> SC[\"{ type: ComponentType, ...data }\"]\r\n```\r\n\r\n### Ejemplo completo de output\r\n\r\n```json\r\n{\r\n  \"root\": {\r\n    \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\r\n    \"name\": \"root\",\r\n    \"components\": [\r\n      {\r\n        \"type\": \"Transform\",\r\n        \"position\": { \"x\": 0, \"y\": 0, \"z\": 0 },\r\n        \"rotation\": { \"x\": 0, \"y\": 0, \"z\": 0, \"w\": 1 },\r\n        \"scale\": { \"x\": 1, \"y\": 1, \"z\": 1 },\r\n        \"localMatrix\": [1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1],\r\n        \"worldMatrix\": [1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1],\r\n        \"isDirty\": true\r\n      }\r\n    ],\r\n    \"children\": [\r\n      {\r\n        \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\r\n        \"name\": \"hero-cube\",\r\n        \"components\": [\r\n          {\r\n            \"type\": \"Transform\",\r\n            \"position\": { \"x\": 3, \"y\": 0, \"z\": -1 },\r\n            \"rotation\": { \"x\": 0, \"y\": 0, \"z\": 0, \"w\": 1 },\r\n            \"scale\": { \"x\": 1, \"y\": 1, \"z\": 1 },\r\n            \"localMatrix\": [1,0,0,0, 0,1,0,0, 0,0,1,0, 3,0,-1,1],\r\n            \"worldMatrix\": [1,0,0,0, 0,1,0,0, 0,0,1,0, 3,0,-1,1],\r\n            \"isDirty\": false\r\n          },\r\n          {\r\n            \"type\": \"Geometry\",\r\n            \"definition\": {\r\n              \"type\": \"Box\",\r\n              \"width\": 2,\r\n              \"height\": 2,\r\n              \"depth\": 2\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"Material\",\r\n            \"definition\": {\r\n              \"color\": { \"r\": 1, \"g\": 0.5, \"b\": 0 }\r\n            }\r\n          }\r\n        ],\r\n        \"children\": []\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n### Interfaces internas\r\n\r\n| Interface | Campos | Descripci√≥n |\r\n|-----------|--------|-------------|\r\n| `SerializableScene` | `root: SerializableNode` | Contenedor de nivel superior |\r\n| `SerializableNode` | `id`, `name`, `cssClass?`, `cssId?`, `components[]`, `children[]` | Representaci√≥n plana de un nodo |\r\n| `SerializableComponent` | `type: ComponentType`, `+ ...data` | Cada componente con su tipo y datos |\r\n\r\n---\r\n\r\n## Componentes soportados\r\n\r\n### En serializaci√≥n (`serialize`)\r\n\r\nTodos los componentes se serializan usando spread (`{ ...component }`):\r\n\r\n| Componente | Datos serializados |\r\n|------------|-------------------|\r\n| `Transform` | `position`, `rotation`, `scale`, `localMatrix`, `worldMatrix`, `isDirty` |\r\n| `Geometry` | `definition` completo (tipo + par√°metros de geometr√≠a) |\r\n| `Material` | `definition` completo (color, opacity, fill, stroke, strokeWidth, fillGradient, strokeGradient, filter, clipPath, mask) |\r\n| `Camera` | `definition` completo (Perspective: type, fov, aspect, near, far; Orthographic: type, left, right, top, bottom, near, far) |\r\n| `Animation` | `animations[]` ‚Äî array de `SvgAnimationDef` (animate / animateTransform) |\r\n\r\n### En deserializaci√≥n (`deserialize`)\r\n\r\n| Componente | ¬øSe restaura? | M√©todo |\r\n|------------|----------------|--------|\r\n| `Transform` | ‚úÖ | `Object.assign(new Transform(), data)` |\r\n| `Geometry` | ‚úÖ | `new Geometry(data.definition)` |\r\n| `Material` | ‚úÖ | `new Material(data.definition)` |\r\n| `Camera` | ‚úÖ | `new Camera(data.definition)` |\r\n| `Animation` | ‚úÖ | `new Animation(data.animations)` |\r\n\r\n> **Nota:** Todos los componentes se serializan y deserializan correctamente, incluyendo `Camera` y `Animation`.\r\n\r\n### Preservaci√≥n de datos\r\n\r\n| Dato | ¬øSe preserva? |\r\n|------|----------------|\r\n| UUID del nodo | ‚úÖ Exacto |\r\n| Nombre del nodo | ‚úÖ |\r\n| Jerarqu√≠a padre-hijo | ‚úÖ |\r\n| Posici√≥n | ‚úÖ |\r\n| Rotaci√≥n (quaternion) | ‚úÖ |\r\n| Escala | ‚úÖ |\r\n| Matrices (local + world) | ‚úÖ |\r\n| Tipo de geometr√≠a | ‚úÖ |\r\n| Par√°metros de geometr√≠a | ‚úÖ |\r\n| Color del material | ‚úÖ |\r\n| Opacidad | ‚úÖ |\r\n| Fill/Stroke (SVG) | ‚úÖ |\r\n| Gradientes (fill/stroke) | ‚úÖ |\r\n| Filter / ClipPath / Mask | ‚úÖ |\r\n| C√°mara (Perspective + Orthographic) | ‚úÖ |\r\n| Animaciones SVG | ‚úÖ |\r\n| `cssClass` / `cssId` | ‚úÖ |\r\n\r\n---\r\n\r\n## Casos de uso\r\n\r\n### Persistencia en localStorage\r\n\r\n```typescript\r\nfunction saveScene(scene: Scene): void {\r\n  const json = serialize(scene);\r\n  localStorage.setItem('oroya-scene', json);\r\n}\r\n\r\nfunction loadScene(): Scene | null {\r\n  const json = localStorage.getItem('oroya-scene');\r\n  if (!json) return null;\r\n  return deserialize(json);\r\n}\r\n```\r\n\r\n### Exportar como archivo descargable\r\n\r\n```typescript\r\nfunction downloadScene(scene: Scene, filename: string): void {\r\n  const json = serialize(scene);\r\n  const blob = new Blob([json], { type: 'application/json' });\r\n  const url = URL.createObjectURL(blob);\r\n\r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = filename;\r\n  a.click();\r\n\r\n  URL.revokeObjectURL(url);\r\n}\r\n\r\ndownloadScene(scene, 'my-scene.json');\r\n```\r\n\r\n### Importar desde archivo\r\n\r\n```typescript\r\nasync function importScene(file: File): Promise\u003CScene> {\r\n  const text = await file.text();\r\n  return deserialize(text);\r\n}\r\n\r\n// Con input[type=file]\r\ninput.addEventListener('change', async (e) => {\r\n  const file = (e.target as HTMLInputElement).files?.[0];\r\n  if (file) {\r\n    const scene = await importScene(file);\r\n    renderer.mount(scene);\r\n  }\r\n});\r\n```\r\n\r\n### Server-side rendering\r\n\r\n```typescript\r\n// Recibir la escena serializada, renderizar a SVG en el servidor\r\nimport { deserialize } from '@oroya/core';\r\nimport { renderToSVG } from '@oroya/renderer-svg';\r\n\r\nfunction handleRequest(jsonBody: string): string {\r\n  const scene = deserialize(jsonBody);\r\n  return renderToSVG(scene, { width: 800, height: 600 });\r\n}\r\n```\r\n\r\n### Versionado en Git\r\n\r\nGuardar escenas como `.json` permite:\r\n\r\n```\r\nscenes/\r\n‚îú‚îÄ‚îÄ level-01.json    ‚Üê Versionado con git\r\n‚îú‚îÄ‚îÄ level-02.json\r\n‚îî‚îÄ‚îÄ hub-world.json\r\n```\r\n\r\nLos diffs de Git muestran exactamente qu√© cambi√≥:\r\n\r\n```diff\r\n \"name\": \"hero-cube\",\r\n \"components\": [\r\n   {\r\n     \"type\": \"Transform\",\r\n-    \"position\": { \"x\": 3, \"y\": 0, \"z\": -1 },\r\n+    \"position\": { \"x\": 5, \"y\": 2, \"z\": -1 },\r\n```\r\n\r\n---\r\n\r\n## Limitaciones\r\n\r\n| Limitaci√≥n | Impacto | Workaround |\r\n|------------|---------|------------|\r\n| UUIDs se preservan | Dos escenas del mismo JSON tendr√°n nodos con IDs id√©nticos | Regenerar IDs post-deserializaci√≥n si se necesitan escenas independientes |\r\n| Camera no se deserializa | ~~La escena pierde su c√°mara al restaurar~~ | ‚úÖ **Resuelto** ‚Äî Camera y Animation se deserializan correctamente |\r\n| Componentes desconocidos | Si se agrega un tipo custom y no se registra en el `switch`, se ignora | Extender `deserializeNode()` con nuevos tipos |\r\n| xxxxxxxxxx¬†const snapshot = new Map\u003Cstring, Vec3>();‚Äãscene.traverse(node => { ¬†const wm = node.transform.worldMatrix; ¬†snapshot.set(node.id, { ¬† ¬†x: wm[12], // posici√≥n X del mundo ¬† ¬†y: wm[13], // posici√≥n Y del mundo ¬† ¬†z: wm[14], // posici√≥n Z del mundo  });});typescript | Archivos grandes para escenas con muchos nodos | Futuro: serializaci√≥n binaria (MessagePack) |\r\n| Sin referencia a `component.node` | La referencia circular `component ‚Üí node` se pierde | Se reconstruye autom√°ticamente por `addComponent()` |","src/content/docs/serialization.md","e169181610e8ad36",{"html":621,"metadata":622},"\u003Ch1 id=\"serializaci√≥n\">Serializaci√≥n\u003C/h1>\n\u003Cp>Oroya Animate incluye un sistema de serializaci√≥n JSON que permite guardar y cargar escenas completas. Es la base para editores visuales, colaboraci√≥n y versionado de escenas.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"tabla-de-contenidos\">Tabla de contenidos\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#serializar-una-escena\">Serializar una escena\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#deserializar-una-escena\">Deserializar una escena\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#formato-del-json\">Formato del JSON\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#componentes-soportados\">Componentes soportados\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#casos-de-uso\">Casos de uso\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#limitaciones\">Limitaciones\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"serializar-una-escena\">Serializar una escena\u003C/h2>\n\u003Cp>La funci√≥n \u003Ccode>serialize\u003C/code> convierte todo el scene graph a un string JSON formateado:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene, Node, createBox, Material, serialize } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cube\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'hero-cube'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cube.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cube.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cube.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cube);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> json\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> serialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(json);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"flujo-de-serializaci√≥n\">Flujo de serializaci√≥n\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">flowchart LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    S[\"Scene\"] -->|\"serialize()\"| SR[\"serializeNode(root)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SR -->|\"recursivo\"| SN[\"Para cada nodo:\\nid, name, components, children\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SN -->|\"spread\"| SC[\"Cada component:\\n{ type, ...data }\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SC --> JSON[\"JSON.stringify()\\ncon indent 2\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    JSON --> STR[\"string\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"deserializar-una-escena\">Deserializar una escena\u003C/h2>\n\u003Cp>La funci√≥n \u003Ccode>deserialize\u003C/code> reconstruye una \u003Ccode>Scene\u003C/code> funcional desde un string JSON:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { deserialize } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> restoredScene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> deserialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(json);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> found\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> restoredScene.\u003C/span>\u003Cspan style=\"color:#B392F0\">findNodeByName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'hero-cube'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(found?.transform.position); \u003C/span>\u003Cspan style=\"color:#6A737D\">// { x: 3, y: 0, z: -1 }\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>La escena restaurada es completamente funcional ‚Äî puede montarse en cualquier renderer:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-three'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ canvas, width, height });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(restoredScene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"flujo-de-deserializaci√≥n\">Flujo de deserializaci√≥n\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">flowchart LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    STR[\"string JSON\"] -->|\"JSON.parse()\"| OBJ[\"SerializableScene\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    OBJ -->|\"deserializeNode()\"| RN[\"Reconstruir nodos\\nrecursivamente\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    RN -->|\"switch(type)\"| COMP[\"Recrear componentes:\\nTransform, Geometry, Material,\\nCamera, Animation\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    COMP --> SCENE[\"new Scene()\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    RN -->|\"children\"| SCENE\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"formato-del-json\">Formato del JSON\u003C/h2>\n\u003Ch3 id=\"estructura-general\">Estructura general\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SS[\"SerializableScene\"] -->|\"root\"| SN[\"SerializableNode\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SN -->|\"id\"| ID[\"string (UUID)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SN -->|\"name\"| NAME[\"string\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SN -->|\"components\"| COMPS[\"SerializableComponent[]\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SN -->|\"children\"| CHILDREN[\"SerializableNode[]\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    CHILDREN -->|\"recursivo\"| SN\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    COMPS --> SC[\"{ type: ComponentType, ...data }\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"ejemplo-completo-de-output\">Ejemplo completo de output\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"root\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"id\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"550e8400-e29b-41d4-a716-446655440000\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"name\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"root\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"components\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Transform\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"position\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"x\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"y\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"z\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"rotation\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"x\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"y\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"z\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"w\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"scale\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"x\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"y\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"z\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"localMatrix\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"worldMatrix\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"isDirty\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"children\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"id\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"6ba7b810-9dad-11d1-80b4-00c04fd430c8\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"name\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"hero-cube\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"components\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">            \"type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Transform\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">            \"position\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"x\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"y\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"z\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">-1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">            \"rotation\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"x\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"y\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"z\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"w\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">            \"scale\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"x\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"y\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"z\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">            \"localMatrix\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">-1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">            \"worldMatrix\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">-1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">            \"isDirty\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">false\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">            \"type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Geometry\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">            \"definition\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">              \"type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Box\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">              \"width\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">              \"height\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">              \"depth\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">            \"type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Material\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">            \"definition\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">              \"color\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: { \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"r\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"g\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">\"b\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        \"children\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: []\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"interfaces-internas\">Interfaces internas\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Interface\u003C/th>\u003Cth>Campos\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>SerializableScene\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>root: SerializableNode\u003C/code>\u003C/td>\u003Ctd>Contenedor de nivel superior\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SerializableNode\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>id\u003C/code>, \u003Ccode>name\u003C/code>, \u003Ccode>cssClass?\u003C/code>, \u003Ccode>cssId?\u003C/code>, \u003Ccode>components[]\u003C/code>, \u003Ccode>children[]\u003C/code>\u003C/td>\u003Ctd>Representaci√≥n plana de un nodo\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>SerializableComponent\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>type: ComponentType\u003C/code>, \u003Ccode>+ ...data\u003C/code>\u003C/td>\u003Ctd>Cada componente con su tipo y datos\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"componentes-soportados\">Componentes soportados\u003C/h2>\n\u003Ch3 id=\"en-serializaci√≥n-serialize\">En serializaci√≥n (\u003Ccode>serialize\u003C/code>)\u003C/h3>\n\u003Cp>Todos los componentes se serializan usando spread (\u003Ccode>{ ...component }\u003C/code>):\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Componente\u003C/th>\u003Cth>Datos serializados\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>position\u003C/code>, \u003Ccode>rotation\u003C/code>, \u003Ccode>scale\u003C/code>, \u003Ccode>localMatrix\u003C/code>, \u003Ccode>worldMatrix\u003C/code>, \u003Ccode>isDirty\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Geometry\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>definition\u003C/code> completo (tipo + par√°metros de geometr√≠a)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>definition\u003C/code> completo (color, opacity, fill, stroke, strokeWidth, fillGradient, strokeGradient, filter, clipPath, mask)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>definition\u003C/code> completo (Perspective: type, fov, aspect, near, far; Orthographic: type, left, right, top, bottom, near, far)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Animation\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>animations[]\u003C/code> ‚Äî array de \u003Ccode>SvgAnimationDef\u003C/code> (animate / animateTransform)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"en-deserializaci√≥n-deserialize\">En deserializaci√≥n (\u003Ccode>deserialize\u003C/code>)\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Componente\u003C/th>\u003Cth>¬øSe restaura?\u003C/th>\u003Cth>M√©todo\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Transform\u003C/code>\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>\u003Ccode>Object.assign(new Transform(), data)\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Geometry\u003C/code>\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>\u003Ccode>new Geometry(data.definition)\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>\u003Ccode>new Material(data.definition)\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code>\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>\u003Ccode>new Camera(data.definition)\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Animation\u003C/code>\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>\u003Ccode>new Animation(data.animations)\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nota:\u003C/strong> Todos los componentes se serializan y deserializan correctamente, incluyendo \u003Ccode>Camera\u003C/code> y \u003Ccode>Animation\u003C/code>.\u003C/p>\n\u003C/blockquote>\n\u003Ch3 id=\"preservaci√≥n-de-datos\">Preservaci√≥n de datos\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Dato\u003C/th>\u003Cth>¬øSe preserva?\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>UUID del nodo\u003C/td>\u003Ctd>‚úÖ Exacto\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Nombre del nodo\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Jerarqu√≠a padre-hijo\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Posici√≥n\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Rotaci√≥n (quaternion)\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Escala\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Matrices (local + world)\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Tipo de geometr√≠a\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Par√°metros de geometr√≠a\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Color del material\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Opacidad\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Fill/Stroke (SVG)\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Gradientes (fill/stroke)\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Filter / ClipPath / Mask\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>C√°mara (Perspective + Orthographic)\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Animaciones SVG\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>cssClass\u003C/code> / \u003Ccode>cssId\u003C/code>\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"casos-de-uso\">Casos de uso\u003C/h2>\n\u003Ch3 id=\"persistencia-en-localstorage\">Persistencia en localStorage\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> saveScene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">scene\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> json\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> serialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  localStorage.\u003C/span>\u003Cspan style=\"color:#B392F0\">setItem\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'oroya-scene'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, json);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> loadScene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#79B8FF\"> null\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> json\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> localStorage.\u003C/span>\u003Cspan style=\"color:#B392F0\">getItem\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'oroya-scene'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#E1E4E8\">json) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#79B8FF\"> null\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#B392F0\"> deserialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(json);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"exportar-como-archivo-descargable\">Exportar como archivo descargable\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> downloadScene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">scene\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">filename\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> json\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> serialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> blob\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Blob\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([json], { type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'application/json'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> url\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> URL\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">createObjectURL\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(blob);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> a\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> document.\u003C/span>\u003Cspan style=\"color:#B392F0\">createElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'a'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  a.href \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> url;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  a.download \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> filename;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  a.\u003C/span>\u003Cspan style=\"color:#B392F0\">click\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  URL\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">revokeObjectURL\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(url);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">downloadScene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'my-scene.json'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"importar-desde-archivo\">Importar desde archivo\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">async\u003C/span>\u003Cspan style=\"color:#F97583\"> function\u003C/span>\u003Cspan style=\"color:#B392F0\"> importScene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">file\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> File\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Promise\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> text\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> await\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> file.\u003C/span>\u003Cspan style=\"color:#B392F0\">text\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#B392F0\"> deserialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(text);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Con input[type=file]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">input.\u003C/span>\u003Cspan style=\"color:#B392F0\">addEventListener\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'change'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#F97583\">async\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">e\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> file\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (e.target \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> HTMLInputElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">).files?.[\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (file) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> await\u003C/span>\u003Cspan style=\"color:#B392F0\"> importScene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(file);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"server-side-rendering\">Server-side rendering\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Recibir la escena serializada, renderizar a SVG en el servidor\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { deserialize } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-svg'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> handleRequest\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">jsonBody\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> deserialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(jsonBody);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, { width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">800\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"versionado-en-git\">Versionado en Git\u003C/h3>\n\u003Cp>Guardar escenas como \u003Ccode>.json\u003C/code> permite:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>scenes/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îú‚îÄ‚îÄ level-01.json    ‚Üê Versionado con git\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îú‚îÄ‚îÄ level-02.json\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îî‚îÄ‚îÄ hub-world.json\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Los diffs de Git muestran exactamente qu√© cambi√≥:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"diff\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\"> \"name\": \"hero-cube\",\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\"> \"components\": [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">   {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">     \"type\": \"Transform\",\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FDAEB7\">\u003Cspan style=\"user-select: none;\">-\u003C/span>    \"position\": { \"x\": 3, \"y\": 0, \"z\": -1 },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#85E89D\">\u003Cspan style=\"user-select: none;\">+\u003C/span>    \"position\": { \"x\": 5, \"y\": 2, \"z\": -1 },\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"limitaciones\">Limitaciones\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Limitaci√≥n\u003C/th>\u003Cth>Impacto\u003C/th>\u003Cth>Workaround\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>UUIDs se preservan\u003C/td>\u003Ctd>Dos escenas del mismo JSON tendr√°n nodos con IDs id√©nticos\u003C/td>\u003Ctd>Regenerar IDs post-deserializaci√≥n si se necesitan escenas independientes\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Camera no se deserializa\u003C/td>\u003Ctd>\u003Cdel>La escena pierde su c√°mara al restaurar\u003C/del>\u003C/td>\u003Ctd>‚úÖ \u003Cstrong>Resuelto\u003C/strong> ‚Äî Camera y Animation se deserializan correctamente\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Componentes desconocidos\u003C/td>\u003Ctd>Si se agrega un tipo custom y no se registra en el \u003Ccode>switch\u003C/code>, se ignora\u003C/td>\u003Ctd>Extender \u003Ccode>deserializeNode()\u003C/code> con nuevos tipos\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>xxxxxxxxxx¬†const snapshot = new Map&#x3C;string, Vec3>();‚Äãscene.traverse(node => { ¬†const wm = node.transform.worldMatrix; ¬†snapshot.set(node.id, { ¬† ¬†x: wm[12], // posici√≥n X del mundo ¬† ¬†y: wm[13], // posici√≥n Y del mundo ¬† ¬†z: wm[14], // posici√≥n Z del mundo  });});typescript\u003C/td>\u003Ctd>Archivos grandes para escenas con muchos nodos\u003C/td>\u003Ctd>Futuro: serializaci√≥n binaria (MessagePack)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Sin referencia a \u003Ccode>component.node\u003C/code>\u003C/td>\u003Ctd>La referencia circular \u003Ccode>component ‚Üí node\u003C/code> se pierde\u003C/td>\u003Ctd>Se reconstruye autom√°ticamente por \u003Ccode>addComponent()\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>",{"headings":623,"localImagePaths":681,"remoteImagePaths":682,"frontmatter":683,"imagePaths":684},[624,625,626,629,632,635,638,639,642,645,648,651,654,657,660,663,666,669,672,675,678],{"depth":26,"slug":509,"text":510},{"depth":16,"slug":89,"text":90},{"depth":16,"slug":627,"text":628},"serializar-una-escena","Serializar una escena",{"depth":36,"slug":630,"text":631},"flujo-de-serializaci√≥n","Flujo de serializaci√≥n",{"depth":16,"slug":633,"text":634},"deserializar-una-escena","Deserializar una escena",{"depth":36,"slug":636,"text":637},"flujo-de-deserializaci√≥n","Flujo de deserializaci√≥n",{"depth":16,"slug":516,"text":517},{"depth":36,"slug":640,"text":641},"estructura-general","Estructura general",{"depth":36,"slug":643,"text":644},"ejemplo-completo-de-output","Ejemplo completo de output",{"depth":36,"slug":646,"text":647},"interfaces-internas","Interfaces internas",{"depth":16,"slug":649,"text":650},"componentes-soportados","Componentes soportados",{"depth":36,"slug":652,"text":653},"en-serializaci√≥n-serialize","En serializaci√≥n (serialize)",{"depth":36,"slug":655,"text":656},"en-deserializaci√≥n-deserialize","En deserializaci√≥n (deserialize)",{"depth":36,"slug":658,"text":659},"preservaci√≥n-de-datos","Preservaci√≥n de datos",{"depth":16,"slug":661,"text":662},"casos-de-uso","Casos de uso",{"depth":36,"slug":664,"text":665},"persistencia-en-localstorage","Persistencia en localStorage",{"depth":36,"slug":667,"text":668},"exportar-como-archivo-descargable","Exportar como archivo descargable",{"depth":36,"slug":670,"text":671},"importar-desde-archivo","Importar desde archivo",{"depth":36,"slug":673,"text":674},"server-side-rendering","Server-side rendering",{"depth":36,"slug":676,"text":677},"versionado-en-git","Versionado en Git",{"depth":16,"slug":679,"text":680},"limitaciones","Limitaciones",[],[],{"title":248,"description":616,"order":385,"category":17},[],{"id":232,"data":686,"body":688,"filePath":689,"digest":690,"rendered":691},{"title":233,"description":687,"order":295,"category":17},"Three.js WebGL and SVG renderer implementations in depth","# Renderers\r\n\r\nLos renderers de Oroya Animate son **traductores** que convierten el scene graph agn√≥stico en salida visual. El core no conoce a los renderers ‚Äî cada uno lee el scene graph y produce su propia representaci√≥n.\r\n\r\n---\r\n\r\n## Visi√≥n general\r\n\r\n```mermaid\r\ngraph TD\r\n    SG[\"Scene Graph\\n(@oroya/core)\"]\r\n    R3[\"ThreeRenderer\\n(@oroya/renderer-three)\"]\r\n    RS[\"renderToSVG\\n(@oroya/renderer-svg)\"]\r\n    WEBGL[\"WebGL Canvas (3D)\"]\r\n    SVG[\"SVG String (2D)\"]\r\n\r\n    SG -->|\"mount + render\"| R3\r\n    SG -->|\"function call\"| RS\r\n    R3 --> WEBGL\r\n    RS --> SVG\r\n```\r\n\r\n| Aspecto | `ThreeRenderer` | `renderToSVG` |\r\n|---------|----------------|---------------|\r\n| **Paradigma** | Instancia con estado (class) | Funci√≥n pura (stateless) |\r\n| **Output** | Dibuja en un `\u003Ccanvas>` | Retorna un `string` SVG |\r\n| **Requiere DOM** | ‚úÖ S√≠ (`HTMLCanvasElement`) | ‚ùå No (funciona en Node.js) |\r\n| **3D** | ‚úÖ Perspectiva, luces, sombras | ‚ùå Solo 2D |\r\n| **Vectorial** | ‚ùå Rasterizado | ‚úÖ Infinitamente escalable |\r\n\r\n---\r\n\r\n## `@oroya/renderer-three` ‚Äî Three.js (WebGL)\r\n\r\nEl renderer principal para visualizaci√≥n 3D interactiva.\r\n\r\n### Setup\r\n\r\n```typescript\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n  dpr: window.devicePixelRatio,  // opcional\r\n});\r\n```\r\n\r\n### Opciones del constructor\r\n\r\n| Opci√≥n | Tipo | Default | Descripci√≥n |\r\n|--------|------|---------|-------------|\r\n| `canvas` | `HTMLCanvasElement` | *(requerido)* | Elemento canvas destino |\r\n| `width` | `number` | *(requerido)* | Ancho del viewport |\r\n| `height` | `number` | *(requerido)* | Alto del viewport |\r\n| `dpr` | `number` | `window.devicePixelRatio` | Device pixel ratio (HiDPI) |\r\n\r\n### M√©todos\r\n\r\n| M√©todo | Descripci√≥n |\r\n|--------|-------------|\r\n| `mount(scene)` | Conecta una escena. Reconstruye la escena Three.js, detecta la c√°mara activa, agrega luces |\r\n| `render()` | Sincroniza transforms, propaga matrices y dibuja un frame |\r\n| `dispose()` | Libera recursos WebGL |\r\n\r\n### Ciclo de vida\r\n\r\n```mermaid\r\nsequenceDiagram\r\n    participant U as User Code\r\n    participant TR as ThreeRenderer\r\n    participant TS as THREE.Scene\r\n\r\n    Note over U,TS: Montaje\r\n    U->>TR: mount(scene)\r\n    TR->>TS: clear + add lights\r\n    TR->>TR: traverse ‚Üí create Mesh/Group/Camera per node\r\n    TR->>TR: Set first Camera as activeCamera\r\n\r\n    Note over U,TS: Render loop\r\n    loop requestAnimationFrame\r\n        U->>TR: render()\r\n        TR->>TR: updateWorldMatrices()\r\n        TR->>TS: sync worldMatrix ‚Üí Three.js objects\r\n        TR->>TR: webglRenderer.render()\r\n    end\r\n```\r\n\r\n### Traducci√≥n de componentes\r\n\r\n| Nodo Oroya | Objeto Three.js |\r\n|------------|-----------------|\r\n| Node sin Geometry ni Camera | `THREE.Group` |\r\n| Node + `Geometry(Box)` | `THREE.Mesh(BoxGeometry)` |\r\n| Node + `Geometry(Sphere)` | `THREE.Mesh(SphereGeometry)` |\r\n| Node + `Geometry(Path2D)` | ‚ùå Ignorado |\r\n| Node + `Camera(Perspective)` | `THREE.PerspectiveCamera` |\r\n| `Material` con `color` | `MeshStandardMaterial({ color })` |\r\n| `Material` con `opacity \u003C 1` | `MeshStandardMaterial({ transparent: true })` |\r\n| Sin `Material` | `MeshStandardMaterial({ color: 0xcccccc })` |\r\n\r\n### Iluminaci√≥n autom√°tica\r\n\r\n| Tipo | Config |\r\n|------|--------|\r\n| `AmbientLight` | Blanco, intensidad `0.5` |\r\n| `DirectionalLight` | Blanco, intensidad `1.5`, posici√≥n `(2, 5, 3)` |\r\n\r\n### Resoluci√≥n de c√°maras\r\n\r\n```mermaid\r\nflowchart TD\r\n    START[\"mount(scene)\"] --> TRAVERSE[\"Traverse scene graph\"]\r\n    TRAVERSE --> FOUND{\"¬øEncontr√≥ Camera?\"}\r\n    FOUND -->|\"S√≠\"| USE[\"Usar primera como activa\"]\r\n    FOUND -->|\"No\"| FALLBACK[\"Fallback: PerspectiveCamera, FOV 75, z=5\"]\r\n```\r\n\r\n### Ejemplo completo\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst scene = new Scene();\r\n\r\nconst cam = new Node('cam');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Perspective, fov: 75,\r\n  aspect: window.innerWidth / window.innerHeight, near: 0.1, far: 1000,\r\n}));\r\ncam.transform.position.z = 5;\r\nscene.add(cam);\r\n\r\nconst box = new Node('box');\r\nbox.addComponent(createBox(1, 1, 1));\r\nbox.addComponent(new Material({ color: { r: 0.2, g: 0.6, b: 1.0 } }));\r\nscene.add(box);\r\n\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth, height: window.innerHeight,\r\n});\r\nrenderer.mount(scene);\r\n\r\nfunction loop() {\r\n  box.transform.rotation.y = performance.now() * 0.001;\r\n  box.transform.updateLocalMatrix();\r\n  renderer.render();\r\n  requestAnimationFrame(loop);\r\n}\r\nrequestAnimationFrame(loop);\r\n```\r\n\r\n---\r\n\r\n## `@oroya/renderer-svg` ‚Äî SVG (2D)\r\n\r\nRenderer ligero que genera markup SVG. Ideal para arte generativo, exportaci√≥n vectorial y server-side rendering.\r\n\r\n### `renderToSVG` ‚Äî String puro (server-safe)\r\n\r\nFunci√≥n pura y stateless que retorna un string SVG. Funciona en Node.js sin DOM.\r\n\r\n```typescript\r\nimport { renderToSVG } from '@oroya/renderer-svg';\r\n\r\nconst svg: string = renderToSVG(scene, { width: 400, height: 300 });\r\n```\r\n\r\n#### Opciones (`SvgRenderOptions`)\r\n\r\n| Opci√≥n | Tipo | Default | Descripci√≥n |\r\n|--------|------|---------|-------------|\r\n| `width` | `number` | *(requerido)* | Ancho del SVG |\r\n| `height` | `number` | *(requerido)* | Alto del SVG |\r\n| `viewBox` | `string` | `\"0 0 {width} {height}\"` | viewBox personalizado |\r\n\r\n### `renderToSVGElement` ‚Äî DOM interactivo\r\n\r\nCrea un `SVGSVGElement` real con event delegation. Los nodos con componente `Interactive` reciben listeners de pointer/click/wheel.\r\n\r\n```typescript\r\nimport { renderToSVGElement } from '@oroya/renderer-svg';\r\n\r\nconst { svg, dispose } = renderToSVGElement(scene, {\r\n  width: 800,\r\n  height: 600,\r\n  container: document.getElementById('app')!,\r\n});\r\n\r\n// Cuando ya no se necesite:\r\ndispose(); // Limpia listeners y remueve el SVG del DOM\r\n```\r\n\r\n#### Opciones (`SvgElementRenderOptions`)\r\n\r\nExtiende `SvgRenderOptions` con:\r\n\r\n| Opci√≥n | Tipo | Descripci√≥n |\r\n|--------|------|-------------|\r\n| `container` | `HTMLElement` | *(opcional)* Elemento padre donde se adjunta el SVG autom√°ticamente |\r\n\r\n#### Retorno\r\n\r\n| Campo | Tipo | Descripci√≥n |\r\n|-------|------|-------------|\r\n| `svg` | `SVGSVGElement` | El elemento SVG creado |\r\n| `dispose` | `() => void` | Limpia event listeners y remueve el SVG del DOM |\r\n\r\n#### Eventos interactivos soportados\r\n\r\n| Evento DOM | `InteractionEventType` |\r\n|-----------|------------------------|\r\n| `click` | `Click` |\r\n| `pointerdown` | `PointerDown` |\r\n| `pointerup` | `PointerUp` |\r\n| `pointermove` | `PointerMove` |\r\n| `pointerenter` | `PointerEnter` |\r\n| `pointerleave` | `PointerLeave` |\r\n| `wheel` | `Wheel` |\r\n\r\n### Pipeline\r\n\r\n```mermaid\r\nflowchart TD\r\n    START[\"renderToSVG / renderToSVGElement\"] --> UPDATE[\"scene.updateWorldMatrices()\"]\r\n    UPDATE --> WALK[\"Recorrer √°rbol recursivamente\"]\r\n    WALK --> GEO{\"¬øGeometry?\"}\r\n    GEO -->|\"Path2D\"| PATH[\"‚Üí path\"]\r\n    GEO -->|\"Box\"| RECT[\"‚Üí rect\"]\r\n    GEO -->|\"Sphere\"| CIRCLE[\"‚Üí circle\"]\r\n    GEO -->|\"Text\"| TEXT[\"‚Üí text\"]\r\n    GEO -->|\"Ninguno\"| GROUP[\"Solo g si tiene hijos\"]\r\n    PATH & RECT & CIRCLE & TEXT --> MAT{\"¬øMaterial?\"}\r\n    MAT -->|\"fill/stroke\"| STYLE[\"fill + stroke + opacity\"]\r\n    MAT -->|\"fillGradient\"| GRAD[\"url(#gradient-id) + defs\"]\r\n    MAT -->|\"filter/clip/mask\"| FILT[\"url(#filter-id) + defs\"]\r\n    MAT -->|\"Ninguno\"| NONE[\"fill='none'\"]\r\n    STYLE & GRAD & FILT & NONE --> ANIM{\"¬øAnimation?\"}\r\n    ANIM -->|\"S√≠\"| ANIMC[\"animate / animateTransform hijos\"]\r\n    ANIM -->|\"No\"| NOANIM[\"Sin animaci√≥n\"]\r\n    ANIMC & NOANIM --> TRANSFORM{\"¬øTransform ‚â† identity?\"}\r\n    TRANSFORM -->|\"S√≠\"| MATRIX[\"g transform='matrix(a,b,c,d,e,f)'\"]\r\n    TRANSFORM -->|\"No\"| DIRECT[\"Elemento directo\"]\r\n    MATRIX & DIRECT --> CHILDREN{\"¬øHijos?\"}\r\n    CHILDREN -->|\"S√≠\"| NEST[\"Anidar en g\"]\r\n    CHILDREN -->|\"No\"| LEAF[\"Nodo hoja\"]\r\n```\r\n\r\n### Soporte de geometr√≠as\r\n\r\n| Geometr√≠a | Elemento SVG generado |\r\n|-----------|----------------------|\r\n| `Path2D` | `\u003Cpath d=\"...\">` |\r\n| `Box` | `\u003Crect>` (width √ó height, depth ignorado) |\r\n| `Sphere` | `\u003Ccircle>` (radio) |\r\n| `Text` | `\u003Ctext>` con font-size, font-family, font-weight, text-anchor, dominant-baseline |\r\n\r\n### Propiedades del material para SVG\r\n\r\n| Campo | Tipo | Efecto SVG | Si ausente |\r\n|-------|------|-----------|------------|\r\n| `fill` | `ColorRGB` | `fill=\"rgb(R,G,B)\"` | `fill=\"none\"` |\r\n| `stroke` | `ColorRGB` | `stroke=\"rgb(R,G,B)\"` | Sin stroke |\r\n| `strokeWidth` | `number` | `stroke-width=\"N\"` | `1` |\r\n| `opacity` | `number` | `opacity=\"N\"` | Sin atributo (opaco) |\r\n| `fillGradient` | `GradientDef` | `fill=\"url(#id)\"` + `\u003Cdefs>` | Usa `fill` normal |\r\n| `strokeGradient` | `GradientDef` | `stroke=\"url(#id)\"` + `\u003Cdefs>` | Usa `stroke` normal |\r\n| `filter` | `SvgFilterDef` | `filter=\"url(#id)\"` + `\u003Cfilter>` en `\u003Cdefs>` | Sin filtro |\r\n| `clipPath` | `SvgClipPathDef` | `clip-path=\"url(#id)\"` + `\u003CclipPath>` en `\u003Cdefs>` | Sin recorte |\r\n| `mask` | `SvgMaskDef` | `mask=\"url(#id)\"` + `\u003Cmask>` en `\u003Cdefs>` | Sin m√°scara |\r\n\r\n### Transforms y jerarqu√≠a\r\n\r\nEl renderer SVG aplica el `localMatrix` de cada nodo como atributo `transform=\"matrix(a,b,c,d,e,f)\"` y genera `\u003Cg>` para representar la jerarqu√≠a padre-hijo del scene graph.\r\n\r\n```typescript\r\nconst parent = new Node('group');\r\nparent.transform.position = { x: 100, y: 50, z: 0 };\r\n\r\nconst child = new Node('square');\r\nchild.addComponent(createBox(30, 30, 0));\r\nchild.addComponent(new Material({ fill: { r: 1, g: 0, b: 0 } }));\r\n\r\nparent.add(child);\r\nscene.add(parent);\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Cg transform=\"matrix(1,0,0,1,100,50)\">\r\n  \u003Crect x=\"-15\" y=\"-15\" width=\"30\" height=\"30\" fill=\"rgb(255, 0, 0)\" />\r\n\u003C/g>\r\n```\r\n\r\n### Gradientes\r\n\r\n```typescript\r\nconst circle = new Node('sun');\r\ncircle.addComponent(createSphere(80));\r\ncircle.addComponent(new Material({\r\n  fillGradient: {\r\n    type: 'radial',\r\n    cx: 0.5, cy: 0.5, r: 0.5,\r\n    stops: [\r\n      { offset: 0, color: { r: 1, g: 1, b: 0 } },\r\n      { offset: 1, color: { r: 1, g: 0.3, b: 0 }, opacity: 0.8 },\r\n    ],\r\n  },\r\n}));\r\n```\r\n\r\nTipos de gradiente:\r\n\r\n| Tipo | Definici√≥n | Elemento SVG |\r\n|------|-----------|--------------|\r\n| `linear` | `LinearGradientDef` (x1, y1, x2, y2) | `\u003ClinearGradient>` |\r\n| `radial` | `RadialGradientDef` (cx, cy, r, fx, fy) | `\u003CradialGradient>` |\r\n\r\n### Texto\r\n\r\n```typescript\r\nconst label = new Node('title');\r\nlabel.addComponent(createText('Oroya Animate', {\r\n  fontSize: 24,\r\n  fontFamily: 'Inter',\r\n  fontWeight: 'bold',\r\n  textAnchor: 'middle',\r\n}));\r\nlabel.addComponent(new Material({ fill: { r: 0, g: 0, b: 0 } }));\r\nlabel.transform.position = { x: 200, y: 30, z: 0 };\r\nscene.add(label);\r\n```\r\n\r\n### CSS Classes y IDs sem√°nticos\r\n\r\nCada nodo puede tener un `cssClass` y/o `cssId` que se emiten como atributos `class` e `id` en los elementos SVG generados.\r\n\r\n```typescript\r\nconst node = new Node('highlight-box');\r\nnode.addComponent(createBox(100, 60, 0));\r\nnode.addComponent(new Material({ fill: { r: 1, g: 0.9, b: 0 } }));\r\nnode.cssClass = 'highlight animated';\r\nnode.cssId = 'main-callout';\r\nscene.add(node);\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Crect id=\"main-callout\" class=\"highlight animated\" x=\"-50\" y=\"-30\" width=\"100\" height=\"60\" fill=\"rgb(255, 230, 0)\" />\r\n```\r\n\r\nCuando el nodo tiene hijos o transform, el atributo se aplica al `\u003Cg>` contenedor:\r\n```xml\r\n\u003Cg id=\"main-callout\" class=\"highlight animated\" transform=\"matrix(1,0,0,1,50,25)\">\r\n  \u003Crect x=\"-50\" y=\"-30\" width=\"100\" height=\"60\" fill=\"rgb(255, 230, 0)\" />\r\n\u003C/g>\r\n```\r\n\r\n> **Serializaci√≥n:** `cssClass` y `cssId` se preservan en `serialize()` / `deserialize()`.\r\n\r\n### C√°mara ortogr√°fica y viewBox\r\n\r\nSi la escena contiene un nodo con `OrthographicCameraDef`, el renderer SVG calcula autom√°ticamente el `viewBox` a partir del frustum de la c√°mara. Un `viewBox` expl√≠cito en las opciones tiene prioridad.\r\n\r\n```typescript\r\nconst cam = new Node('ortho-cam');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Orthographic,\r\n  left: -400, right: 400,\r\n  top: -300, bottom: 300,\r\n  near: 0.1, far: 1000,\r\n}));\r\nscene.add(cam);\r\n\r\n// viewBox se calcula como \"-400 -300 800 600\"\r\nconst svg = renderToSVG(scene, { width: 800, height: 600 });\r\n```\r\n\r\nLa posici√≥n de la c√°mara se aplica como offset al viewBox:\r\n```typescript\r\ncam.transform.position = { x: 50, y: 25, z: 0 };\r\n// viewBox se calcula como \"-350 -275 800 600\"\r\n```\r\n\r\n### SVG Filters, Clip Paths y Masks\r\n\r\nEl renderer soporta filtros SVG nativos, clip paths y m√°scaras a trav√©s de campos en `MaterialDef`.\r\n\r\n#### Blur\r\n\r\n```typescript\r\nconst blurred = new Node('soft');\r\nblurred.addComponent(createSphere(40));\r\nblurred.addComponent(new Material({\r\n  fill: { r: 0.5, g: 0.8, b: 1 },\r\n  filter: { effects: [{ type: 'blur', stdDeviation: 3 }] },\r\n}));\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Cdefs>\r\n  \u003Cfilter id=\"oroya-filter-0\">\r\n    \u003CfeGaussianBlur stdDeviation=\"3\" />\r\n  \u003C/filter>\r\n\u003C/defs>\r\n\u003Ccircle cx=\"0\" cy=\"0\" r=\"40\" fill=\"rgb(128, 204, 255)\" filter=\"url(#oroya-filter-0)\" />\r\n```\r\n\r\n#### Drop Shadow\r\n\r\n```typescript\r\nnew Material({\r\n  fill: { r: 1, g: 0, b: 0 },\r\n  filter: {\r\n    effects: [{\r\n      type: 'dropShadow', dx: 4, dy: 4,\r\n      stdDeviation: 2, floodColor: '#333', floodOpacity: 0.6,\r\n    }],\r\n  },\r\n});\r\n```\r\n\r\n#### Clip Path\r\n\r\n```typescript\r\nnew Material({\r\n  fill: { r: 0, g: 1, b: 0 },\r\n  clipPath: {\r\n    path: [\r\n      { command: 'M', args: [0, 0] },\r\n      { command: 'L', args: [100, 0] },\r\n      { command: 'L', args: [50, 100] },\r\n      { command: 'Z', args: [] },\r\n    ],\r\n  },\r\n});\r\n```\r\n\r\n#### Mask\r\n\r\n```typescript\r\nnew Material({\r\n  fill: { r: 0, g: 0, b: 1 },\r\n  mask: {\r\n    path: [\r\n      { command: 'M', args: [0, 0] },\r\n      { command: 'L', args: [80, 0] },\r\n      { command: 'L', args: [80, 80] },\r\n      { command: 'Z', args: [] },\r\n    ],\r\n    fill: 'white',\r\n    opacity: 0.8,\r\n  },\r\n});\r\n```\r\n\r\n### SVG Animaciones nativas\r\n\r\nEl componente `Animation` permite agregar animaciones SVG declarativas (`\u003Canimate>` y `\u003CanimateTransform>`) que se ejecutan en el navegador sin JavaScript.\r\n\r\n```typescript\r\nimport { Animation } from '@oroya/core';\r\n\r\nconst circle = new Node('pulse');\r\ncircle.addComponent(createSphere(30));\r\ncircle.addComponent(new Material({ fill: { r: 1, g: 0, b: 0 } }));\r\ncircle.addComponent(new Animation([\r\n  {\r\n    type: 'animate',\r\n    attributeName: 'opacity',\r\n    values: '1;0.3;1',\r\n    dur: '2s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n]));\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Ccircle cx=\"0\" cy=\"0\" r=\"30\" fill=\"rgb(255, 0, 0)\">\r\n  \u003Canimate attributeName=\"opacity\" values=\"1;0.3;1\" dur=\"2s\" repeatCount=\"indefinite\" />\r\n\u003C/circle>\r\n```\r\n\r\nAnimaciones de transformaci√≥n:\r\n```typescript\r\nnew Animation([\r\n  {\r\n    type: 'animateTransform',\r\n    transformType: 'rotate',\r\n    from: '0 50 50',\r\n    to: '360 50 50',\r\n    dur: '4s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n]);\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003CanimateTransform attributeName=\"transform\" type=\"rotate\"\r\n  from=\"0 50 50\" to=\"360 50 50\" dur=\"4s\" repeatCount=\"indefinite\" />\r\n```\r\n\r\n> **fill=\"freeze\"** mantiene el valor final despu√©s de que la animaci√≥n termina, en lugar de revertir.\r\n\r\n> **Nota:** Las animaciones nativas solo aplican al renderer SVG. El renderer Three.js las ignora.\r\n\r\n### Ejemplo completo\r\n\r\n```typescript\r\nconst triangle = new Node('triangle');\r\ntriangle.addComponent(createPath2D([\r\n  { command: 'M', args: [200, 50] },\r\n  { command: 'L', args: [350, 250] },\r\n  { command: 'L', args: [50, 250] },\r\n  { command: 'Z', args: [] },\r\n]));\r\ntriangle.addComponent(new Material({\r\n  fill: { r: 0.2, g: 0.8, b: 0.4 },\r\n  stroke: { r: 0, g: 0, b: 0 },\r\n  strokeWidth: 2,\r\n  opacity: 0.9,\r\n}));\r\nscene.add(triangle);\r\n\r\nconst svg = renderToSVG(scene, { width: 400, height: 300 });\r\n```\r\n\r\n### Casos de uso\r\n\r\n| Caso | Ventaja |\r\n|------|---------|\r\n| Exportar a .svg | Abrir en Figma, Illustrator, Inkscape |\r\n| Server-side rendering | Node.js sin DOM |\r\n| Arte generativo | Patrones procedurales como vectores |\r\n| Impresi√≥n | Escalable sin p√©rdida |\r\n| Interactividad SVG | `renderToSVGElement` con event delegation |\r\n\r\n---\r\n\r\n## Comparaci√≥n entre renderers\r\n\r\n### Soporte de geometr√≠as\r\n\r\n| Geometr√≠a | Three.js | SVG |\r\n|-----------|----------|-----|\r\n| `Box` | ‚úÖ | ‚úÖ `\u003Crect>` |\r\n| `Sphere` | ‚úÖ | ‚úÖ `\u003Ccircle>` |\r\n| `Path2D` | ‚ùå | ‚úÖ `\u003Cpath>` |\r\n| `Text` | ‚ùå | ‚úÖ `\u003Ctext>` |\r\n\r\n### Soporte de material\r\n\r\n| Propiedad | Three.js | SVG |\r\n|-----------|----------|-----|\r\n| `color` | ‚úÖ | ‚ùå |\r\n| `opacity` | ‚úÖ | ‚úÖ |\r\n| `fill` | ‚ùå | ‚úÖ |\r\n| `stroke` | ‚ùå | ‚úÖ |\r\n| `strokeWidth` | ‚ùå | ‚úÖ |\r\n| `fillGradient` | ‚ùå | ‚úÖ |\r\n| `strokeGradient` | ‚ùå | ‚úÖ |\r\n| `filter` | ‚ùå | ‚úÖ |\r\n| `clipPath` | ‚ùå | ‚úÖ |\r\n| `mask` | ‚ùå | ‚úÖ |\r\n\r\n### Soporte de transforms\r\n\r\n| Feature | Three.js | SVG |\r\n|---------|----------|-----|\r\n| Position (translate) | ‚úÖ | ‚úÖ `matrix()` |\r\n| Rotation | ‚úÖ | ‚úÖ `matrix()` |\r\n| Scale | ‚úÖ | ‚úÖ `matrix()` |\r\n| Jerarqu√≠a (`\u003Cg>`) | ‚úÖ Groups | ‚úÖ `\u003Cg>` |\r\n\r\n### Soporte de componentes especiales\r\n\r\n| Feature | Three.js | SVG |\r\n|---------|----------|-----|\r\n| `Camera` (Perspective) | ‚úÖ | ‚ùå |\r\n| `Camera` (Orthographic) | ‚ùå | ‚úÖ viewBox |\r\n| `Interactive` (eventos) | ‚úÖ Raycaster | ‚úÖ Event delegation |\r\n| `Animation` (SVG nativo) | ‚ùå | ‚úÖ `\u003Canimate>` / `\u003CanimateTransform>` |\r\n| `cssClass` / `cssId` | ‚ùå | ‚úÖ atributos `class` / `id` |\r\n\r\n---\r\n\r\n## Crear un renderer personalizado\r\n\r\nEl contrato es simple ‚Äî implementar `mount`, `render` y `dispose`:\r\n\r\n```typescript\r\nimport { Scene, ComponentType, Geometry, Material, GeometryPrimitive } from '@oroya/core';\r\n\r\nexport class Canvas2DRenderer {\r\n  private ctx: CanvasRenderingContext2D;\r\n  private scene: Scene | null = null;\r\n\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    this.ctx = canvas.getContext('2d')!;\r\n  }\r\n\r\n  mount(scene: Scene): void { this.scene = scene; }\r\n\r\n  render(): void {\r\n    if (!this.scene) return;\r\n    this.scene.updateWorldMatrices();\r\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n\r\n    this.scene.traverse(node => {\r\n      const geo = node.getComponent\u003CGeometry>(ComponentType.Geometry);\r\n      if (!geo) return;\r\n      const mat = node.getComponent\u003CMaterial>(ComponentType.Material);\r\n      const wm = node.transform.worldMatrix;\r\n\r\n      this.ctx.save();\r\n      this.ctx.translate(wm[12], wm[13]);\r\n\r\n      if (geo.definition.type === GeometryPrimitive.Box) {\r\n        const { width, height } = geo.definition;\r\n        if (mat?.definition.color) {\r\n          const c = mat.definition.color;\r\n          this.ctx.fillStyle = `rgb(${c.r*255},${c.g*255},${c.b*255})`;\r\n        }\r\n        this.ctx.fillRect(-width/2, -height/2, width, height);\r\n      }\r\n      this.ctx.restore();\r\n    });\r\n  }\r\n\r\n  dispose(): void { this.scene = null; }\r\n}\r\n```\r\n\r\n### Checklist\r\n\r\n| Paso | Descripci√≥n |\r\n|------|-------------|\r\n| 1 | Crear paquete en `packages/renderer-xxx/` |\r\n| 2 | Agregar `@oroya/core` como dependencia |\r\n| 3 | Implementar `mount()` ‚Äî recorrer √°rbol y crear objetos |\r\n| 4 | Implementar `render()` ‚Äî sincronizar transforms y dibujar |\r\n| 5 | Implementar `dispose()` ‚Äî liberar recursos |\r\n| 6 | Documentar geometr√≠as y materiales soportados |","src/content/docs/renderers.md","f98c0e5ed935d095",{"html":692,"metadata":693},"\u003Ch1 id=\"renderers\">Renderers\u003C/h1>\n\u003Cp>Los renderers de Oroya Animate son \u003Cstrong>traductores\u003C/strong> que convierten el scene graph agn√≥stico en salida visual. El core no conoce a los renderers ‚Äî cada uno lee el scene graph y produce su propia representaci√≥n.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"visi√≥n-general\">Visi√≥n general\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SG[\"Scene Graph\\n(@oroya/core)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    R3[\"ThreeRenderer\\n(@oroya/renderer-three)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    RS[\"renderToSVG\\n(@oroya/renderer-svg)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    WEBGL[\"WebGL Canvas (3D)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SVG[\"SVG String (2D)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SG -->|\"mount + render\"| R3\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SG -->|\"function call\"| RS\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    R3 --> WEBGL\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    RS --> SVG\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Aspecto\u003C/th>\u003Cth>\u003Ccode>ThreeRenderer\u003C/code>\u003C/th>\u003Cth>\u003Ccode>renderToSVG\u003C/code>\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>Paradigma\u003C/strong>\u003C/td>\u003Ctd>Instancia con estado (class)\u003C/td>\u003Ctd>Funci√≥n pura (stateless)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Output\u003C/strong>\u003C/td>\u003Ctd>Dibuja en un \u003Ccode>&#x3C;canvas>\u003C/code>\u003C/td>\u003Ctd>Retorna un \u003Ccode>string\u003C/code> SVG\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Requiere DOM\u003C/strong>\u003C/td>\u003Ctd>‚úÖ S√≠ (\u003Ccode>HTMLCanvasElement\u003C/code>)\u003C/td>\u003Ctd>‚ùå No (funciona en Node.js)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>3D\u003C/strong>\u003C/td>\u003Ctd>‚úÖ Perspectiva, luces, sombras\u003C/td>\u003Ctd>‚ùå Solo 2D\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Vectorial\u003C/strong>\u003C/td>\u003Ctd>‚ùå Rasterizado\u003C/td>\u003Ctd>‚úÖ Infinitamente escalable\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"oroyarenderer-three--threejs-webgl\">\u003Ccode>@oroya/renderer-three\u003C/code> ‚Äî Three.js (WebGL)\u003C/h2>\n\u003Cp>El renderer principal para visualizaci√≥n 3D interactiva.\u003C/p>\n\u003Ch3 id=\"setup\">Setup\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-three'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  canvas: document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'canvas'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: window.innerWidth,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  dpr: window.devicePixelRatio,  \u003C/span>\u003Cspan style=\"color:#6A737D\">// opcional\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"opciones-del-constructor\">Opciones del constructor\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Opci√≥n\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>canvas\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>HTMLCanvasElement\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Elemento canvas destino\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>width\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Ancho del viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>height\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Alto del viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dpr\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>window.devicePixelRatio\u003C/code>\u003C/td>\u003Ctd>Device pixel ratio (HiDPI)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"m√©todos\">M√©todos\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>M√©todo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>mount(scene)\u003C/code>\u003C/td>\u003Ctd>Conecta una escena. Reconstruye la escena Three.js, detecta la c√°mara activa, agrega luces\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>render()\u003C/code>\u003C/td>\u003Ctd>Sincroniza transforms, propaga matrices y dibuja un frame\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dispose()\u003C/code>\u003C/td>\u003Ctd>Libera recursos WebGL\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"ciclo-de-vida\">Ciclo de vida\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sequenceDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant U as User Code\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant TR as ThreeRenderer\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant TS as THREE.Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Note over U,TS: Montaje\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    U->>TR: mount(scene)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    TR->>TS: clear + add lights\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    TR->>TR: traverse ‚Üí create Mesh/Group/Camera per node\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    TR->>TR: Set first Camera as activeCamera\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Note over U,TS: Render loop\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    loop requestAnimationFrame\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        U->>TR: render()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        TR->>TR: updateWorldMatrices()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        TR->>TS: sync worldMatrix ‚Üí Three.js objects\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        TR->>TR: webglRenderer.render()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    end\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"traducci√≥n-de-componentes\">Traducci√≥n de componentes\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Nodo Oroya\u003C/th>\u003Cth>Objeto Three.js\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Node sin Geometry ni Camera\u003C/td>\u003Ctd>\u003Ccode>THREE.Group\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Node + \u003Ccode>Geometry(Box)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>THREE.Mesh(BoxGeometry)\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Node + \u003Ccode>Geometry(Sphere)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>THREE.Mesh(SphereGeometry)\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Node + \u003Ccode>Geometry(Path2D)\u003C/code>\u003C/td>\u003Ctd>‚ùå Ignorado\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Node + \u003Ccode>Camera(Perspective)\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>THREE.PerspectiveCamera\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code> con \u003Ccode>color\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>MeshStandardMaterial({ color })\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Material\u003C/code> con \u003Ccode>opacity &#x3C; 1\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>MeshStandardMaterial({ transparent: true })\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Sin \u003Ccode>Material\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>MeshStandardMaterial({ color: 0xcccccc })\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"iluminaci√≥n-autom√°tica\">Iluminaci√≥n autom√°tica\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Tipo\u003C/th>\u003Cth>Config\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>AmbientLight\u003C/code>\u003C/td>\u003Ctd>Blanco, intensidad \u003Ccode>0.5\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>DirectionalLight\u003C/code>\u003C/td>\u003Ctd>Blanco, intensidad \u003Ccode>1.5\u003C/code>, posici√≥n \u003Ccode>(2, 5, 3)\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"resoluci√≥n-de-c√°maras\">Resoluci√≥n de c√°maras\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">flowchart TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    START[\"mount(scene)\"] --> TRAVERSE[\"Traverse scene graph\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    TRAVERSE --> FOUND{\"¬øEncontr√≥ Camera?\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    FOUND -->|\"S√≠\"| USE[\"Usar primera como activa\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    FOUND -->|\"No\"| FALLBACK[\"Fallback: PerspectiveCamera, FOV 75, z=5\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"ejemplo-completo\">Ejemplo completo\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene, Node, createBox, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-three'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'cam'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Perspective, fov: \u003C/span>\u003Cspan style=\"color:#79B8FF\">75\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  aspect: window.innerWidth \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> window.innerHeight, near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1000\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.transform.position.z \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> box\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'box'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">box.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">box.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(box);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  canvas: document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'canvas'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: window.innerWidth, height: window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> loop\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  box.transform.rotation.y \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> performance.\u003C/span>\u003Cspan style=\"color:#B392F0\">now\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.001\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  box.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(loop);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(loop);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"oroyarenderer-svg--svg-2d\">\u003Ccode>@oroya/renderer-svg\u003C/code> ‚Äî SVG (2D)\u003C/h2>\n\u003Cp>Renderer ligero que genera markup SVG. Ideal para arte generativo, exportaci√≥n vectorial y server-side rendering.\u003C/p>\n\u003Ch3 id=\"rendertosvg--string-puro-server-safe\">\u003Ccode>renderToSVG\u003C/code> ‚Äî String puro (server-safe)\u003C/h3>\n\u003Cp>Funci√≥n pura y stateless que retorna un string SVG. Funciona en Node.js sin DOM.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-svg'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> svg\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, { width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">300\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> });\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"opciones-svgrenderoptions\">Opciones (\u003Ccode>SvgRenderOptions\u003C/code>)\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Opci√≥n\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>width\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Ancho del SVG\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>height\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(requerido)\u003C/em>\u003C/td>\u003Ctd>Alto del SVG\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>viewBox\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"0 0 {width} {height}\"\u003C/code>\u003C/td>\u003Ctd>viewBox personalizado\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"rendertosvgelement--dom-interactivo\">\u003Ccode>renderToSVGElement\u003C/code> ‚Äî DOM interactivo\u003C/h3>\n\u003Cp>Crea un \u003Ccode>SVGSVGElement\u003C/code> real con event delegation. Los nodos con componente \u003Ccode>Interactive\u003C/code> reciben listeners de pointer/click/wheel.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { renderToSVGElement } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-svg'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#79B8FF\">svg\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">dispose\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVGElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">800\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  container: document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'app'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Cuando ya no se necesite:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">dispose\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(); \u003C/span>\u003Cspan style=\"color:#6A737D\">// Limpia listeners y remueve el SVG del DOM\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"opciones-svgelementrenderoptions\">Opciones (\u003Ccode>SvgElementRenderOptions\u003C/code>)\u003C/h4>\n\u003Cp>Extiende \u003Ccode>SvgRenderOptions\u003C/code> con:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Opci√≥n\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>container\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>HTMLElement\u003C/code>\u003C/td>\u003Ctd>\u003Cem>(opcional)\u003C/em> Elemento padre donde se adjunta el SVG autom√°ticamente\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"retorno\">Retorno\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>svg\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SVGSVGElement\u003C/code>\u003C/td>\u003Ctd>El elemento SVG creado\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dispose\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>() => void\u003C/code>\u003C/td>\u003Ctd>Limpia event listeners y remueve el SVG del DOM\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch4 id=\"eventos-interactivos-soportados\">Eventos interactivos soportados\u003C/h4>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Evento DOM\u003C/th>\u003Cth>\u003Ccode>InteractionEventType\u003C/code>\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>click\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Click\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerdown\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerDown\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerup\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerUp\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointermove\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerMove\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerenter\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerEnter\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerleave\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerLeave\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>wheel\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Wheel\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"pipeline\">Pipeline\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">flowchart TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    START[\"renderToSVG / renderToSVGElement\"] --> UPDATE[\"scene.updateWorldMatrices()\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    UPDATE --> WALK[\"Recorrer √°rbol recursivamente\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    WALK --> GEO{\"¬øGeometry?\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    GEO -->|\"Path2D\"| PATH[\"‚Üí path\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    GEO -->|\"Box\"| RECT[\"‚Üí rect\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    GEO -->|\"Sphere\"| CIRCLE[\"‚Üí circle\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    GEO -->|\"Text\"| TEXT[\"‚Üí text\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    GEO -->|\"Ninguno\"| GROUP[\"Solo g si tiene hijos\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    PATH &#x26; RECT &#x26; CIRCLE &#x26; TEXT --> MAT{\"¬øMaterial?\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    MAT -->|\"fill/stroke\"| STYLE[\"fill + stroke + opacity\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    MAT -->|\"fillGradient\"| GRAD[\"url(#gradient-id) + defs\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    MAT -->|\"filter/clip/mask\"| FILT[\"url(#filter-id) + defs\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    MAT -->|\"Ninguno\"| NONE[\"fill='none'\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    STYLE &#x26; GRAD &#x26; FILT &#x26; NONE --> ANIM{\"¬øAnimation?\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ANIM -->|\"S√≠\"| ANIMC[\"animate / animateTransform hijos\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ANIM -->|\"No\"| NOANIM[\"Sin animaci√≥n\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ANIMC &#x26; NOANIM --> TRANSFORM{\"¬øTransform ‚â† identity?\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    TRANSFORM -->|\"S√≠\"| MATRIX[\"g transform='matrix(a,b,c,d,e,f)'\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    TRANSFORM -->|\"No\"| DIRECT[\"Elemento directo\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    MATRIX &#x26; DIRECT --> CHILDREN{\"¬øHijos?\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    CHILDREN -->|\"S√≠\"| NEST[\"Anidar en g\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    CHILDREN -->|\"No\"| LEAF[\"Nodo hoja\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"soporte-de-geometr√≠as\">Soporte de geometr√≠as\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Geometr√≠a\u003C/th>\u003Cth>Elemento SVG generado\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Path2D\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>&#x3C;path d=\"...\">\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Box\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>&#x3C;rect>\u003C/code> (width √ó height, depth ignorado)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Sphere\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>&#x3C;circle>\u003C/code> (radio)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Text\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>&#x3C;text>\u003C/code> con font-size, font-family, font-weight, text-anchor, dominant-baseline\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"propiedades-del-material-para-svg\">Propiedades del material para SVG\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Efecto SVG\u003C/th>\u003Cth>Si ausente\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>ColorRGB\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>fill=\"rgb(R,G,B)\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>fill=\"none\"\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stroke\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>ColorRGB\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>stroke=\"rgb(R,G,B)\"\u003C/code>\u003C/td>\u003Ctd>Sin stroke\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>strokeWidth\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>stroke-width=\"N\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>1\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>opacity\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>number\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>opacity=\"N\"\u003C/code>\u003C/td>\u003Ctd>Sin atributo (opaco)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fillGradient\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GradientDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>fill=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003Ctd>Usa \u003Ccode>fill\u003C/code> normal\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>strokeGradient\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>GradientDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>stroke=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003Ctd>Usa \u003Ccode>stroke\u003C/code> normal\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>filter\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SvgFilterDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>filter=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;filter>\u003C/code> en \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003Ctd>Sin filtro\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>clipPath\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SvgClipPathDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>clip-path=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;clipPath>\u003C/code> en \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003Ctd>Sin recorte\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>mask\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SvgMaskDef\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>mask=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;mask>\u003C/code> en \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003Ctd>Sin m√°scara\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"transforms-y-jerarqu√≠a\">Transforms y jerarqu√≠a\u003C/h3>\n\u003Cp>El renderer SVG aplica el \u003Ccode>localMatrix\u003C/code> de cada nodo como atributo \u003Ccode>transform=\"matrix(a,b,c,d,e,f)\"\u003C/code> y genera \u003Ccode>&#x3C;g>\u003C/code> para representar la jerarqu√≠a padre-hijo del scene graph.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> parent\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'group'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">parent.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> child\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'square'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">child.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">30\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">30\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">child.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">parent.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(child);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(parent);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">g\u003C/span>\u003Cspan style=\"color:#B392F0\"> transform\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"matrix(1,0,0,1,100,50)\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">rect\u003C/span>\u003Cspan style=\"color:#B392F0\"> x\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"-15\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> y\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"-15\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> width\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"30\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> height\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"30\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> fill\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"rgb(255, 0, 0)\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">g\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"gradientes\">Gradientes\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> circle\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'sun'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">circle.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">80\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">circle.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fillGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'radial'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    cx: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, cy: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, opacity: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Tipos de gradiente:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Tipo\u003C/th>\u003Cth>Definici√≥n\u003C/th>\u003Cth>Elemento SVG\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>linear\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>LinearGradientDef\u003C/code> (x1, y1, x2, y2)\u003C/td>\u003Ctd>\u003Ccode>&#x3C;linearGradient>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>radial\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>RadialGradientDef\u003C/code> (cx, cy, r, fx, fy)\u003C/td>\u003Ctd>\u003Ccode>&#x3C;radialGradient>\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"texto\">Texto\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> label\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'title'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">label.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createText\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Oroya Animate'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fontSize: \u003C/span>\u003Cspan style=\"color:#79B8FF\">24\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fontFamily: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Inter'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fontWeight: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'bold'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  textAnchor: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'middle'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">label.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">label.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">30\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(label);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"css-classes-y-ids-sem√°nticos\">CSS Classes y IDs sem√°nticos\u003C/h3>\n\u003Cp>Cada nodo puede tener un \u003Ccode>cssClass\u003C/code> y/o \u003Ccode>cssId\u003C/code> que se emiten como atributos \u003Ccode>class\u003C/code> e \u003Ccode>id\u003C/code> en los elementos SVG generados.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> node\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'highlight-box'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">60\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.cssClass \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'highlight animated'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">node.cssId \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'main-callout'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(node);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">rect\u003C/span>\u003Cspan style=\"color:#B392F0\"> id\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"main-callout\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"highlight animated\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> x\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"-50\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> y\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"-30\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> width\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"100\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> height\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"60\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> fill\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"rgb(255, 230, 0)\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Cuando el nodo tiene hijos o transform, el atributo se aplica al \u003Ccode>&#x3C;g>\u003C/code> contenedor:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">g\u003C/span>\u003Cspan style=\"color:#B392F0\"> id\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"main-callout\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"highlight animated\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> transform\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"matrix(1,0,0,1,50,25)\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">rect\u003C/span>\u003Cspan style=\"color:#B392F0\"> x\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"-50\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> y\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"-30\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> width\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"100\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> height\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"60\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> fill\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"rgb(255, 230, 0)\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">g\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Serializaci√≥n:\u003C/strong> \u003Ccode>cssClass\u003C/code> y \u003Ccode>cssId\u003C/code> se preservan en \u003Ccode>serialize()\u003C/code> / \u003Ccode>deserialize()\u003C/code>.\u003C/p>\n\u003C/blockquote>\n\u003Ch3 id=\"c√°mara-ortogr√°fica-y-viewbox\">C√°mara ortogr√°fica y viewBox\u003C/h3>\n\u003Cp>Si la escena contiene un nodo con \u003Ccode>OrthographicCameraDef\u003C/code>, el renderer SVG calcula autom√°ticamente el \u003Ccode>viewBox\u003C/code> a partir del frustum de la c√°mara. Un \u003Ccode>viewBox\u003C/code> expl√≠cito en las opciones tiene prioridad.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'ortho-cam'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Orthographic,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  left: \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, right: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  top: \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">300\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, bottom: \u003C/span>\u003Cspan style=\"color:#79B8FF\">300\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1000\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// viewBox se calcula como \"-400 -300 800 600\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> svg\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, { width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">800\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> });\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>La posici√≥n de la c√°mara se aplica como offset al viewBox:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">25\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// viewBox se calcula como \"-350 -275 800 600\"\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"svg-filters-clip-paths-y-masks\">SVG Filters, Clip Paths y Masks\u003C/h3>\n\u003Cp>El renderer soporta filtros SVG nativos, clip paths y m√°scaras a trav√©s de campos en \u003Ccode>MaterialDef\u003C/code>.\u003C/p>\n\u003Ch4 id=\"blur\">Blur\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> blurred\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'soft'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">blurred.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">40\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">blurred.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  filter: { effects: [{ type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'blur'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, stdDeviation: \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">defs\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">filter\u003C/span>\u003Cspan style=\"color:#B392F0\"> id\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"oroya-filter-0\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">feGaussianBlur\u003C/span>\u003Cspan style=\"color:#B392F0\"> stdDeviation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"3\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">filter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">defs\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">circle\u003C/span>\u003Cspan style=\"color:#B392F0\"> cx\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> cy\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> r\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"40\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> fill\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"rgb(128, 204, 255)\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> filter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"url(#oroya-filter-0)\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"drop-shadow\">Drop Shadow\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  filter: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    effects: [{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'dropShadow'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, dx: \u003C/span>\u003Cspan style=\"color:#79B8FF\">4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, dy: \u003C/span>\u003Cspan style=\"color:#79B8FF\">4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      stdDeviation: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, floodColor: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'#333'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, floodOpacity: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"clip-path\">Clip Path\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  clipPath: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    path: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'M'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Z'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"mask\">Mask\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  mask: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    path: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'M'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">80\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">80\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">80\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Z'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    fill: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'white'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    opacity: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"svg-animaciones-nativas\">SVG Animaciones nativas\u003C/h3>\n\u003Cp>El componente \u003Ccode>Animation\u003C/code> permite agregar animaciones SVG declarativas (\u003Ccode>&#x3C;animate>\u003C/code> y \u003Ccode>&#x3C;animateTransform>\u003C/code>) que se ejecutan en el navegador sin JavaScript.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Animation } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> circle\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'pulse'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">circle.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">30\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">circle.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">circle.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Animation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'animate'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    attributeName: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'opacity'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    values: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'1;0.3;1'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    dur: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'2s'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'indefinite'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">]));\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">circle\u003C/span>\u003Cspan style=\"color:#B392F0\"> cx\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> cy\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> r\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"30\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> fill\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"rgb(255, 0, 0)\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">animate\u003C/span>\u003Cspan style=\"color:#B392F0\"> attributeName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"opacity\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> values\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"1;0.3;1\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> dur\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"2s\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> repeatCount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"indefinite\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">circle\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Animaciones de transformaci√≥n:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Animation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'animateTransform'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    transformType: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'rotate'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    from: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'0 50 50'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    to: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'360 50 50'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    dur: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'4s'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'indefinite'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">]);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">animateTransform\u003C/span>\u003Cspan style=\"color:#B392F0\"> attributeName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"transform\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"rotate\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  from\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0 50 50\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> to\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"360 50 50\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> dur\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"4s\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> repeatCount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"indefinite\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>fill=‚Äúfreeze‚Äù\u003C/strong> mantiene el valor final despu√©s de que la animaci√≥n termina, en lugar de revertir.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nota:\u003C/strong> Las animaciones nativas solo aplican al renderer SVG. El renderer Three.js las ignora.\u003C/p>\n\u003C/blockquote>\n\u003Ch3 id=\"ejemplo-completo-1\">Ejemplo completo\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> triangle\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'triangle'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">triangle.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createPath2D\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'M'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">350\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">250\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">250\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Z'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">triangle.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.4\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  opacity: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(triangle);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> svg\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, { width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">300\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> });\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"casos-de-uso\">Casos de uso\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Caso\u003C/th>\u003Cth>Ventaja\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Exportar a .svg\u003C/td>\u003Ctd>Abrir en Figma, Illustrator, Inkscape\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Server-side rendering\u003C/td>\u003Ctd>Node.js sin DOM\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Arte generativo\u003C/td>\u003Ctd>Patrones procedurales como vectores\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Impresi√≥n\u003C/td>\u003Ctd>Escalable sin p√©rdida\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Interactividad SVG\u003C/td>\u003Ctd>\u003Ccode>renderToSVGElement\u003C/code> con event delegation\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"comparaci√≥n-entre-renderers\">Comparaci√≥n entre renderers\u003C/h2>\n\u003Ch3 id=\"soporte-de-geometr√≠as-1\">Soporte de geometr√≠as\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Geometr√≠a\u003C/th>\u003Cth>Three.js\u003C/th>\u003Cth>SVG\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Box\u003C/code>\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>‚úÖ \u003Ccode>&#x3C;rect>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Sphere\u003C/code>\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>‚úÖ \u003Ccode>&#x3C;circle>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Path2D\u003C/code>\u003C/td>\u003Ctd>‚ùå\u003C/td>\u003Ctd>‚úÖ \u003Ccode>&#x3C;path>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Text\u003C/code>\u003C/td>\u003Ctd>‚ùå\u003C/td>\u003Ctd>‚úÖ \u003Ccode>&#x3C;text>\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"soporte-de-material\">Soporte de material\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Propiedad\u003C/th>\u003Cth>Three.js\u003C/th>\u003Cth>SVG\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>color\u003C/code>\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>‚ùå\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>opacity\u003C/code>\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>‚ùå\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stroke\u003C/code>\u003C/td>\u003Ctd>‚ùå\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>strokeWidth\u003C/code>\u003C/td>\u003Ctd>‚ùå\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fillGradient\u003C/code>\u003C/td>\u003Ctd>‚ùå\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>strokeGradient\u003C/code>\u003C/td>\u003Ctd>‚ùå\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>filter\u003C/code>\u003C/td>\u003Ctd>‚ùå\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>clipPath\u003C/code>\u003C/td>\u003Ctd>‚ùå\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>mask\u003C/code>\u003C/td>\u003Ctd>‚ùå\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"soporte-de-transforms\">Soporte de transforms\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Feature\u003C/th>\u003Cth>Three.js\u003C/th>\u003Cth>SVG\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Position (translate)\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>‚úÖ \u003Ccode>matrix()\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Rotation\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>‚úÖ \u003Ccode>matrix()\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Scale\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>‚úÖ \u003Ccode>matrix()\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Jerarqu√≠a (\u003Ccode>&#x3C;g>\u003C/code>)\u003C/td>\u003Ctd>‚úÖ Groups\u003C/td>\u003Ctd>‚úÖ \u003Ccode>&#x3C;g>\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"soporte-de-componentes-especiales\">Soporte de componentes especiales\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Feature\u003C/th>\u003Cth>Three.js\u003C/th>\u003Cth>SVG\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code> (Perspective)\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003Ctd>‚ùå\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Camera\u003C/code> (Orthographic)\u003C/td>\u003Ctd>‚ùå\u003C/td>\u003Ctd>‚úÖ viewBox\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Interactive\u003C/code> (eventos)\u003C/td>\u003Ctd>‚úÖ Raycaster\u003C/td>\u003Ctd>‚úÖ Event delegation\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>Animation\u003C/code> (SVG nativo)\u003C/td>\u003Ctd>‚ùå\u003C/td>\u003Ctd>‚úÖ \u003Ccode>&#x3C;animate>\u003C/code> / \u003Ccode>&#x3C;animateTransform>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>cssClass\u003C/code> / \u003Ccode>cssId\u003C/code>\u003C/td>\u003Ctd>‚ùå\u003C/td>\u003Ctd>‚úÖ atributos \u003Ccode>class\u003C/code> / \u003Ccode>id\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"crear-un-renderer-personalizado\">Crear un renderer personalizado\u003C/h2>\n\u003Cp>El contrato es simple ‚Äî implementar \u003Ccode>mount\u003C/code>, \u003Ccode>render\u003C/code> y \u003Ccode>dispose\u003C/code>:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene, ComponentType, Geometry, Material, GeometryPrimitive } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> class\u003C/span>\u003Cspan style=\"color:#B392F0\"> Canvas2DRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  private\u003C/span>\u003Cspan style=\"color:#FFAB70\"> ctx\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> CanvasRenderingContext2D\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  private\u003C/span>\u003Cspan style=\"color:#FFAB70\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#79B8FF\"> null\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> null\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  constructor\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">canvas\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.ctx \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> canvas.\u003C/span>\u003Cspan style=\"color:#B392F0\">getContext\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'2d'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">scene\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.scene \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> scene; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.scene) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateWorldMatrices\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.ctx.\u003C/span>\u003Cspan style=\"color:#B392F0\">clearRect\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.ctx.canvas.width, \u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.ctx.canvas.height);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">traverse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">node\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> geo\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> node.\u003C/span>\u003Cspan style=\"color:#B392F0\">getComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">Geometry\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(ComponentType.Geometry);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#E1E4E8\">geo) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> mat\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> node.\u003C/span>\u003Cspan style=\"color:#B392F0\">getComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(ComponentType.Material);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> wm\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> node.transform.worldMatrix;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.ctx.\u003C/span>\u003Cspan style=\"color:#B392F0\">save\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.ctx.\u003C/span>\u003Cspan style=\"color:#B392F0\">translate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(wm[\u003C/span>\u003Cspan style=\"color:#79B8FF\">12\u003C/span>\u003Cspan style=\"color:#E1E4E8\">], wm[\u003C/span>\u003Cspan style=\"color:#79B8FF\">13\u003C/span>\u003Cspan style=\"color:#E1E4E8\">]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (geo.definition.type \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> GeometryPrimitive.Box) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        const\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#79B8FF\">width\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">height\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> geo.definition;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (mat?.definition.color) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">          const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> c\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> mat.definition.color;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">          this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.ctx.fillStyle \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> `rgb(${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">c\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">r\u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\">255\u003C/span>\u003Cspan style=\"color:#9ECBFF\">},${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">c\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">g\u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\">255\u003C/span>\u003Cspan style=\"color:#9ECBFF\">},${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">c\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">b\u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\">255\u003C/span>\u003Cspan style=\"color:#9ECBFF\">})`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">        this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.ctx.\u003C/span>\u003Cspan style=\"color:#B392F0\">fillRect\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\">width\u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\">height\u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, width, height);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.ctx.\u003C/span>\u003Cspan style=\"color:#B392F0\">restore\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  dispose\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.scene \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> null\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"checklist\">Checklist\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Paso\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>1\u003C/td>\u003Ctd>Crear paquete en \u003Ccode>packages/renderer-xxx/\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>2\u003C/td>\u003Ctd>Agregar \u003Ccode>@oroya/core\u003C/code> como dependencia\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>3\u003C/td>\u003Ctd>Implementar \u003Ccode>mount()\u003C/code> ‚Äî recorrer √°rbol y crear objetos\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>4\u003C/td>\u003Ctd>Implementar \u003Ccode>render()\u003C/code> ‚Äî sincronizar transforms y dibujar\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>5\u003C/td>\u003Ctd>Implementar \u003Ccode>dispose()\u003C/code> ‚Äî liberar recursos\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>6\u003C/td>\u003Ctd>Documentar geometr√≠as y materiales soportados\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>",{"headings":694,"localImagePaths":802,"remoteImagePaths":803,"frontmatter":804,"imagePaths":805},[695,696,699,702,705,708,709,712,713,714,717,718,721,724,727,730,733,734,737,740,743,746,749,752,755,758,761,764,767,770,773,776,779,781,782,785,787,790,793,796,799],{"depth":26,"slug":232,"text":233},{"depth":16,"slug":697,"text":698},"visi√≥n-general","Visi√≥n general",{"depth":16,"slug":700,"text":701},"oroyarenderer-three--threejs-webgl","@oroya/renderer-three ‚Äî Three.js (WebGL)",{"depth":36,"slug":703,"text":704},"setup","Setup",{"depth":36,"slug":706,"text":707},"opciones-del-constructor","Opciones del constructor",{"depth":36,"slug":302,"text":303},{"depth":36,"slug":710,"text":711},"ciclo-de-vida","Ciclo de vida",{"depth":36,"slug":563,"text":564},{"depth":36,"slug":566,"text":567},{"depth":36,"slug":715,"text":716},"resoluci√≥n-de-c√°maras","Resoluci√≥n de c√°maras",{"depth":36,"slug":317,"text":318},{"depth":16,"slug":719,"text":720},"oroyarenderer-svg--svg-2d","@oroya/renderer-svg ‚Äî SVG (2D)",{"depth":36,"slug":722,"text":723},"rendertosvg--string-puro-server-safe","renderToSVG ‚Äî String puro (server-safe)",{"depth":295,"slug":725,"text":726},"opciones-svgrenderoptions","Opciones (SvgRenderOptions)",{"depth":36,"slug":728,"text":729},"rendertosvgelement--dom-interactivo","renderToSVGElement ‚Äî DOM interactivo",{"depth":295,"slug":731,"text":732},"opciones-svgelementrenderoptions","Opciones (SvgElementRenderOptions)",{"depth":295,"slug":586,"text":587},{"depth":295,"slug":735,"text":736},"eventos-interactivos-soportados","Eventos interactivos soportados",{"depth":36,"slug":738,"text":739},"pipeline","Pipeline",{"depth":36,"slug":741,"text":742},"soporte-de-geometr√≠as","Soporte de geometr√≠as",{"depth":36,"slug":744,"text":745},"propiedades-del-material-para-svg","Propiedades del material para SVG",{"depth":36,"slug":747,"text":748},"transforms-y-jerarqu√≠a","Transforms y jerarqu√≠a",{"depth":36,"slug":750,"text":751},"gradientes","Gradientes",{"depth":36,"slug":753,"text":754},"texto","Texto",{"depth":36,"slug":756,"text":757},"css-classes-y-ids-sem√°nticos","CSS Classes y IDs sem√°nticos",{"depth":36,"slug":759,"text":760},"c√°mara-ortogr√°fica-y-viewbox","C√°mara ortogr√°fica y viewBox",{"depth":36,"slug":762,"text":763},"svg-filters-clip-paths-y-masks","SVG Filters, Clip Paths y Masks",{"depth":295,"slug":765,"text":766},"blur","Blur",{"depth":295,"slug":768,"text":769},"drop-shadow","Drop Shadow",{"depth":295,"slug":771,"text":772},"clip-path","Clip Path",{"depth":295,"slug":774,"text":775},"mask","Mask",{"depth":36,"slug":777,"text":778},"svg-animaciones-nativas","SVG Animaciones nativas",{"depth":36,"slug":780,"text":318},"ejemplo-completo-1",{"depth":36,"slug":661,"text":662},{"depth":16,"slug":783,"text":784},"comparaci√≥n-entre-renderers","Comparaci√≥n entre renderers",{"depth":36,"slug":786,"text":742},"soporte-de-geometr√≠as-1",{"depth":36,"slug":788,"text":789},"soporte-de-material","Soporte de material",{"depth":36,"slug":791,"text":792},"soporte-de-transforms","Soporte de transforms",{"depth":36,"slug":794,"text":795},"soporte-de-componentes-especiales","Soporte de componentes especiales",{"depth":16,"slug":797,"text":798},"crear-un-renderer-personalizado","Crear un renderer personalizado",{"depth":36,"slug":800,"text":801},"checklist","Checklist",[],[],{"title":233,"description":687,"order":295,"category":17},[],"contributing",{"id":806,"data":808,"body":813,"filePath":814,"digest":815,"rendered":816},{"title":809,"description":810,"order":811,"category":812},"Contributing","Development setup, workflow, and contribution guidelines",7,"development","# Contributing & Development\r\n\r\nGuide for setting up the dev environment, running the project locally, and contributing.\r\n\r\n---\r\n\r\n## Prerequisites\r\n\r\n- **Node.js** v18 or higher\r\n- **pnpm** v9+ (managed via [Corepack](https://nodejs.org/api/corepack.html))\r\n\r\nTo enable Corepack (ensures the correct pnpm version is used automatically):\r\n\r\n```bash\r\ncorepack enable\r\n```\r\n\r\n---\r\n\r\n## Setup\r\n\r\n```bash\r\n# Clone the repository\r\ngit clone https://github.com/joshuacba08/oroya-animate.git\r\ncd oroya-animate\r\n\r\n# Install all dependencies (root + all packages + all apps)\r\npnpm install\r\n```\r\n\r\n---\r\n\r\n## Available Scripts (Root)\r\n\r\n| Script           | Command               | Description                                   |\r\n|------------------|-----------------------|-----------------------------------------------|\r\n| Build all packages | `pnpm build`        | Builds all packages under `packages/` with tsup. |\r\n| Run tests        | `pnpm test`           | Runs all tests with Vitest.                   |\r\n| Watch tests      | `pnpm test:watch`     | Runs tests in watch mode.                     |\r\n| Dev (Vanilla)    | `pnpm dev:vanilla`    | Starts the vanilla JS demo with Vite.         |\r\n| Dev (React)      | `pnpm dev:react`      | Starts the React demo with Vite.              |\r\n| Clean            | `pnpm clean`          | Removes all `dist/` folders.                  |\r\n| Typecheck        | `pnpm typecheck`      | Runs `tsc --noEmit` across all packages.      |\r\n\r\n---\r\n\r\n## Development Workflow\r\n\r\n### 1. Build the core packages first\r\n\r\nBefore running any demo, make sure the packages are built:\r\n\r\n```bash\r\npnpm build\r\n```\r\n\r\n### 2. Start a demo\r\n\r\n```bash\r\n# Vanilla JS demo\r\npnpm dev:vanilla\r\n\r\n# React demo\r\npnpm dev:react\r\n```\r\n\r\n### 3. Make changes to a package\r\n\r\nIf you're modifying a package (e.g., `@oroya/core`), you can run its build in watch mode:\r\n\r\n```bash\r\n# In one terminal ‚Äî watch for core changes\r\ncd packages/core\r\npnpm dev\r\n\r\n# In another terminal ‚Äî run the demo\r\ncd ../..\r\npnpm dev:vanilla\r\n```\r\n\r\n### 4. Run tests\r\n\r\n```bash\r\npnpm test\r\n```\r\n\r\nTests are located in `packages/core/tests/` and use [Vitest](https://vitest.dev/).\r\n\r\n---\r\n\r\n## Project Layout\r\n\r\n```\r\noroya-animate/\r\n‚îú‚îÄ‚îÄ package.json              # Root scripts and devDependencies\r\n‚îú‚îÄ‚îÄ pnpm-workspace.yaml       # Workspace definition\r\n‚îú‚îÄ‚îÄ tsconfig.base.json        # Shared TypeScript config\r\n‚îú‚îÄ‚îÄ docs/                     # Documentation (you are here)\r\n‚îú‚îÄ‚îÄ packages/\r\n‚îÇ   ‚îú‚îÄ‚îÄ core/                 # @oroya/core ‚Äî Scene graph, nodes, components\r\n‚îÇ   ‚îú‚îÄ‚îÄ renderer-three/       # @oroya/renderer-three ‚Äî WebGL backend\r\n‚îÇ   ‚îú‚îÄ‚îÄ renderer-svg/         # @oroya/renderer-svg ‚Äî SVG backend\r\n‚îÇ   ‚îî‚îÄ‚îÄ loader-gltf/          # @oroya/loader-gltf ‚Äî glTF importer\r\n‚îî‚îÄ‚îÄ apps/\r\n    ‚îú‚îÄ‚îÄ demo-vanilla/         # Vanilla JS demo app\r\n    ‚îî‚îÄ‚îÄ demo-react/           # React demo app\r\n```\r\n\r\n---\r\n\r\n## Build System\r\n\r\nEach package uses [tsup](https://tsup.egoist.dev/) for building:\r\n- Outputs both **ESM** (`.js`) and **CJS** (`.cjs`) formats.\r\n- Generates TypeScript declaration files (`.d.ts`).\r\n- Configuration is in `tsup.config.ts` inside each package.\r\n\r\n---\r\n\r\n## Testing Strategy\r\n\r\n- **Framework:** [Vitest](https://vitest.dev/) (Vite-native, Jest-compatible API).\r\n- **Location:** `packages/core/tests/`\r\n- **Current coverage:**\r\n  - Node creation and hierarchy (add/remove children)\r\n  - Scene serialization/deserialization round-trip\r\n\r\n### Running a specific test file\r\n\r\n```bash\r\npnpm test -- packages/core/tests/Node.test.ts\r\n```\r\n\r\n---\r\n\r\n## Code Style\r\n\r\n- TypeScript strict mode.\r\n- Components follow the ECS (Entity-Component System) pattern.\r\n- The core must **never** import from any renderer or external engine.\r\n- Renderers may import from `@oroya/core` only.","src/content/docs/contributing.md","b6c28b6e58cf65bb",{"html":817,"metadata":818},"\u003Ch1 id=\"contributing--development\">Contributing &#x26; Development\u003C/h1>\n\u003Cp>Guide for setting up the dev environment, running the project locally, and contributing.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"prerequisites\">Prerequisites\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Cstrong>Node.js\u003C/strong> v18 or higher\u003C/li>\n\u003Cli>\u003Cstrong>pnpm\u003C/strong> v9+ (managed via \u003Ca href=\"https://nodejs.org/api/corepack.html\">Corepack\u003C/a>)\u003C/li>\n\u003C/ul>\n\u003Cp>To enable Corepack (ensures the correct pnpm version is used automatically):\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">corepack\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> enable\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"setup\">Setup\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># Clone the repository\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">git\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> clone\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> https://github.com/joshuacba08/oroya-animate.git\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">cd\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> oroya-animate\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># Install all dependencies (root + all packages + all apps)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> install\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"available-scripts-root\">Available Scripts (Root)\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Script\u003C/th>\u003Cth>Command\u003C/th>\u003Cth>Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Build all packages\u003C/td>\u003Ctd>\u003Ccode>pnpm build\u003C/code>\u003C/td>\u003Ctd>Builds all packages under \u003Ccode>packages/\u003C/code> with tsup.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Run tests\u003C/td>\u003Ctd>\u003Ccode>pnpm test\u003C/code>\u003C/td>\u003Ctd>Runs all tests with Vitest.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Watch tests\u003C/td>\u003Ctd>\u003Ccode>pnpm test:watch\u003C/code>\u003C/td>\u003Ctd>Runs tests in watch mode.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Dev (Vanilla)\u003C/td>\u003Ctd>\u003Ccode>pnpm dev:vanilla\u003C/code>\u003C/td>\u003Ctd>Starts the vanilla JS demo with Vite.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Dev (React)\u003C/td>\u003Ctd>\u003Ccode>pnpm dev:react\u003C/code>\u003C/td>\u003Ctd>Starts the React demo with Vite.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Clean\u003C/td>\u003Ctd>\u003Ccode>pnpm clean\u003C/code>\u003C/td>\u003Ctd>Removes all \u003Ccode>dist/\u003C/code> folders.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Typecheck\u003C/td>\u003Ctd>\u003Ccode>pnpm typecheck\u003C/code>\u003C/td>\u003Ctd>Runs \u003Ccode>tsc --noEmit\u003C/code> across all packages.\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"development-workflow\">Development Workflow\u003C/h2>\n\u003Ch3 id=\"1-build-the-core-packages-first\">1. Build the core packages first\u003C/h3>\n\u003Cp>Before running any demo, make sure the packages are built:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> build\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"2-start-a-demo\">2. Start a demo\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># Vanilla JS demo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> dev:vanilla\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># React demo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> dev:react\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"3-make-changes-to-a-package\">3. Make changes to a package\u003C/h3>\n\u003Cp>If you‚Äôre modifying a package (e.g., \u003Ccode>@oroya/core\u003C/code>), you can run its build in watch mode:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># In one terminal ‚Äî watch for core changes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">cd\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> packages/core\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> dev\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># In another terminal ‚Äî run the demo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">cd\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ../..\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> dev:vanilla\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"4-run-tests\">4. Run tests\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> test\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Tests are located in \u003Ccode>packages/core/tests/\u003C/code> and use \u003Ca href=\"https://vitest.dev/\">Vitest\u003C/a>.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"project-layout\">Project Layout\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>oroya-animate/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îú‚îÄ‚îÄ package.json              # Root scripts and devDependencies\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îú‚îÄ‚îÄ pnpm-workspace.yaml       # Workspace definition\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îú‚îÄ‚îÄ tsconfig.base.json        # Shared TypeScript config\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îú‚îÄ‚îÄ docs/                     # Documentation (you are here)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îú‚îÄ‚îÄ packages/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îÇ   ‚îú‚îÄ‚îÄ core/                 # @oroya/core ‚Äî Scene graph, nodes, components\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îÇ   ‚îú‚îÄ‚îÄ renderer-three/       # @oroya/renderer-three ‚Äî WebGL backend\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îÇ   ‚îú‚îÄ‚îÄ renderer-svg/         # @oroya/renderer-svg ‚Äî SVG backend\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îÇ   ‚îî‚îÄ‚îÄ loader-gltf/          # @oroya/loader-gltf ‚Äî glTF importer\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îî‚îÄ‚îÄ apps/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    ‚îú‚îÄ‚îÄ demo-vanilla/         # Vanilla JS demo app\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    ‚îî‚îÄ‚îÄ demo-react/           # React demo app\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"build-system\">Build System\u003C/h2>\n\u003Cp>Each package uses \u003Ca href=\"https://tsup.egoist.dev/\">tsup\u003C/a> for building:\u003C/p>\n\u003Cul>\n\u003Cli>Outputs both \u003Cstrong>ESM\u003C/strong> (\u003Ccode>.js\u003C/code>) and \u003Cstrong>CJS\u003C/strong> (\u003Ccode>.cjs\u003C/code>) formats.\u003C/li>\n\u003Cli>Generates TypeScript declaration files (\u003Ccode>.d.ts\u003C/code>).\u003C/li>\n\u003Cli>Configuration is in \u003Ccode>tsup.config.ts\u003C/code> inside each package.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"testing-strategy\">Testing Strategy\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Cstrong>Framework:\u003C/strong> \u003Ca href=\"https://vitest.dev/\">Vitest\u003C/a> (Vite-native, Jest-compatible API).\u003C/li>\n\u003Cli>\u003Cstrong>Location:\u003C/strong> \u003Ccode>packages/core/tests/\u003C/code>\u003C/li>\n\u003Cli>\u003Cstrong>Current coverage:\u003C/strong>\n\u003Cul>\n\u003Cli>Node creation and hierarchy (add/remove children)\u003C/li>\n\u003Cli>Scene serialization/deserialization round-trip\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"running-a-specific-test-file\">Running a specific test file\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> test\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> packages/core/tests/Node.test.ts\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"code-style\">Code Style\u003C/h2>\n\u003Cul>\n\u003Cli>TypeScript strict mode.\u003C/li>\n\u003Cli>Components follow the ECS (Entity-Component System) pattern.\u003C/li>\n\u003Cli>The core must \u003Cstrong>never\u003C/strong> import from any renderer or external engine.\u003C/li>\n\u003Cli>Renderers may import from \u003Ccode>@oroya/core\u003C/code> only.\u003C/li>\n\u003C/ul>",{"headings":819,"localImagePaths":860,"remoteImagePaths":861,"frontmatter":862,"imagePaths":863},[820,823,826,827,830,833,836,839,842,845,848,851,854,857],{"depth":26,"slug":821,"text":822},"contributing--development","Contributing & Development",{"depth":16,"slug":824,"text":825},"prerequisites","Prerequisites",{"depth":16,"slug":703,"text":704},{"depth":16,"slug":828,"text":829},"available-scripts-root","Available Scripts (Root)",{"depth":16,"slug":831,"text":832},"development-workflow","Development Workflow",{"depth":36,"slug":834,"text":835},"1-build-the-core-packages-first","1. Build the core packages first",{"depth":36,"slug":837,"text":838},"2-start-a-demo","2. Start a demo",{"depth":36,"slug":840,"text":841},"3-make-changes-to-a-package","3. Make changes to a package",{"depth":36,"slug":843,"text":844},"4-run-tests","4. Run tests",{"depth":16,"slug":846,"text":847},"project-layout","Project Layout",{"depth":16,"slug":849,"text":850},"build-system","Build System",{"depth":16,"slug":852,"text":853},"testing-strategy","Testing Strategy",{"depth":36,"slug":855,"text":856},"running-a-specific-test-file","Running a specific test file",{"depth":16,"slug":858,"text":859},"code-style","Code Style",[],[],{"title":809,"description":810,"order":811,"category":812},[],"programming-principles",{"id":864,"data":866,"body":870,"filePath":871,"digest":872,"rendered":873},{"title":867,"description":868,"order":869,"category":812},"Programming Principles","Coding conventions and design principles guiding the project",8,"# Principios de Programaci√≥n ‚Äî Oroya Animate\r\n\r\nPrincipios y convenciones que gu√≠an el desarrollo del monorepo. Nacen de lecciones aprendidas durante la evoluci√≥n del proyecto.\r\n\r\n---\r\n\r\n## 1. Arquitectura\r\n\r\n### 1.1 Dependencias en una sola direcci√≥n\r\n\r\n```\r\n@oroya/core ‚Üê renderers ‚Üê loaders ‚Üê apps\r\n```\r\n\r\n- `@oroya/core` **nunca** importa de renderers, loaders ni de librer√≠as externas de rendering (Three.js, etc.).\r\n- Los renderers solo importan de `@oroya/core`.\r\n- Las apps importan de cualquier paquete.\r\n\r\n> **Por qu√©:** Mantener el core desacoplado permite que funcione en cualquier entorno (browser, Node.js, WebWorkers) y que se puedan agregar nuevos renderers sin tocar el core.\r\n\r\n### 1.2 Contract-first para interfaces compartidas\r\n\r\nAntes de que un paquete downstream use una propiedad nueva, esa propiedad **debe existir primero** en la interfaz del paquete upstream.\r\n\r\n```typescript\r\n// ‚úÖ Primero definir en @oroya/core\r\nexport interface MaterialDef {\r\n  fill?: ColorRGB;\r\n}\r\n\r\n// ‚úÖ Luego usar en @oroya/renderer-svg\r\nconst fill = material.definition.fill;\r\n```\r\n\r\n```typescript\r\n// ‚ùå Nunca usar propiedades que no est√°n en la interfaz\r\nconst fill = (material.definition as any).fill;\r\n```\r\n\r\n> **Por qu√©:** Evita errores de compilaci√≥n silenciosos y asegura que la API del core sea la fuente de verdad.\r\n\r\n---\r\n\r\n## 2. M√≥dulos y exports\r\n\r\n### 2.1 Barrel files obligatorios\r\n\r\nCada directorio que se importe como m√≥dulo **debe** tener un `index.ts` que re-exporte todo lo p√∫blico.\r\n\r\n```\r\ncomponents/\r\n‚îú‚îÄ‚îÄ index.ts          ‚Üê obligatorio si se importa como '../components'\r\n‚îú‚îÄ‚îÄ Component.ts\r\n‚îú‚îÄ‚îÄ Transform.ts\r\n‚îî‚îÄ‚îÄ Geometry.ts\r\n```\r\n\r\n```typescript\r\n// components/index.ts\r\nexport { Component, ComponentType } from './Component';\r\nexport { Transform } from './Transform';\r\nexport { Geometry } from './Geometry';\r\n```\r\n\r\n> **Por qu√©:** Sin barrel file, esbuild y TypeScript no pueden resolver imports a directorios.\r\n\r\n### 2.2 Extensiones de `package.json` deben coincidir con la salida real\r\n\r\nVerificar qu√© archivos genera tsup **antes** de escribir `exports` en `package.json`:\r\n\r\n| `\"type\"` del package | Formato | Extensi√≥n |\r\n|---------------------|---------|-----------|\r\n| `\"module\"` | ESM | `.js` |\r\n| `\"module\"` | CJS | `.cjs` |\r\n| sin `\"type\"` | ESM | `.mjs` |\r\n| sin `\"type\"` | CJS | `.js` |\r\n\r\n```json\r\n{\r\n  \"type\": \"module\",\r\n  \"exports\": {\r\n    \".\": {\r\n      \"types\": \"./dist/index.d.ts\",\r\n      \"import\": \"./dist/index.js\",\r\n      \"require\": \"./dist/index.cjs\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n### 2.3 `types` siempre primero en `exports`\r\n\r\nLa condici√≥n `types` debe ser la **primera** en el objeto de exports. Node.js eval√∫a las condiciones en orden, y si `import` o `require` vienen antes, `types` nunca se alcanza.\r\n\r\n---\r\n\r\n## 3. TypeScript\r\n\r\n### 3.1 Strict mode siempre\r\n\r\nEl `tsconfig.base.json` tiene `\"strict\": true`. Nunca desactivar flags individuales de strictness. Esto incluye:\r\n\r\n- `noImplicitAny` ‚Äî todo debe tener tipo expl√≠cito o inferido.\r\n- `noUnusedLocals` ‚Äî no dejar imports o variables sin usar.\r\n- `noUnusedParameters` ‚Äî no dejar par√°metros sin usar.\r\n\r\n### 3.2 No usar `any` como escape\r\n\r\n```typescript\r\n// ‚ùå\r\nconst data = response as any;\r\n\r\n// ‚úÖ\r\ninterface ApiResponse { ... }\r\nconst data = response as ApiResponse;\r\n```\r\n\r\nSi TypeScript no puede inferir un tipo, crear una interfaz. Si es un tipo externo, instalar `@types/*`.\r\n\r\n### 3.3 Cada paquete declara sus propias `@types/*`\r\n\r\nEn un monorepo, las dependencias de tipos **no se comparten** entre paquetes. Si `renderer-three` tiene `@types/three`, `loader-gltf` igual necesita declararlo por separado.\r\n\r\n```json\r\n// ‚ùå \"Ya est√° instalado en otro paquete\"\r\n// ‚úÖ Declararlo expl√≠citamente\r\n{\r\n  \"devDependencies\": {\r\n    \"@types/three\": \"^0.165.0\"\r\n  }\r\n}\r\n```\r\n\r\n### 3.4 `composite: false` para paquetes que usan tsup\r\n\r\ntsup maneja la generaci√≥n de `.d.ts` con su propio worker. La opci√≥n `composite: true` (heredada del base) entra en conflicto. Cada paquete debe sobreescribirla:\r\n\r\n```json\r\n{\r\n  \"extends\": \"../../tsconfig.base.json\",\r\n  \"compilerOptions\": {\r\n    \"composite\": false\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\n## 4. C√≥digo limpio\r\n\r\n### 4.1 No dejar imports sin usar\r\n\r\nEliminar imports que no se usen. Configura tu editor para organizar imports al guardar.\r\n\r\n### 4.2 Usar escape sequences en strings\r\n\r\nNunca insertar saltos de l√≠nea literales dentro de strings con comillas simples/dobles:\r\n\r\n```typescript\r\n// ‚ùå Salto de l√≠nea literal rompe la compilaci√≥n\r\npaths.join('\r\n    ')\r\n\r\n// ‚úÖ Usar escape sequence\r\npaths.join('\\n    ')\r\n```\r\n\r\n### 4.3 Un componente, una responsabilidad\r\n\r\nCada `Component` en el sistema ECS debe representar **un solo aspecto** del nodo:\r\n\r\n- `Transform` ‚Üí posici√≥n, rotaci√≥n, escala\r\n- `Geometry` ‚Üí forma geom√©trica\r\n- `Material` ‚Üí apariencia visual\r\n- `Camera` ‚Üí proyecci√≥n y viewport\r\n\r\nNo mezclar datos de geometr√≠a con datos de material en un mismo componente.\r\n\r\n---\r\n\r\n## 5. Monorepo\r\n\r\n### 5.1 Siempre `pnpm build` antes de `pnpm dev`\r\n\r\nLos paquetes del workspace se resuelven a trav√©s de sus `dist/`. Si no hay build previo, el dev server falla.\r\n\r\n**Workflow recomendado:**\r\n\r\n```bash\r\npnpm build         # compilar todos los paquetes\r\npnpm dev:react     # ahora s√≠, iniciar la demo\r\n```\r\n\r\nPara desarrollo continuo, usar `tsup --watch` en los paquetes:\r\n\r\n```bash\r\n# Terminal 1: watch en paquetes\r\npnpm --filter \"./packages/**\" dev\r\n\r\n# Terminal 2: dev server\r\npnpm dev:react\r\n```\r\n\r\n### 5.2 Dependencias expl√≠citas por paquete\r\n\r\nCada paquete en el workspace debe declarar **todas** sus dependencias en su propio `package.json`. No asumir que algo est√° disponible porque otro paquete lo tiene instalado.\r\n\r\n### 5.3 Versiones consistentes\r\n\r\nTodas las instancias de una misma dependencia en el monorepo deben usar la misma versi√≥n. Usar herramientas como [syncpack](https://jamiemason.github.io/syncpack/) para verificar esto.\r\n\r\n---\r\n\r\n## 6. Validaci√≥n\r\n\r\n### 6.1 Build completo como gate de calidad\r\n\r\nAntes de hacer commit o pull request, ejecutar:\r\n\r\n```bash\r\npnpm build      # ¬øcompila todo?\r\npnpm test       # ¬øpasan los tests?\r\npnpm typecheck  # ¬ølos tipos son correctos?\r\n```\r\n\r\n### 6.2 Herramientas recomendadas\r\n\r\n| Qu√© valida | Herramienta |\r\n|------------|-------------|\r\n| Exports de `package.json` apuntan a archivos reales | [publint](https://publint.dev/) |\r\n| Tipos se resuelven correctamente para consumidores | [arethetypeswrong](https://arethetypeswrong.github.io/) |\r\n| Imports se resuelven correctamente | `eslint-plugin-import` |\r\n| Versiones consistentes en el monorepo | `syncpack` |\r\n| Imports no usados | `noUnusedLocals` + editor auto-organize |\r\n\r\n---\r\n\r\n## Resumen r√°pido\r\n\r\n| Principio | Regla clave |\r\n|-----------|-------------|\r\n| Dependencias unidireccionales | Core ‚Üí Renderers ‚Üí Apps. Nunca al rev√©s. |\r\n| Barrel files | Directorio importado = necesita `index.ts` |\r\n| Extensiones correctas | Verificar la salida real de tsup |\r\n| `types` primero | Siempre primera condici√≥n en `exports` |\r\n| Strict mode | Nunca usar `any` ni desactivar checks |\r\n| Tipos propios | Cada paquete declara sus `@types/*` |\r\n| Build antes de dev | `pnpm build` antes de `pnpm dev:*` |\r\n| Contract-first | Definir la interfaz antes de usarla |","src/content/docs/programming-principles.md","2ee0e571796baff9",{"html":874,"metadata":875},"\u003Ch1 id=\"principios-de-programaci√≥n--oroya-animate\">Principios de Programaci√≥n ‚Äî Oroya Animate\u003C/h1>\n\u003Cp>Principios y convenciones que gu√≠an el desarrollo del monorepo. Nacen de lecciones aprendidas durante la evoluci√≥n del proyecto.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"1-arquitectura\">1. Arquitectura\u003C/h2>\n\u003Ch3 id=\"11-dependencias-en-una-sola-direcci√≥n\">1.1 Dependencias en una sola direcci√≥n\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>@oroya/core ‚Üê renderers ‚Üê loaders ‚Üê apps\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>\u003Ccode>@oroya/core\u003C/code> \u003Cstrong>nunca\u003C/strong> importa de renderers, loaders ni de librer√≠as externas de rendering (Three.js, etc.).\u003C/li>\n\u003Cli>Los renderers solo importan de \u003Ccode>@oroya/core\u003C/code>.\u003C/li>\n\u003Cli>Las apps importan de cualquier paquete.\u003C/li>\n\u003C/ul>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Por qu√©:\u003C/strong> Mantener el core desacoplado permite que funcione en cualquier entorno (browser, Node.js, WebWorkers) y que se puedan agregar nuevos renderers sin tocar el core.\u003C/p>\n\u003C/blockquote>\n\u003Ch3 id=\"12-contract-first-para-interfaces-compartidas\">1.2 Contract-first para interfaces compartidas\u003C/h3>\n\u003Cp>Antes de que un paquete downstream use una propiedad nueva, esa propiedad \u003Cstrong>debe existir primero\u003C/strong> en la interfaz del paquete upstream.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚úÖ Primero definir en @oroya/core\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> interface\u003C/span>\u003Cspan style=\"color:#B392F0\"> MaterialDef\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  fill\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#B392F0\"> ColorRGB\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚úÖ Luego usar en @oroya/renderer-svg\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> fill\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> material.definition.fill;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚ùå Nunca usar propiedades que no est√°n en la interfaz\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> fill\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (material.definition \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#79B8FF\"> any\u003C/span>\u003Cspan style=\"color:#E1E4E8\">).fill;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Por qu√©:\u003C/strong> Evita errores de compilaci√≥n silenciosos y asegura que la API del core sea la fuente de verdad.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"2-m√≥dulos-y-exports\">2. M√≥dulos y exports\u003C/h2>\n\u003Ch3 id=\"21-barrel-files-obligatorios\">2.1 Barrel files obligatorios\u003C/h3>\n\u003Cp>Cada directorio que se importe como m√≥dulo \u003Cstrong>debe\u003C/strong> tener un \u003Ccode>index.ts\u003C/code> que re-exporte todo lo p√∫blico.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>components/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îú‚îÄ‚îÄ index.ts          ‚Üê obligatorio si se importa como '../components'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îú‚îÄ‚îÄ Component.ts\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îú‚îÄ‚îÄ Transform.ts\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îî‚îÄ‚îÄ Geometry.ts\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// components/index.ts\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Component, ComponentType } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './Component'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Transform } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './Transform'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Geometry } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './Geometry'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Por qu√©:\u003C/strong> Sin barrel file, esbuild y TypeScript no pueden resolver imports a directorios.\u003C/p>\n\u003C/blockquote>\n\u003Ch3 id=\"22-extensiones-de-packagejson-deben-coincidir-con-la-salida-real\">2.2 Extensiones de \u003Ccode>package.json\u003C/code> deben coincidir con la salida real\u003C/h3>\n\u003Cp>Verificar qu√© archivos genera tsup \u003Cstrong>antes\u003C/strong> de escribir \u003Ccode>exports\u003C/code> en \u003Ccode>package.json\u003C/code>:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>\u003Ccode>\"type\"\u003C/code> del package\u003C/th>\u003Cth>Formato\u003C/th>\u003Cth>Extensi√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>\"module\"\u003C/code>\u003C/td>\u003Ctd>ESM\u003C/td>\u003Ctd>\u003Ccode>.js\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>\"module\"\u003C/code>\u003C/td>\u003Ctd>CJS\u003C/td>\u003Ctd>\u003Ccode>.cjs\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>sin \u003Ccode>\"type\"\u003C/code>\u003C/td>\u003Ctd>ESM\u003C/td>\u003Ctd>\u003Ccode>.mjs\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>sin \u003Ccode>\"type\"\u003C/code>\u003C/td>\u003Ctd>CJS\u003C/td>\u003Ctd>\u003Ccode>.js\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"type\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"module\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"exports\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \".\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      \"types\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"./dist/index.d.ts\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      \"import\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"./dist/index.js\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      \"require\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"./dist/index.cjs\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"23-types-siempre-primero-en-exports\">2.3 \u003Ccode>types\u003C/code> siempre primero en \u003Ccode>exports\u003C/code>\u003C/h3>\n\u003Cp>La condici√≥n \u003Ccode>types\u003C/code> debe ser la \u003Cstrong>primera\u003C/strong> en el objeto de exports. Node.js eval√∫a las condiciones en orden, y si \u003Ccode>import\u003C/code> o \u003Ccode>require\u003C/code> vienen antes, \u003Ccode>types\u003C/code> nunca se alcanza.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"3-typescript\">3. TypeScript\u003C/h2>\n\u003Ch3 id=\"31-strict-mode-siempre\">3.1 Strict mode siempre\u003C/h3>\n\u003Cp>El \u003Ccode>tsconfig.base.json\u003C/code> tiene \u003Ccode>\"strict\": true\u003C/code>. Nunca desactivar flags individuales de strictness. Esto incluye:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode>noImplicitAny\u003C/code> ‚Äî todo debe tener tipo expl√≠cito o inferido.\u003C/li>\n\u003Cli>\u003Ccode>noUnusedLocals\u003C/code> ‚Äî no dejar imports o variables sin usar.\u003C/li>\n\u003Cli>\u003Ccode>noUnusedParameters\u003C/code> ‚Äî no dejar par√°metros sin usar.\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"32-no-usar-any-como-escape\">3.2 No usar \u003Ccode>any\u003C/code> como escape\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚ùå\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> data\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> response \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#79B8FF\"> any\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚úÖ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">interface\u003C/span>\u003Cspan style=\"color:#B392F0\"> ApiResponse\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> data\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> response \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> ApiResponse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Si TypeScript no puede inferir un tipo, crear una interfaz. Si es un tipo externo, instalar \u003Ccode>@types/*\u003C/code>.\u003C/p>\n\u003Ch3 id=\"33-cada-paquete-declara-sus-propias-types\">3.3 Cada paquete declara sus propias \u003Ccode>@types/*\u003C/code>\u003C/h3>\n\u003Cp>En un monorepo, las dependencias de tipos \u003Cstrong>no se comparten\u003C/strong> entre paquetes. Si \u003Ccode>renderer-three\u003C/code> tiene \u003Ccode>@types/three\u003C/code>, \u003Ccode>loader-gltf\u003C/code> igual necesita declararlo por separado.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚ùå \"Ya est√° instalado en otro paquete\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚úÖ Declararlo expl√≠citamente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"devDependencies\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"@types/three\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"^0.165.0\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"34-composite-false-para-paquetes-que-usan-tsup\">3.4 \u003Ccode>composite: false\u003C/code> para paquetes que usan tsup\u003C/h3>\n\u003Cp>tsup maneja la generaci√≥n de \u003Ccode>.d.ts\u003C/code> con su propio worker. La opci√≥n \u003Ccode>composite: true\u003C/code> (heredada del base) entra en conflicto. Cada paquete debe sobreescribirla:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"extends\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"../../tsconfig.base.json\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"compilerOptions\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"composite\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">false\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"4-c√≥digo-limpio\">4. C√≥digo limpio\u003C/h2>\n\u003Ch3 id=\"41-no-dejar-imports-sin-usar\">4.1 No dejar imports sin usar\u003C/h3>\n\u003Cp>Eliminar imports que no se usen. Configura tu editor para organizar imports al guardar.\u003C/p>\n\u003Ch3 id=\"42-usar-escape-sequences-en-strings\">4.2 Usar escape sequences en strings\u003C/h3>\n\u003Cp>Nunca insertar saltos de l√≠nea literales dentro de strings con comillas simples/dobles:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚ùå Salto de l√≠nea literal rompe la compilaci√≥n\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">paths.\u003C/span>\u003Cspan style=\"color:#B392F0\">join\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#9ECBFF\">    '\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚úÖ Usar escape sequence\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">paths.\u003C/span>\u003Cspan style=\"color:#B392F0\">join\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'\u003C/span>\u003Cspan style=\"color:#79B8FF\">\\n\u003C/span>\u003Cspan style=\"color:#9ECBFF\">    '\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"43-un-componente-una-responsabilidad\">4.3 Un componente, una responsabilidad\u003C/h3>\n\u003Cp>Cada \u003Ccode>Component\u003C/code> en el sistema ECS debe representar \u003Cstrong>un solo aspecto\u003C/strong> del nodo:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode>Transform\u003C/code> ‚Üí posici√≥n, rotaci√≥n, escala\u003C/li>\n\u003Cli>\u003Ccode>Geometry\u003C/code> ‚Üí forma geom√©trica\u003C/li>\n\u003Cli>\u003Ccode>Material\u003C/code> ‚Üí apariencia visual\u003C/li>\n\u003Cli>\u003Ccode>Camera\u003C/code> ‚Üí proyecci√≥n y viewport\u003C/li>\n\u003C/ul>\n\u003Cp>No mezclar datos de geometr√≠a con datos de material en un mismo componente.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"5-monorepo\">5. Monorepo\u003C/h2>\n\u003Ch3 id=\"51-siempre-pnpm-build-antes-de-pnpm-dev\">5.1 Siempre \u003Ccode>pnpm build\u003C/code> antes de \u003Ccode>pnpm dev\u003C/code>\u003C/h3>\n\u003Cp>Los paquetes del workspace se resuelven a trav√©s de sus \u003Ccode>dist/\u003C/code>. Si no hay build previo, el dev server falla.\u003C/p>\n\u003Cp>\u003Cstrong>Workflow recomendado:\u003C/strong>\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> build\u003C/span>\u003Cspan style=\"color:#6A737D\">         # compilar todos los paquetes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> dev:react\u003C/span>\u003Cspan style=\"color:#6A737D\">     # ahora s√≠, iniciar la demo\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Para desarrollo continuo, usar \u003Ccode>tsup --watch\u003C/code> en los paquetes:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># Terminal 1: watch en paquetes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --filter\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"./packages/**\"\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> dev\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># Terminal 2: dev server\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> dev:react\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"52-dependencias-expl√≠citas-por-paquete\">5.2 Dependencias expl√≠citas por paquete\u003C/h3>\n\u003Cp>Cada paquete en el workspace debe declarar \u003Cstrong>todas\u003C/strong> sus dependencias en su propio \u003Ccode>package.json\u003C/code>. No asumir que algo est√° disponible porque otro paquete lo tiene instalado.\u003C/p>\n\u003Ch3 id=\"53-versiones-consistentes\">5.3 Versiones consistentes\u003C/h3>\n\u003Cp>Todas las instancias de una misma dependencia en el monorepo deben usar la misma versi√≥n. Usar herramientas como \u003Ca href=\"https://jamiemason.github.io/syncpack/\">syncpack\u003C/a> para verificar esto.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"6-validaci√≥n\">6. Validaci√≥n\u003C/h2>\n\u003Ch3 id=\"61-build-completo-como-gate-de-calidad\">6.1 Build completo como gate de calidad\u003C/h3>\n\u003Cp>Antes de hacer commit o pull request, ejecutar:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> build\u003C/span>\u003Cspan style=\"color:#6A737D\">      # ¬øcompila todo?\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> test\u003C/span>\u003Cspan style=\"color:#6A737D\">       # ¬øpasan los tests?\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">pnpm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> typecheck\u003C/span>\u003Cspan style=\"color:#6A737D\">  # ¬ølos tipos son correctos?\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"62-herramientas-recomendadas\">6.2 Herramientas recomendadas\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Qu√© valida\u003C/th>\u003Cth>Herramienta\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Exports de \u003Ccode>package.json\u003C/code> apuntan a archivos reales\u003C/td>\u003Ctd>\u003Ca href=\"https://publint.dev/\">publint\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Tipos se resuelven correctamente para consumidores\u003C/td>\u003Ctd>\u003Ca href=\"https://arethetypeswrong.github.io/\">arethetypeswrong\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Imports se resuelven correctamente\u003C/td>\u003Ctd>\u003Ccode>eslint-plugin-import\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Versiones consistentes en el monorepo\u003C/td>\u003Ctd>\u003Ccode>syncpack\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Imports no usados\u003C/td>\u003Ctd>\u003Ccode>noUnusedLocals\u003C/code> + editor auto-organize\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"resumen-r√°pido\">Resumen r√°pido\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Principio\u003C/th>\u003Cth>Regla clave\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Dependencias unidireccionales\u003C/td>\u003Ctd>Core ‚Üí Renderers ‚Üí Apps. Nunca al rev√©s.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Barrel files\u003C/td>\u003Ctd>Directorio importado = necesita \u003Ccode>index.ts\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Extensiones correctas\u003C/td>\u003Ctd>Verificar la salida real de tsup\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>types\u003C/code> primero\u003C/td>\u003Ctd>Siempre primera condici√≥n en \u003Ccode>exports\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Strict mode\u003C/td>\u003Ctd>Nunca usar \u003Ccode>any\u003C/code> ni desactivar checks\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Tipos propios\u003C/td>\u003Ctd>Cada paquete declara sus \u003Ccode>@types/*\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Build antes de dev\u003C/td>\u003Ctd>\u003Ccode>pnpm build\u003C/code> antes de \u003Ccode>pnpm dev:*\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Contract-first\u003C/td>\u003Ctd>Definir la interfaz antes de usarla\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>",{"headings":876,"localImagePaths":952,"remoteImagePaths":953,"frontmatter":954,"imagePaths":955},[877,880,883,886,889,892,895,898,901,904,907,910,913,916,919,922,925,928,931,934,937,940,943,946,949],{"depth":26,"slug":878,"text":879},"principios-de-programaci√≥n--oroya-animate","Principios de Programaci√≥n ‚Äî Oroya Animate",{"depth":16,"slug":881,"text":882},"1-arquitectura","1. Arquitectura",{"depth":36,"slug":884,"text":885},"11-dependencias-en-una-sola-direcci√≥n","1.1 Dependencias en una sola direcci√≥n",{"depth":36,"slug":887,"text":888},"12-contract-first-para-interfaces-compartidas","1.2 Contract-first para interfaces compartidas",{"depth":16,"slug":890,"text":891},"2-m√≥dulos-y-exports","2. M√≥dulos y exports",{"depth":36,"slug":893,"text":894},"21-barrel-files-obligatorios","2.1 Barrel files obligatorios",{"depth":36,"slug":896,"text":897},"22-extensiones-de-packagejson-deben-coincidir-con-la-salida-real","2.2 Extensiones de package.json deben coincidir con la salida real",{"depth":36,"slug":899,"text":900},"23-types-siempre-primero-en-exports","2.3 types siempre primero en exports",{"depth":16,"slug":902,"text":903},"3-typescript","3. TypeScript",{"depth":36,"slug":905,"text":906},"31-strict-mode-siempre","3.1 Strict mode siempre",{"depth":36,"slug":908,"text":909},"32-no-usar-any-como-escape","3.2 No usar any como escape",{"depth":36,"slug":911,"text":912},"33-cada-paquete-declara-sus-propias-types","3.3 Cada paquete declara sus propias @types/*",{"depth":36,"slug":914,"text":915},"34-composite-false-para-paquetes-que-usan-tsup","3.4 composite: false para paquetes que usan tsup",{"depth":16,"slug":917,"text":918},"4-c√≥digo-limpio","4. C√≥digo limpio",{"depth":36,"slug":920,"text":921},"41-no-dejar-imports-sin-usar","4.1 No dejar imports sin usar",{"depth":36,"slug":923,"text":924},"42-usar-escape-sequences-en-strings","4.2 Usar escape sequences en strings",{"depth":36,"slug":926,"text":927},"43-un-componente-una-responsabilidad","4.3 Un componente, una responsabilidad",{"depth":16,"slug":929,"text":930},"5-monorepo","5. Monorepo",{"depth":36,"slug":932,"text":933},"51-siempre-pnpm-build-antes-de-pnpm-dev","5.1 Siempre pnpm build antes de pnpm dev",{"depth":36,"slug":935,"text":936},"52-dependencias-expl√≠citas-por-paquete","5.2 Dependencias expl√≠citas por paquete",{"depth":36,"slug":938,"text":939},"53-versiones-consistentes","5.3 Versiones consistentes",{"depth":16,"slug":941,"text":942},"6-validaci√≥n","6. Validaci√≥n",{"depth":36,"slug":944,"text":945},"61-build-completo-como-gate-de-calidad","6.1 Build completo como gate de calidad",{"depth":36,"slug":947,"text":948},"62-herramientas-recomendadas","6.2 Herramientas recomendadas",{"depth":16,"slug":950,"text":951},"resumen-r√°pido","Resumen r√°pido",[],[],{"title":867,"description":868,"order":869,"category":812},[],"tutorials",["Map",958,959,1006,1007,1048,1049,1088,1089,1125,1126,1164,1165,1203,1204,1250,1251,1311,1312,1359,1360,1421,1422],"01-hello-cube",{"id":958,"data":960,"body":965,"filePath":966,"digest":967,"rendered":968},{"title":961,"description":962,"level":963,"order":26,"duration":964},"Hello Cube","Create your first 3D scene with a rotating cube","beginner","10 min","# Tutorial 1: Hello Cube üü¢\r\n\r\n> **Nivel:** Principiante  \r\n> **Tiempo estimado:** 10 minutos  \r\n> **Qu√© aprender√°s:** Crear una escena m√≠nima con un cubo 3D que rota usando `@oroya/core` y `@oroya/renderer-three`.\r\n\r\n---\r\n\r\n## Prerrequisitos\r\n\r\n- El monorepo clonado y con `pnpm install` ejecutado.\r\n- Los paquetes compilados (`pnpm build`).\r\n\r\n---\r\n\r\n## Paso 1: Setup del HTML\r\n\r\nCrea un archivo HTML con un `\u003Ccanvas>`:\r\n\r\n```html\r\n\u003C!DOCTYPE html>\r\n\u003Chtml lang=\"en\">\r\n\u003Chead>\r\n  \u003Cmeta charset=\"UTF-8\" />\r\n  \u003Ctitle>Hello Cube ‚Äî Oroya Animate\u003C/title>\r\n  \u003Cstyle>\r\n    body { margin: 0; overflow: hidden; background: #1a1a2e; }\r\n    canvas { display: block; }\r\n  \u003C/style>\r\n\u003C/head>\r\n\u003Cbody>\r\n  \u003Ccanvas id=\"canvas\">\u003C/canvas>\r\n  \u003Cscript type=\"module\" src=\"./main.ts\">\u003C/script>\r\n\u003C/body>\r\n\u003C/html>\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Crear la escena\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\n// 1. Crear la escena\r\nconst scene = new Scene();\r\n\r\n// 2. Agregar una c√°mara\r\nconst cameraNode = new Node('camera');\r\ncameraNode.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 75,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 1000,\r\n}));\r\ncameraNode.transform.position.z = 5;\r\nscene.add(cameraNode);\r\n\r\n// 3. Crear el cubo\r\nconst cube = new Node('my-cube');\r\ncube.addComponent(createBox(1, 1, 1));\r\ncube.addComponent(new Material({ color: { r: 0.2, g: 0.6, b: 1.0 } }));\r\nscene.add(cube);\r\n```\r\n\r\n### ¬øQu√© est√° pasando?\r\n\r\n1. **`Scene`** es el contenedor ra√≠z del scene graph.\r\n2. **`Node`** es un elemento del √°rbol. Cada nodo tiene un `Transform` autom√°tico.\r\n3. **`createBox(1,1,1)`** crea un componente de geometr√≠a de caja de 1√ó1√ó1.\r\n4. **`Material`** define el color de la superficie (RGB normalizado: 0 a 1).\r\n5. **`Camera`** define el punto de vista desde donde se renderiza.\r\n\r\n---\r\n\r\n## Paso 3: Inicializar el renderer y animar\r\n\r\n```typescript\r\n// 4. Crear el renderer Three.js\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n});\r\nrenderer.mount(scene);\r\n\r\n// 5. Loop de animaci√≥n\r\nlet angle = 0;\r\n\r\nfunction animate() {\r\n  angle += 0.01;\r\n\r\n  // Rotar el cubo usando quaternion simplificado (rotaci√≥n en Y)\r\n  cube.transform.rotation = {\r\n    x: 0,\r\n    y: Math.sin(angle / 2),\r\n    z: 0,\r\n    w: Math.cos(angle / 2),\r\n  };\r\n  cube.transform.updateLocalMatrix();\r\n\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\n\r\nanimate();\r\n```\r\n\r\n### Conceptos clave\r\n\r\n- **`transform.rotation`** usa quaterniones `{ x, y, z, w }`. Para rotar en el eje Y, usamos `sin(Œ∏/2)` y `cos(Œ∏/2)`.\r\n- **`updateLocalMatrix()`** recalcula la matriz local a partir de position/rotation/scale.\r\n- **`renderer.render()`** actualiza las matrices del mundo y dibuja el frame.\r\n\r\n---\r\n\r\n## Resultado\r\n\r\nUn cubo azul brillante rotando suavemente sobre fondo oscuro. üéâ\r\n\r\n---\r\n\r\n## C√≥digo completo\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst scene = new Scene();\r\n\r\nconst cameraNode = new Node('camera');\r\ncameraNode.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 75,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 1000,\r\n}));\r\ncameraNode.transform.position.z = 5;\r\nscene.add(cameraNode);\r\n\r\nconst cube = new Node('my-cube');\r\ncube.addComponent(createBox(1, 1, 1));\r\ncube.addComponent(new Material({ color: { r: 0.2, g: 0.6, b: 1.0 } }));\r\nscene.add(cube);\r\n\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n});\r\nrenderer.mount(scene);\r\n\r\nlet angle = 0;\r\nfunction animate() {\r\n  angle += 0.01;\r\n  cube.transform.rotation = {\r\n    x: 0,\r\n    y: Math.sin(angle / 2),\r\n    z: 0,\r\n    w: Math.cos(angle / 2),\r\n  };\r\n  cube.transform.updateLocalMatrix();\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\nanimate();\r\n```\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n‚û°Ô∏è [Tutorial 2: Paleta de Colores](./02-color-palette.md) ‚Äî m√∫ltiples formas y colores.","src/content/tutorials/01-hello-cube.md","534e940bc34676e1",{"html":969,"metadata":970},"\u003Ch1 id=\"tutorial-1-hello-cube\">Tutorial 1: Hello Cube üü¢\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Principiante\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 10 minutos\u003Cbr>\n\u003Cstrong>Qu√© aprender√°s:\u003C/strong> Crear una escena m√≠nima con un cubo 3D que rota usando \u003Ccode>@oroya/core\u003C/code> y \u003Ccode>@oroya/renderer-three\u003C/code>.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"prerrequisitos\">Prerrequisitos\u003C/h2>\n\u003Cul>\n\u003Cli>El monorepo clonado y con \u003Ccode>pnpm install\u003C/code> ejecutado.\u003C/li>\n\u003Cli>Los paquetes compilados (\u003Ccode>pnpm build\u003C/code>).\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"paso-1-setup-del-html\">Paso 1: Setup del HTML\u003C/h2>\n\u003Cp>Crea un archivo HTML con un \u003Ccode>&#x3C;canvas>\u003C/code>:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;!\u003C/span>\u003Cspan style=\"color:#85E89D\">DOCTYPE\u003C/span>\u003Cspan style=\"color:#B392F0\"> html\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">html\u003C/span>\u003Cspan style=\"color:#B392F0\"> lang\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"en\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">head\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">meta\u003C/span>\u003Cspan style=\"color:#B392F0\"> charset\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"UTF-8\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">title\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>Hello Cube ‚Äî Oroya Animate&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">title\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">style\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#85E89D\">    body\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#79B8FF\">margin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#79B8FF\">overflow\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">hidden\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#79B8FF\">background\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">#1a1a2e\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#85E89D\">    canvas\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#79B8FF\">display\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">block\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">style\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">head\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">body\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">canvas\u003C/span>\u003Cspan style=\"color:#B392F0\"> id\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"canvas\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">canvas\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">script\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"module\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> src\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"./main.ts\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">script\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">body\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">html\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-crear-la-escena\">Paso 2: Crear la escena\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene, Node, createBox, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-three'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// 1. Crear la escena\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// 2. Agregar una c√°mara\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cameraNode\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cameraNode.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Perspective,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fov: \u003C/span>\u003Cspan style=\"color:#79B8FF\">75\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  aspect: window.innerWidth \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1000\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cameraNode.transform.position.z \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cameraNode);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// 3. Crear el cubo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cube\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'my-cube'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cube.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cube.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cube);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"qu√©-est√°-pasando\">¬øQu√© est√° pasando?\u003C/h3>\n\u003Col>\n\u003Cli>\u003Cstrong>\u003Ccode>Scene\u003C/code>\u003C/strong> es el contenedor ra√≠z del scene graph.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ccode>Node\u003C/code>\u003C/strong> es un elemento del √°rbol. Cada nodo tiene un \u003Ccode>Transform\u003C/code> autom√°tico.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ccode>createBox(1,1,1)\u003C/code>\u003C/strong> crea un componente de geometr√≠a de caja de 1√ó1√ó1.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ccode>Material\u003C/code>\u003C/strong> define el color de la superficie (RGB normalizado: 0 a 1).\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ccode>Camera\u003C/code>\u003C/strong> define el punto de vista desde donde se renderiza.\u003C/li>\n\u003C/ol>\n\u003Chr>\n\u003Ch2 id=\"paso-3-inicializar-el-renderer-y-animar\">Paso 3: Inicializar el renderer y animar\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// 4. Crear el renderer Three.js\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  canvas: document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'canvas'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: window.innerWidth,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// 5. Loop de animaci√≥n\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> angle \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  angle \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.01\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Rotar el cubo usando quaternion simplificado (rotaci√≥n en Y)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cube.transform.rotation \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    y: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(angle \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    w: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">cos\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(angle \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cube.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"conceptos-clave\">Conceptos clave\u003C/h3>\n\u003Cul>\n\u003Cli>\u003Cstrong>\u003Ccode>transform.rotation\u003C/code>\u003C/strong> usa quaterniones \u003Ccode>{ x, y, z, w }\u003C/code>. Para rotar en el eje Y, usamos \u003Ccode>sin(Œ∏/2)\u003C/code> y \u003Ccode>cos(Œ∏/2)\u003C/code>.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ccode>updateLocalMatrix()\u003C/code>\u003C/strong> recalcula la matriz local a partir de position/rotation/scale.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ccode>renderer.render()\u003C/code>\u003C/strong> actualiza las matrices del mundo y dibuja el frame.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"resultado\">Resultado\u003C/h2>\n\u003Cp>Un cubo azul brillante rotando suavemente sobre fondo oscuro. üéâ\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"c√≥digo-completo\">C√≥digo completo\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene, Node, createBox, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-three'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cameraNode\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cameraNode.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Perspective,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fov: \u003C/span>\u003Cspan style=\"color:#79B8FF\">75\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  aspect: window.innerWidth \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1000\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cameraNode.transform.position.z \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cameraNode);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cube\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'my-cube'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cube.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cube.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cube);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  canvas: document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'canvas'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: window.innerWidth,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> angle \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  angle \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.01\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cube.transform.rotation \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    y: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(angle \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    w: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">cos\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(angle \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cube.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>‚û°Ô∏è \u003Ca href=\"./02-color-palette.md\">Tutorial 2: Paleta de Colores\u003C/a> ‚Äî m√∫ltiples formas y colores.\u003C/p>",{"headings":971,"localImagePaths":1002,"remoteImagePaths":1003,"frontmatter":1004,"imagePaths":1005},[972,975,978,981,984,987,990,993,996,999],{"depth":26,"slug":973,"text":974},"tutorial-1-hello-cube","Tutorial 1: Hello Cube üü¢",{"depth":16,"slug":976,"text":977},"prerrequisitos","Prerrequisitos",{"depth":16,"slug":979,"text":980},"paso-1-setup-del-html","Paso 1: Setup del HTML",{"depth":16,"slug":982,"text":983},"paso-2-crear-la-escena","Paso 2: Crear la escena",{"depth":36,"slug":985,"text":986},"qu√©-est√°-pasando","¬øQu√© est√° pasando?",{"depth":16,"slug":988,"text":989},"paso-3-inicializar-el-renderer-y-animar","Paso 3: Inicializar el renderer y animar",{"depth":36,"slug":991,"text":992},"conceptos-clave","Conceptos clave",{"depth":16,"slug":994,"text":995},"resultado","Resultado",{"depth":16,"slug":997,"text":998},"c√≥digo-completo","C√≥digo completo",{"depth":16,"slug":1000,"text":1001},"siguiente-tutorial","Siguiente tutorial",[],[],{"title":961,"description":962,"order":26,"level":963,"duration":964},[],"03-save-load-scenes",{"id":1006,"data":1008,"body":1011,"filePath":1012,"digest":1013,"rendered":1014},{"title":1009,"description":1010,"level":963,"order":36,"duration":964},"Save & Load Scenes","JSON serialization for persisting scenes","# Tutorial 3: Guardar y Cargar Escenas üü¢\r\n\r\n> **Nivel:** Principiante  \r\n> **Tiempo estimado:** 10 minutos  \r\n> **Qu√© aprender√°s:** Serializar una escena a JSON y reconstruirla con `serialize` y `deserialize`.\r\n\r\n---\r\n\r\n## Objetivo\r\n\r\nCrear una escena, exportarla como JSON, y luego importarla para demostrar que la escena se preserva completamente.\r\n\r\n---\r\n\r\n## Paso 1: Construir una escena\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, createSphere, Material, serialize, deserialize } from '@oroya/core';\r\n\r\n// Crear escena original\r\nconst scene = new Scene();\r\n\r\nconst cube = new Node('hero-cube');\r\ncube.addComponent(createBox(2, 2, 2));\r\ncube.addComponent(new Material({ color: { r: 1, g: 0.3, b: 0.1 } }));\r\ncube.transform.position = { x: -2, y: 0, z: 0 };\r\nscene.add(cube);\r\n\r\nconst sphere = new Node('companion-sphere');\r\nsphere.addComponent(createSphere(1.5, 32, 32));\r\nsphere.addComponent(new Material({ color: { r: 0.1, g: 0.5, b: 1.0 } }));\r\nsphere.transform.position = { x: 2, y: 1, z: -1 };\r\nscene.add(sphere);\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Serializar\r\n\r\n```typescript\r\nconst json = serialize(scene);\r\n\r\nconsole.log(json);\r\n// Puedes guardar esto en localStorage, una base de datos, o un archivo .json\r\n```\r\n\r\nLa funci√≥n `serialize` recorre todo el scene graph y convierte cada nodo y sus componentes a un objeto JSON plano.\r\n\r\n### ¬øQu√© se guarda?\r\n\r\n| Dato | ¬øSe preserva? |\r\n|------|----------------|\r\n| Nombre del nodo | ‚úÖ |\r\n| ID √∫nico (UUID) | ‚úÖ |\r\n| Jerarqu√≠a padre-hijo | ‚úÖ |\r\n| Transform (position, rotation, scale) | ‚úÖ |\r\n| Geometry (tipo y par√°metros) | ‚úÖ |\r\n| Material (color, opacity) | ‚úÖ |\r\n\r\n---\r\n\r\n## Paso 3: Deserializar\r\n\r\n```typescript\r\nconst restoredScene = deserialize(json);\r\n\r\n// Verificar que la escena se restaur√≥\r\nconst foundCube = restoredScene.findNodeByName('hero-cube');\r\nconsole.log(foundCube?.transform.position);\r\n// ‚Üí { x: -2, y: 0, z: -0 }\r\n\r\nconst foundSphere = restoredScene.findNodeByName('companion-sphere');\r\nconsole.log(foundSphere?.transform.position);\r\n// ‚Üí { x: 2, y: 1, z: -1 }\r\n```\r\n\r\nLa escena restaurada es **completamente funcional** ‚Äî puede montarse directamente en cualquier renderer:\r\n\r\n```typescript\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst renderer = new ThreeRenderer({ canvas, width, height });\r\nrenderer.mount(restoredScene);   // La escena restaurada funciona igual\r\nrenderer.render();\r\n```\r\n\r\n---\r\n\r\n## Caso de uso: Persistencia en localStorage\r\n\r\n```typescript\r\n// Guardar\r\nfunction saveScene(scene: Scene): void {\r\n  const json = serialize(scene);\r\n  localStorage.setItem('oroya-saved-scene', json);\r\n}\r\n\r\n// Cargar\r\nfunction loadScene(): Scene | null {\r\n  const json = localStorage.getItem('oroya-saved-scene');\r\n  if (!json) return null;\r\n  return deserialize(json);\r\n}\r\n```\r\n\r\n---\r\n\r\n## Caso de uso: Exportar como archivo descargable\r\n\r\n```typescript\r\nfunction downloadScene(scene: Scene, filename: string): void {\r\n  const json = serialize(scene);\r\n  const blob = new Blob([json], { type: 'application/json' });\r\n  const url = URL.createObjectURL(blob);\r\n  \r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = filename;\r\n  a.click();\r\n  \r\n  URL.revokeObjectURL(url);\r\n}\r\n\r\ndownloadScene(scene, 'my-scene.json');\r\n```\r\n\r\n---\r\n\r\n## Resultado\r\n\r\nUna escena que puede ser guardada, compartida y restaurada sin perder ning√∫n dato. La serializaci√≥n es la base para editores visuales, colaboraci√≥n en tiempo real y versionado de escenas en Git. üíæ\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n‚û°Ô∏è [Tutorial 4: Sistema Solar](./04-solar-system.md) ‚Äî transforms jer√°rquicos y animaci√≥n.","src/content/tutorials/03-save-load-scenes.md","afb0148ccef2a484",{"html":1015,"metadata":1016},"\u003Ch1 id=\"tutorial-3-guardar-y-cargar-escenas\">Tutorial 3: Guardar y Cargar Escenas üü¢\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Principiante\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 10 minutos\u003Cbr>\n\u003Cstrong>Qu√© aprender√°s:\u003C/strong> Serializar una escena a JSON y reconstruirla con \u003Ccode>serialize\u003C/code> y \u003Ccode>deserialize\u003C/code>.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"objetivo\">Objetivo\u003C/h2>\n\u003Cp>Crear una escena, exportarla como JSON, y luego importarla para demostrar que la escena se preserva completamente.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"paso-1-construir-una-escena\">Paso 1: Construir una escena\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene, Node, createBox, createSphere, Material, serialize, deserialize } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Crear escena original\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cube\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'hero-cube'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cube.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cube.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cube.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cube);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> sphere\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'companion-sphere'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sphere.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sphere.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sphere.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(sphere);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-serializar\">Paso 2: Serializar\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> json\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> serialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(json);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Puedes guardar esto en localStorage, una base de datos, o un archivo .json\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>La funci√≥n \u003Ccode>serialize\u003C/code> recorre todo el scene graph y convierte cada nodo y sus componentes a un objeto JSON plano.\u003C/p>\n\u003Ch3 id=\"qu√©-se-guarda\">¬øQu√© se guarda?\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Dato\u003C/th>\u003Cth>¬øSe preserva?\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Nombre del nodo\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>ID √∫nico (UUID)\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Jerarqu√≠a padre-hijo\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Transform (position, rotation, scale)\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Geometry (tipo y par√°metros)\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Material (color, opacity)\u003C/td>\u003Ctd>‚úÖ\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"paso-3-deserializar\">Paso 3: Deserializar\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> restoredScene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> deserialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(json);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Verificar que la escena se restaur√≥\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> foundCube\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> restoredScene.\u003C/span>\u003Cspan style=\"color:#B392F0\">findNodeByName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'hero-cube'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(foundCube?.transform.position);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚Üí { x: -2, y: 0, z: -0 }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> foundSphere\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> restoredScene.\u003C/span>\u003Cspan style=\"color:#B392F0\">findNodeByName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'companion-sphere'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(foundSphere?.transform.position);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚Üí { x: 2, y: 1, z: -1 }\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>La escena restaurada es \u003Cstrong>completamente funcional\u003C/strong> ‚Äî puede montarse directamente en cualquier renderer:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-three'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ canvas, width, height });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(restoredScene);   \u003C/span>\u003Cspan style=\"color:#6A737D\">// La escena restaurada funciona igual\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"caso-de-uso-persistencia-en-localstorage\">Caso de uso: Persistencia en localStorage\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Guardar\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> saveScene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">scene\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> json\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> serialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  localStorage.\u003C/span>\u003Cspan style=\"color:#B392F0\">setItem\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'oroya-saved-scene'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, json);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Cargar\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> loadScene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#79B8FF\"> null\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> json\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> localStorage.\u003C/span>\u003Cspan style=\"color:#B392F0\">getItem\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'oroya-saved-scene'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#E1E4E8\">json) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#79B8FF\"> null\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#B392F0\"> deserialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(json);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"caso-de-uso-exportar-como-archivo-descargable\">Caso de uso: Exportar como archivo descargable\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> downloadScene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">scene\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">filename\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> void\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> json\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> serialize\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> blob\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Blob\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([json], { type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'application/json'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> url\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> URL\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">createObjectURL\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(blob);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> a\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> document.\u003C/span>\u003Cspan style=\"color:#B392F0\">createElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'a'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  a.href \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> url;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  a.download \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> filename;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  a.\u003C/span>\u003Cspan style=\"color:#B392F0\">click\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  URL\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">revokeObjectURL\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(url);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">downloadScene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'my-scene.json'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"resultado\">Resultado\u003C/h2>\n\u003Cp>Una escena que puede ser guardada, compartida y restaurada sin perder ning√∫n dato. La serializaci√≥n es la base para editores visuales, colaboraci√≥n en tiempo real y versionado de escenas en Git. üíæ\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>‚û°Ô∏è \u003Ca href=\"./04-solar-system.md\">Tutorial 4: Sistema Solar\u003C/a> ‚Äî transforms jer√°rquicos y animaci√≥n.\u003C/p>",{"headings":1017,"localImagePaths":1044,"remoteImagePaths":1045,"frontmatter":1046,"imagePaths":1047},[1018,1021,1024,1027,1030,1033,1036,1039,1042,1043],{"depth":26,"slug":1019,"text":1020},"tutorial-3-guardar-y-cargar-escenas","Tutorial 3: Guardar y Cargar Escenas üü¢",{"depth":16,"slug":1022,"text":1023},"objetivo","Objetivo",{"depth":16,"slug":1025,"text":1026},"paso-1-construir-una-escena","Paso 1: Construir una escena",{"depth":16,"slug":1028,"text":1029},"paso-2-serializar","Paso 2: Serializar",{"depth":36,"slug":1031,"text":1032},"qu√©-se-guarda","¬øQu√© se guarda?",{"depth":16,"slug":1034,"text":1035},"paso-3-deserializar","Paso 3: Deserializar",{"depth":16,"slug":1037,"text":1038},"caso-de-uso-persistencia-en-localstorage","Caso de uso: Persistencia en localStorage",{"depth":16,"slug":1040,"text":1041},"caso-de-uso-exportar-como-archivo-descargable","Caso de uso: Exportar como archivo descargable",{"depth":16,"slug":994,"text":995},{"depth":16,"slug":1000,"text":1001},[],[],{"title":1009,"description":1010,"order":36,"level":963,"duration":964},[],"04-solar-system",{"id":1048,"data":1050,"body":1055,"filePath":1056,"digest":1057,"rendered":1058},{"title":1051,"description":1052,"level":1053,"order":295,"duration":1054},"Solar System","Hierarchical transforms and parent-child animations","intermediate","20 min","# Tutorial 4: Sistema Solar üü°\r\n\r\n> **Nivel:** Intermedio  \r\n> **Tiempo estimado:** 20 minutos  \r\n> **Qu√© aprender√°s:** Transforms jer√°rquicos padre-hijo para crear √≥rbitas anidadas.\r\n\r\n---\r\n\r\n## Concepto clave: Jerarqu√≠a de transforms\r\n\r\nCuando un nodo hijo rota, lo hace **relativo a su padre**. Si el padre tambi√©n est√° rotando, el hijo orbita alrededor del padre. Este es el mismo principio que hace que la Luna orbite la Tierra mientras la Tierra orbita el Sol.\r\n\r\n```\r\nScene\r\n‚îî‚îÄ‚îÄ Sol (esfera amarilla, rota sobre s√≠ mismo)\r\n    ‚îú‚îÄ‚îÄ Pivot Tierra (nodo vac√≠o, rota ‚Üí genera la √≥rbita)\r\n    ‚îÇ   ‚îî‚îÄ‚îÄ Tierra (esfera azul, desplazada en X)\r\n    ‚îÇ       ‚îú‚îÄ‚îÄ Pivot Luna (nodo vac√≠o, rota m√°s r√°pido)\r\n    ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Luna (esfera gris, desplazada en X)\r\n    ‚îî‚îÄ‚îÄ Pivot Marte (nodo vac√≠o, rota m√°s lento)\r\n        ‚îî‚îÄ‚îÄ Marte (esfera roja, desplazada en X)\r\n```\r\n\r\n---\r\n\r\n## Paso 1: Crear el Sol\r\n\r\n```typescript\r\nimport { Scene, Node, createSphere, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst scene = new Scene();\r\n\r\n// C√°mara\r\nconst cam = new Node('camera');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 60,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 200,\r\n}));\r\ncam.transform.position = { x: 0, y: 8, z: 15 };\r\nscene.add(cam);\r\n\r\n// Sol\r\nconst sun = new Node('sun');\r\nsun.addComponent(createSphere(1.5, 32, 32));\r\nsun.addComponent(new Material({ color: { r: 1.0, g: 0.85, b: 0.1 } }));\r\nscene.add(sun);\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Crear las √≥rbitas con nodos pivot\r\n\r\nEl truco: un **nodo vac√≠o** (sin geometr√≠a) que rota crea una √≥rbita para todos sus hijos.\r\n\r\n```typescript\r\n// --- Tierra ---\r\nconst earthPivot = new Node('earth-pivot'); // Nodo vac√≠o que rota\r\nsun.add(earthPivot);                        // Hijo del Sol\r\n\r\nconst earth = new Node('earth');\r\nearth.addComponent(createSphere(0.6, 32, 32));\r\nearth.addComponent(new Material({ color: { r: 0.2, g: 0.5, b: 1.0 } }));\r\nearth.transform.position = { x: 5, y: 0, z: 0 }; // Distancia orbital\r\nearthPivot.add(earth);\r\n\r\n// --- Luna (hija de la Tierra) ---\r\nconst moonPivot = new Node('moon-pivot');\r\nearth.add(moonPivot);\r\n\r\nconst moon = new Node('moon');\r\nmoon.addComponent(createSphere(0.2, 16, 16));\r\nmoon.addComponent(new Material({ color: { r: 0.7, g: 0.7, b: 0.7 } }));\r\nmoon.transform.position = { x: 1.2, y: 0, z: 0 };\r\nmoonPivot.add(moon);\r\n\r\n// --- Marte ---\r\nconst marsPivot = new Node('mars-pivot');\r\nsun.add(marsPivot);\r\n\r\nconst mars = new Node('mars');\r\nmars.addComponent(createSphere(0.4, 32, 32));\r\nmars.addComponent(new Material({ color: { r: 0.9, g: 0.3, b: 0.1 } }));\r\nmars.transform.position = { x: 8, y: 0, z: 0 };\r\nmarsPivot.add(mars);\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Animar las rotaciones\r\n\r\n```typescript\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n});\r\nrenderer.mount(scene);\r\n\r\n// Helper para crear rotaci√≥n en eje Y desde un √°ngulo\r\nfunction rotateY(angle: number) {\r\n  return {\r\n    x: 0,\r\n    y: Math.sin(angle / 2),\r\n    z: 0,\r\n    w: Math.cos(angle / 2),\r\n  };\r\n}\r\n\r\nlet time = 0;\r\n\r\nfunction animate() {\r\n  time += 0.005;\r\n\r\n  // Sol rota lentamente sobre s√≠ mismo\r\n  sun.transform.rotation = rotateY(time * 0.5);\r\n  sun.transform.updateLocalMatrix();\r\n\r\n  // Pivot de la Tierra rota ‚Üí la Tierra orbita el Sol\r\n  earthPivot.transform.rotation = rotateY(time * 2);\r\n  earthPivot.transform.updateLocalMatrix();\r\n\r\n  // Pivot de la Luna rota m√°s r√°pido ‚Üí la Luna orbita la Tierra\r\n  moonPivot.transform.rotation = rotateY(time * 8);\r\n  moonPivot.transform.updateLocalMatrix();\r\n\r\n  // Pivot de Marte rota m√°s lento ‚Üí Marte tiene √≥rbita m√°s lenta\r\n  marsPivot.transform.rotation = rotateY(time * 1.2);\r\n  marsPivot.transform.updateLocalMatrix();\r\n\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\n\r\nanimate();\r\n```\r\n\r\n---\r\n\r\n## ¬øC√≥mo funciona?\r\n\r\nLa magia est√° en `updateWorldMatrices()` (llamado internamente por `renderer.render()`):\r\n\r\n1. El **Sol** tiene su propia worldMatrix.\r\n2. El **earthPivot** multiplica su rotaci√≥n local √ó la worldMatrix del Sol.\r\n3. La **Tierra** multiplica su posici√≥n local (X=5) √ó la worldMatrix del pivotEarth. Resultado: orbita a distancia 5 del Sol.\r\n4. La **Luna** hace lo mismo relativo a la Tierra.\r\n\r\n```\r\nworldMatrix(luna) = local(luna) √ó local(moonPivot) √ó local(earth) √ó local(earthPivot) √ó local(sun)\r\n```\r\n\r\n---\r\n\r\n## Experimenta\r\n\r\n- Agrega m√°s planetas con diferentes distancias y velocidades.\r\n- Inclina las √≥rbitas usando rotaciones en X y Z en los pivots.\r\n- Agrega anillos a Saturno usando un cubo muy aplanado (`createBox(3, 0.05, 3)`).\r\n- Var√≠a el tama√±o y color de los planetas para hacerlo m√°s realista.\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n‚û°Ô∏è [Tutorial 5: Arte Generativo SVG](./05-svg-generative-art.md) ‚Äî renderer SVG y Path2D.","src/content/tutorials/04-solar-system.md","281bad48f3b786cd",{"html":1059,"metadata":1060},"\u003Ch1 id=\"tutorial-4-sistema-solar\">Tutorial 4: Sistema Solar üü°\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Intermedio\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 20 minutos\u003Cbr>\n\u003Cstrong>Qu√© aprender√°s:\u003C/strong> Transforms jer√°rquicos padre-hijo para crear √≥rbitas anidadas.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto-clave-jerarqu√≠a-de-transforms\">Concepto clave: Jerarqu√≠a de transforms\u003C/h2>\n\u003Cp>Cuando un nodo hijo rota, lo hace \u003Cstrong>relativo a su padre\u003C/strong>. Si el padre tambi√©n est√° rotando, el hijo orbita alrededor del padre. Este es el mismo principio que hace que la Luna orbite la Tierra mientras la Tierra orbita el Sol.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>Scene\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>‚îî‚îÄ‚îÄ Sol (esfera amarilla, rota sobre s√≠ mismo)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    ‚îú‚îÄ‚îÄ Pivot Tierra (nodo vac√≠o, rota ‚Üí genera la √≥rbita)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    ‚îÇ   ‚îî‚îÄ‚îÄ Tierra (esfera azul, desplazada en X)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    ‚îÇ       ‚îú‚îÄ‚îÄ Pivot Luna (nodo vac√≠o, rota m√°s r√°pido)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Luna (esfera gris, desplazada en X)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    ‚îî‚îÄ‚îÄ Pivot Marte (nodo vac√≠o, rota m√°s lento)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        ‚îî‚îÄ‚îÄ Marte (esfera roja, desplazada en X)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-1-crear-el-sol\">Paso 1: Crear el Sol\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene, Node, createSphere, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-three'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// C√°mara\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Perspective,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fov: \u003C/span>\u003Cspan style=\"color:#79B8FF\">60\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  aspect: window.innerWidth \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">15\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Sol\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> sun\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'sun'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sun.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sun.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.85\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(sun);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-crear-las-√≥rbitas-con-nodos-pivot\">Paso 2: Crear las √≥rbitas con nodos pivot\u003C/h2>\n\u003Cp>El truco: un \u003Cstrong>nodo vac√≠o\u003C/strong> (sin geometr√≠a) que rota crea una √≥rbita para todos sus hijos.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// --- Tierra ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> earthPivot\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'earth-pivot'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">); \u003C/span>\u003Cspan style=\"color:#6A737D\">// Nodo vac√≠o que rota\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sun.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(earthPivot);                        \u003C/span>\u003Cspan style=\"color:#6A737D\">// Hijo del Sol\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> earth\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'earth'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">earth.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">earth.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">earth.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }; \u003C/span>\u003Cspan style=\"color:#6A737D\">// Distancia orbital\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">earthPivot.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(earth);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// --- Luna (hija de la Tierra) ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> moonPivot\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'moon-pivot'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">earth.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(moonPivot);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> moon\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'moon'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">moon.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">16\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">16\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">moon.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.7\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.7\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.7\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">moon.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">moonPivot.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(moon);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// --- Marte ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> marsPivot\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'mars-pivot'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sun.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(marsPivot);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> mars\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'mars'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">mars.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0.4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">mars.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">mars.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">marsPivot.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(mars);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-animar-las-rotaciones\">Paso 3: Animar las rotaciones\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  canvas: document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'canvas'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: window.innerWidth,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Helper para crear rotaci√≥n en eje Y desde un √°ngulo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> rotateY\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">angle\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    y: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(angle \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    w: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">cos\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(angle \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> time \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  time \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.005\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Sol rota lentamente sobre s√≠ mismo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  sun.transform.rotation \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> rotateY\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  sun.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Pivot de la Tierra rota ‚Üí la Tierra orbita el Sol\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  earthPivot.transform.rotation \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> rotateY\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  earthPivot.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Pivot de la Luna rota m√°s r√°pido ‚Üí la Luna orbita la Tierra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  moonPivot.transform.rotation \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> rotateY\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  moonPivot.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Pivot de Marte rota m√°s lento ‚Üí Marte tiene √≥rbita m√°s lenta\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  marsPivot.transform.rotation \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> rotateY\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  marsPivot.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"c√≥mo-funciona\">¬øC√≥mo funciona?\u003C/h2>\n\u003Cp>La magia est√° en \u003Ccode>updateWorldMatrices()\u003C/code> (llamado internamente por \u003Ccode>renderer.render()\u003C/code>):\u003C/p>\n\u003Col>\n\u003Cli>El \u003Cstrong>Sol\u003C/strong> tiene su propia worldMatrix.\u003C/li>\n\u003Cli>El \u003Cstrong>earthPivot\u003C/strong> multiplica su rotaci√≥n local √ó la worldMatrix del Sol.\u003C/li>\n\u003Cli>La \u003Cstrong>Tierra\u003C/strong> multiplica su posici√≥n local (X=5) √ó la worldMatrix del pivotEarth. Resultado: orbita a distancia 5 del Sol.\u003C/li>\n\u003Cli>La \u003Cstrong>Luna\u003C/strong> hace lo mismo relativo a la Tierra.\u003C/li>\n\u003C/ol>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>worldMatrix(luna) = local(luna) √ó local(moonPivot) √ó local(earth) √ó local(earthPivot) √ó local(sun)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"experimenta\">Experimenta\u003C/h2>\n\u003Cul>\n\u003Cli>Agrega m√°s planetas con diferentes distancias y velocidades.\u003C/li>\n\u003Cli>Inclina las √≥rbitas usando rotaciones en X y Z en los pivots.\u003C/li>\n\u003Cli>Agrega anillos a Saturno usando un cubo muy aplanado (\u003Ccode>createBox(3, 0.05, 3)\u003C/code>).\u003C/li>\n\u003Cli>Var√≠a el tama√±o y color de los planetas para hacerlo m√°s realista.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>‚û°Ô∏è \u003Ca href=\"./05-svg-generative-art.md\">Tutorial 5: Arte Generativo SVG\u003C/a> ‚Äî renderer SVG y Path2D.\u003C/p>",{"headings":1061,"localImagePaths":1084,"remoteImagePaths":1085,"frontmatter":1086,"imagePaths":1087},[1062,1065,1068,1071,1074,1077,1080,1083],{"depth":26,"slug":1063,"text":1064},"tutorial-4-sistema-solar","Tutorial 4: Sistema Solar üü°",{"depth":16,"slug":1066,"text":1067},"concepto-clave-jerarqu√≠a-de-transforms","Concepto clave: Jerarqu√≠a de transforms",{"depth":16,"slug":1069,"text":1070},"paso-1-crear-el-sol","Paso 1: Crear el Sol",{"depth":16,"slug":1072,"text":1073},"paso-2-crear-las-√≥rbitas-con-nodos-pivot","Paso 2: Crear las √≥rbitas con nodos pivot",{"depth":16,"slug":1075,"text":1076},"paso-3-animar-las-rotaciones","Paso 3: Animar las rotaciones",{"depth":16,"slug":1078,"text":1079},"c√≥mo-funciona","¬øC√≥mo funciona?",{"depth":16,"slug":1081,"text":1082},"experimenta","Experimenta",{"depth":16,"slug":1000,"text":1001},[],[],{"title":1051,"description":1052,"order":295,"level":1053,"duration":1054},[],"02-color-palette",{"id":1088,"data":1090,"body":1094,"filePath":1095,"digest":1096,"rendered":1097},{"title":1091,"description":1092,"level":963,"order":16,"duration":1093},"Color Palette","Multiple geometries, materials, and composition","15 min","# Tutorial 2: Paleta de Colores üü¢\r\n\r\n> **Nivel:** Principiante  \r\n> **Tiempo estimado:** 15 minutos  \r\n> **Qu√© aprender√°s:** Crear m√∫ltiples nodos con diferentes geometr√≠as, colores y posiciones.\r\n\r\n---\r\n\r\n## Objetivo\r\n\r\nConstruir una escena con 5 figuras geom√©tricas de diferentes colores dispuestas en l√≠nea, como una paleta de pintor.\r\n\r\n---\r\n\r\n## Paso 1: Crear la escena base\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, createSphere, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst scene = new Scene();\r\n\r\n// C√°mara alejada para ver todos los objetos\r\nconst cam = new Node('camera');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 60,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 100,\r\n}));\r\ncam.transform.position = { x: 0, y: 2, z: 10 };\r\nscene.add(cam);\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Definir la paleta\r\n\r\nUsamos un array para definir las figuras y sus propiedades:\r\n\r\n```typescript\r\ninterface ShapeDef {\r\n  name: string;\r\n  geometry: 'box' | 'sphere';\r\n  color: { r: number; g: number; b: number };\r\n  position: { x: number; y: number; z: number };\r\n  size: number;\r\n}\r\n\r\nconst palette: ShapeDef[] = [\r\n  { name: 'ruby',     geometry: 'box',    color: { r: 0.9, g: 0.1, b: 0.2 }, position: { x: -4, y: 0, z: 0 }, size: 1.0 },\r\n  { name: 'amber',    geometry: 'sphere', color: { r: 1.0, g: 0.7, b: 0.0 }, position: { x: -2, y: 0, z: 0 }, size: 0.7 },\r\n  { name: 'emerald',  geometry: 'box',    color: { r: 0.0, g: 0.8, b: 0.4 }, position: { x:  0, y: 0, z: 0 }, size: 1.2 },\r\n  { name: 'sapphire', geometry: 'sphere', color: { r: 0.1, g: 0.4, b: 0.9 }, position: { x:  2, y: 0, z: 0 }, size: 0.8 },\r\n  { name: 'amethyst', geometry: 'box',    color: { r: 0.6, g: 0.2, b: 0.8 }, position: { x:  4, y: 0, z: 0 }, size: 0.9 },\r\n];\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Generar los nodos\r\n\r\n```typescript\r\nconst nodes: Node[] = [];\r\n\r\npalette.forEach((shape) => {\r\n  const node = new Node(shape.name);\r\n\r\n  // Geometr√≠a\r\n  if (shape.geometry === 'box') {\r\n    node.addComponent(createBox(shape.size, shape.size, shape.size));\r\n  } else {\r\n    node.addComponent(createSphere(shape.size, 32, 32));\r\n  }\r\n\r\n  // Material\r\n  node.addComponent(new Material({ color: shape.color }));\r\n\r\n  // Posici√≥n\r\n  node.transform.position = shape.position;\r\n\r\n  scene.add(node);\r\n  nodes.push(node);\r\n});\r\n```\r\n\r\n### Conceptos clave\r\n\r\n- **`createBox(w, h, d)`** y **`createSphere(r, wSeg, hSeg)`** son factory functions que devuelven un componente `Geometry`.\r\n- Cada nodo es **independiente** ‚Äî tiene su propia posici√≥n, geometr√≠a y material.\r\n- Pueden mezclarse diferentes tipos de geometr√≠a en la misma escena.\r\n\r\n---\r\n\r\n## Paso 4: Animar con rotaciones individuales\r\n\r\nCada figura rota a una velocidad diferente:\r\n\r\n```typescript\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n});\r\nrenderer.mount(scene);\r\n\r\nlet time = 0;\r\n\r\nfunction animate() {\r\n  time += 0.01;\r\n\r\n  nodes.forEach((node, i) => {\r\n    const speed = 0.5 + i * 0.3; // Velocidad diferente por nodo\r\n    const angle = time * speed;\r\n\r\n    node.transform.rotation = {\r\n      x: Math.sin(angle / 2) * 0.5,\r\n      y: Math.sin(angle / 2),\r\n      z: 0,\r\n      w: Math.cos(angle / 2),\r\n    };\r\n    node.transform.updateLocalMatrix();\r\n  });\r\n\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\n\r\nanimate();\r\n```\r\n\r\n---\r\n\r\n## Resultado\r\n\r\nCinco figuras geom√©tricas de colores vibrantes rotando a diferentes velocidades, como una paleta de gemas flotantes. üíé\r\n\r\n---\r\n\r\n## Experimenta\r\n\r\n- Cambia los colores para crear tu propia paleta de marca.\r\n- Agrega m√°s figuras al array.\r\n- Prueba con `opacity` en el `Material` para crear figuras transl√∫cidas:\r\n  ```typescript\r\n  new Material({ color: { r: 1, g: 1, b: 1 }, opacity: 0.5 })\r\n  ```\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n‚û°Ô∏è [Tutorial 3: Guardar y Cargar Escenas](./03-save-load-scenes.md) ‚Äî serializaci√≥n JSON.","src/content/tutorials/02-color-palette.md","f20126734d7df81b",{"html":1098,"metadata":1099},"\u003Ch1 id=\"tutorial-2-paleta-de-colores\">Tutorial 2: Paleta de Colores üü¢\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Principiante\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 15 minutos\u003Cbr>\n\u003Cstrong>Qu√© aprender√°s:\u003C/strong> Crear m√∫ltiples nodos con diferentes geometr√≠as, colores y posiciones.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"objetivo\">Objetivo\u003C/h2>\n\u003Cp>Construir una escena con 5 figuras geom√©tricas de diferentes colores dispuestas en l√≠nea, como una paleta de pintor.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"paso-1-crear-la-escena-base\">Paso 1: Crear la escena base\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene, Node, createBox, createSphere, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-three'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// C√°mara alejada para ver todos los objetos\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Perspective,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fov: \u003C/span>\u003Cspan style=\"color:#79B8FF\">60\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  aspect: window.innerWidth \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">10\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cam);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-definir-la-paleta\">Paso 2: Definir la paleta\u003C/h2>\n\u003Cp>Usamos un array para definir las figuras y sus propiedades:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">interface\u003C/span>\u003Cspan style=\"color:#B392F0\"> ShapeDef\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  name\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  geometry\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'box'\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'sphere'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  color\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">r\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">g\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">b\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  position\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">x\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">y\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">z\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  size\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> palette\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> ShapeDef\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { name: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'ruby'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,     geometry: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'box'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,    color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, position: { x: \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, size: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { name: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'amber'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,    geometry: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'sphere'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.7\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, position: { x: \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, size: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.7\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { name: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'emerald'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,  geometry: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'box'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,    color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.4\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, position: { x:  \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, size: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { name: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'sapphire'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, geometry: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'sphere'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, position: { x:  \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, size: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { name: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'amethyst'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, geometry: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'box'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,    color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, position: { x:  \u003C/span>\u003Cspan style=\"color:#79B8FF\">4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, size: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">];\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-generar-los-nodos\">Paso 3: Generar los nodos\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> nodes\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">palette.\u003C/span>\u003Cspan style=\"color:#B392F0\">forEach\u003C/span>\u003Cspan style=\"color:#E1E4E8\">((\u003C/span>\u003Cspan style=\"color:#FFAB70\">shape\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> node\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(shape.name);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Geometr√≠a\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (shape.geometry \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'box'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(shape.size, shape.size, shape.size));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  } \u003C/span>\u003Cspan style=\"color:#F97583\">else\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(shape.size, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Material\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: shape.color }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Posici√≥n\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  node.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> shape.position;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(node);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  nodes.\u003C/span>\u003Cspan style=\"color:#B392F0\">push\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(node);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"conceptos-clave\">Conceptos clave\u003C/h3>\n\u003Cul>\n\u003Cli>\u003Cstrong>\u003Ccode>createBox(w, h, d)\u003C/code>\u003C/strong> y \u003Cstrong>\u003Ccode>createSphere(r, wSeg, hSeg)\u003C/code>\u003C/strong> son factory functions que devuelven un componente \u003Ccode>Geometry\u003C/code>.\u003C/li>\n\u003Cli>Cada nodo es \u003Cstrong>independiente\u003C/strong> ‚Äî tiene su propia posici√≥n, geometr√≠a y material.\u003C/li>\n\u003Cli>Pueden mezclarse diferentes tipos de geometr√≠a en la misma escena.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"paso-4-animar-con-rotaciones-individuales\">Paso 4: Animar con rotaciones individuales\u003C/h2>\n\u003Cp>Cada figura rota a una velocidad diferente:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  canvas: document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'canvas'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: window.innerWidth,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> time \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  time \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.01\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  nodes.\u003C/span>\u003Cspan style=\"color:#B392F0\">forEach\u003C/span>\u003Cspan style=\"color:#E1E4E8\">((\u003C/span>\u003Cspan style=\"color:#FFAB70\">node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">i\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> speed\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> i \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#6A737D\">// Velocidad diferente por nodo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> angle\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> time \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> speed;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    node.transform.rotation \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      x: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(angle \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      y: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(angle \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      w: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">cos\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(angle \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    node.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"resultado\">Resultado\u003C/h2>\n\u003Cp>Cinco figuras geom√©tricas de colores vibrantes rotando a diferentes velocidades, como una paleta de gemas flotantes. üíé\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"experimenta\">Experimenta\u003C/h2>\n\u003Cul>\n\u003Cli>Cambia los colores para crear tu propia paleta de marca.\u003C/li>\n\u003Cli>Agrega m√°s figuras al array.\u003C/li>\n\u003Cli>Prueba con \u003Ccode>opacity\u003C/code> en el \u003Ccode>Material\u003C/code> para crear figuras transl√∫cidas:\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, opacity: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> })\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>‚û°Ô∏è \u003Ca href=\"./03-save-load-scenes.md\">Tutorial 3: Guardar y Cargar Escenas\u003C/a> ‚Äî serializaci√≥n JSON.\u003C/p>",{"headings":1100,"localImagePaths":1121,"remoteImagePaths":1122,"frontmatter":1123,"imagePaths":1124},[1101,1104,1105,1108,1111,1114,1115,1118,1119,1120],{"depth":26,"slug":1102,"text":1103},"tutorial-2-paleta-de-colores","Tutorial 2: Paleta de Colores üü¢",{"depth":16,"slug":1022,"text":1023},{"depth":16,"slug":1106,"text":1107},"paso-1-crear-la-escena-base","Paso 1: Crear la escena base",{"depth":16,"slug":1109,"text":1110},"paso-2-definir-la-paleta","Paso 2: Definir la paleta",{"depth":16,"slug":1112,"text":1113},"paso-3-generar-los-nodos","Paso 3: Generar los nodos",{"depth":36,"slug":991,"text":992},{"depth":16,"slug":1116,"text":1117},"paso-4-animar-con-rotaciones-individuales","Paso 4: Animar con rotaciones individuales",{"depth":16,"slug":994,"text":995},{"depth":16,"slug":1081,"text":1082},{"depth":16,"slug":1000,"text":1001},[],[],{"title":1091,"description":1092,"order":16,"level":963,"duration":1093},[],"05-svg-generative-art",{"id":1125,"data":1127,"body":1130,"filePath":1131,"digest":1132,"rendered":1133},{"title":1128,"description":1129,"level":1053,"order":385,"duration":1054},"SVG Generative Art","SVG renderer and procedural generation","# Tutorial 5: Arte Generativo SVG üü°\r\n\r\n> **Nivel:** Intermedio  \r\n> **Tiempo estimado:** 20 minutos  \r\n> **Qu√© aprender√°s:** Usar el renderer SVG con `createPath2D` para generar arte vectorial procedural.\r\n\r\n---\r\n\r\n## Concepto: Renderer SVG\r\n\r\nA diferencia del renderer Three.js (que produce p√≠xeles en un canvas), `renderToSVG` produce un **string SVG** puro. Esto significa:\r\n\r\n- Puede ejecutarse en **Node.js** (sin browser).\r\n- La salida es infinitamente escalable (vectores).\r\n- Perfecto para exportar gr√°ficos, logos, patrones decorativos.\r\n\r\n---\r\n\r\n## Paso 1: Crear un path 2D\r\n\r\nLos paths en Oroya usan la misma sintaxis que SVG (`M`, `L`, `C`, `Z`, etc.):\r\n\r\n```typescript\r\nimport { Scene, Node, createPath2D, Material } from '@oroya/core';\r\nimport { renderToSVG } from '@oroya/renderer-svg';\r\n\r\nconst scene = new Scene();\r\n\r\n// Un tri√°ngulo simple\r\nconst triangle = new Node('triangle');\r\ntriangle.addComponent(createPath2D([\r\n  { command: 'M', args: [100, 10] },   // Mover a punto\r\n  { command: 'L', args: [40, 180] },    // L√≠nea a punto\r\n  { command: 'L', args: [160, 180] },   // L√≠nea a punto\r\n  { command: 'Z', args: [] },            // Cerrar path\r\n]));\r\ntriangle.addComponent(new Material({\r\n  fill: { r: 0.2, g: 0.6, b: 1.0 },\r\n  stroke: { r: 0.1, g: 0.3, b: 0.8 },\r\n  strokeWidth: 2,\r\n}));\r\nscene.add(triangle);\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Renderizar a SVG\r\n\r\n```typescript\r\nconst svgString = renderToSVG(scene, {\r\n  width: 200,\r\n  height: 200,\r\n  viewBox: '0 0 200 200',\r\n});\r\n\r\nconsole.log(svgString);\r\n// \u003Csvg width=\"200\" height=\"200\" ...>\r\n//   \u003Cpath d=\"M 100 10 L 40 180 L 160 180 Z\" fill=\"rgb(51, 153, 255)\" .../>\r\n// \u003C/svg>\r\n\r\n// Insertar en el DOM\r\ndocument.body.innerHTML = svgString;\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Arte generativo ‚Äî Patr√≥n de espiral\r\n\r\nAhora algo m√°s interesante. Generamos una espiral usando matem√°ticas:\r\n\r\n```typescript\r\nfunction createSpiral(centerX: number, centerY: number, turns: number, points: number) {\r\n  const commands: { command: string; args: number[] }[] = [];\r\n  \r\n  for (let i = 0; i \u003C= points; i++) {\r\n    const t = (i / points) * turns * Math.PI * 2;\r\n    const radius = 5 + (i / points) * 80;\r\n    const x = centerX + Math.cos(t) * radius;\r\n    const y = centerY + Math.sin(t) * radius;\r\n    \r\n    commands.push({\r\n      command: i === 0 ? 'M' : 'L',\r\n      args: [Math.round(x * 10) / 10, Math.round(y * 10) / 10],\r\n    });\r\n  }\r\n  \r\n  return commands;\r\n}\r\n\r\nconst scene = new Scene();\r\n\r\nconst spiral = new Node('golden-spiral');\r\nspiral.addComponent(createPath2D(createSpiral(200, 200, 5, 500)));\r\nspiral.addComponent(new Material({\r\n  stroke: { r: 0.9, g: 0.7, b: 0.2 },\r\n  strokeWidth: 2,\r\n}));\r\nscene.add(spiral);\r\n\r\nconst svg = renderToSVG(scene, { width: 400, height: 400 });\r\ndocument.body.innerHTML = svg;\r\n```\r\n\r\n---\r\n\r\n## Paso 4: Patr√≥n de mosaico generativo\r\n\r\nM√∫ltiples figuras geom√©tricas generadas algor√≠tmicamente:\r\n\r\n```typescript\r\nconst scene = new Scene();\r\nconst gridSize = 5;\r\nconst cellSize = 80;\r\nconst padding = 10;\r\n\r\nfor (let row = 0; row \u003C gridSize; row++) {\r\n  for (let col = 0; col \u003C gridSize; col++) {\r\n    const x = padding + col * cellSize;\r\n    const y = padding + row * cellSize;\r\n    const size = cellSize - padding * 2;\r\n\r\n    // Alternar entre diferentes formas\r\n    const shapeType = (row + col) % 3;\r\n    let commands: { command: string; args: number[] }[];\r\n\r\n    switch (shapeType) {\r\n      case 0: // Cuadrado\r\n        commands = [\r\n          { command: 'M', args: [x, y] },\r\n          { command: 'L', args: [x + size, y] },\r\n          { command: 'L', args: [x + size, y + size] },\r\n          { command: 'L', args: [x, y + size] },\r\n          { command: 'Z', args: [] },\r\n        ];\r\n        break;\r\n      case 1: // Diamante\r\n        commands = [\r\n          { command: 'M', args: [x + size / 2, y] },\r\n          { command: 'L', args: [x + size, y + size / 2] },\r\n          { command: 'L', args: [x + size / 2, y + size] },\r\n          { command: 'L', args: [x, y + size / 2] },\r\n          { command: 'Z', args: [] },\r\n        ];\r\n        break;\r\n      default: // Tri√°ngulo\r\n        commands = [\r\n          { command: 'M', args: [x + size / 2, y] },\r\n          { command: 'L', args: [x + size, y + size] },\r\n          { command: 'L', args: [x, y + size] },\r\n          { command: 'Z', args: [] },\r\n        ];\r\n    }\r\n\r\n    const node = new Node(`tile-${row}-${col}`);\r\n    node.addComponent(createPath2D(commands));\r\n\r\n    // Colores basados en posici√≥n\r\n    const hueShift = (row + col) / (gridSize * 2);\r\n    node.addComponent(new Material({\r\n      fill: {\r\n        r: 0.2 + hueShift * 0.8,\r\n        g: 0.3 + (1 - hueShift) * 0.5,\r\n        b: 0.7 + Math.sin(hueShift * Math.PI) * 0.3,\r\n      },\r\n      stroke: { r: 0.1, g: 0.1, b: 0.2 },\r\n      strokeWidth: 1.5,\r\n    }));\r\n\r\n    scene.add(node);\r\n  }\r\n}\r\n\r\nconst totalSize = gridSize * cellSize;\r\nconst svg = renderToSVG(scene, {\r\n  width: totalSize,\r\n  height: totalSize,\r\n  viewBox: `0 0 ${totalSize} ${totalSize}`,\r\n});\r\n\r\ndocument.body.innerHTML = svg;\r\n```\r\n\r\n---\r\n\r\n## Caso de uso: Exportar SVG como archivo\r\n\r\n```typescript\r\nfunction downloadSVG(svgString: string, filename: string) {\r\n  const blob = new Blob([svgString], { type: 'image/svg+xml' });\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = filename;\r\n  a.click();\r\n  URL.revokeObjectURL(url);\r\n}\r\n\r\ndownloadSVG(svg, 'generative-mosaic.svg');\r\n```\r\n\r\n---\r\n\r\n## Resultado\r\n\r\nUn mosaico de colores con cuadrados, diamantes y tri√°ngulos generados proceduralmente. El archivo SVG exportado se puede abrir en cualquier editor de vectores (Figma, Illustrator, Inkscape). üé®\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n‚û°Ô∏è [Tutorial 6: C√°maras y Puntos de Vista](./06-cameras-viewpoints.md) ‚Äî posicionando c√°maras.","src/content/tutorials/05-svg-generative-art.md","a5adbd565788baa6",{"html":1134,"metadata":1135},"\u003Ch1 id=\"tutorial-5-arte-generativo-svg\">Tutorial 5: Arte Generativo SVG üü°\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Intermedio\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 20 minutos\u003Cbr>\n\u003Cstrong>Qu√© aprender√°s:\u003C/strong> Usar el renderer SVG con \u003Ccode>createPath2D\u003C/code> para generar arte vectorial procedural.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto-renderer-svg\">Concepto: Renderer SVG\u003C/h2>\n\u003Cp>A diferencia del renderer Three.js (que produce p√≠xeles en un canvas), \u003Ccode>renderToSVG\u003C/code> produce un \u003Cstrong>string SVG\u003C/strong> puro. Esto significa:\u003C/p>\n\u003Cul>\n\u003Cli>Puede ejecutarse en \u003Cstrong>Node.js\u003C/strong> (sin browser).\u003C/li>\n\u003Cli>La salida es infinitamente escalable (vectores).\u003C/li>\n\u003Cli>Perfecto para exportar gr√°ficos, logos, patrones decorativos.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"paso-1-crear-un-path-2d\">Paso 1: Crear un path 2D\u003C/h2>\n\u003Cp>Los paths en Oroya usan la misma sintaxis que SVG (\u003Ccode>M\u003C/code>, \u003Ccode>L\u003C/code>, \u003Ccode>C\u003C/code>, \u003Ccode>Z\u003C/code>, etc.):\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene, Node, createPath2D, Material } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-svg'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Un tri√°ngulo simple\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> triangle\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'triangle'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">triangle.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createPath2D\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'M'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">10\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },   \u003C/span>\u003Cspan style=\"color:#6A737D\">// Mover a punto\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">40\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">180\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },    \u003C/span>\u003Cspan style=\"color:#6A737D\">// L√≠nea a punto\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">160\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">180\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },   \u003C/span>\u003Cspan style=\"color:#6A737D\">// L√≠nea a punto\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Z'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [] },            \u003C/span>\u003Cspan style=\"color:#6A737D\">// Cerrar path\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">triangle.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(triangle);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-renderizar-a-svg\">Paso 2: Renderizar a SVG\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> svgString\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  viewBox: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'0 0 200 200'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(svgString);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// &#x3C;svg width=\"200\" height=\"200\" ...>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">//   &#x3C;path d=\"M 100 10 L 40 180 L 160 180 Z\" fill=\"rgb(51, 153, 255)\" .../>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// &#x3C;/svg>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Insertar en el DOM\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">document.body.innerHTML \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> svgString;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-arte-generativo--patr√≥n-de-espiral\">Paso 3: Arte generativo ‚Äî Patr√≥n de espiral\u003C/h2>\n\u003Cp>Ahora algo m√°s interesante. Generamos una espiral usando matem√°ticas:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> createSpiral\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">centerX\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">centerY\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">turns\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">points\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> commands\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">command\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">args\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] }[] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> i \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; i \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> points; i\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> t\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (i \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> points) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> turns \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#79B8FF\">PI\u003C/span>\u003Cspan style=\"color:#F97583\"> *\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> radius\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 5\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (i \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> points) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 80\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> x\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> centerX \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">cos\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(t) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> radius;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> y\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> centerY \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(t) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> radius;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    commands.\u003C/span>\u003Cspan style=\"color:#B392F0\">push\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      command: i \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#F97583\"> ?\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'M'\u003C/span>\u003Cspan style=\"color:#F97583\"> :\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      args: [Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">round\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(x \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 10\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 10\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">round\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(y \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 10\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 10\u003C/span>\u003Cspan style=\"color:#E1E4E8\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> commands;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> spiral\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'golden-spiral'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">spiral.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createPath2D\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSpiral\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">500\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">spiral.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.7\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(spiral);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> svg\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, { width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">document.body.innerHTML \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> svg;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-4-patr√≥n-de-mosaico-generativo\">Paso 4: Patr√≥n de mosaico generativo\u003C/h2>\n\u003Cp>M√∫ltiples figuras geom√©tricas generadas algor√≠tmicamente:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> gridSize\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cellSize\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 80\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> padding\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 10\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> row \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; row \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> gridSize; row\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> col \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; col \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> gridSize; col\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> x\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> padding \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> col \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> cellSize;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> y\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> padding \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> row \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> cellSize;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> size\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> cellSize \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> padding \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // Alternar entre diferentes formas\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> shapeType\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (row \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> col) \u003C/span>\u003Cspan style=\"color:#F97583\">%\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> commands\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">command\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">args\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] }[];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    switch\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (shapeType) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      case\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#6A737D\">// Cuadrado\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        commands \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'M'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [x, y] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [x \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> size, y] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [x \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> size, y \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> size] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [x, y \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> size] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Z'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        break\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      case\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#6A737D\">// Diamante\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        commands \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'M'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [x \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> size \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [x \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> size, y \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> size \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [x \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> size \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> size] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [x, y \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> size \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Z'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        break\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      default\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#6A737D\">// Tri√°ngulo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        commands \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'M'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [x \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> size \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [x \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> size, y \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> size] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [x, y \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> size] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Z'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> node\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`tile-${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">row\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}-${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">col\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createPath2D\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(commands));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // Colores basados en posici√≥n\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> hueShift\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (row \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> col) \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (gridSize \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    node.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      fill: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> hueShift \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#F97583\"> -\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> hueShift) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.7\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(hueShift \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#79B8FF\">PI\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      stroke: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      strokeWidth: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(node);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> totalSize\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> gridSize \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> cellSize;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> svg\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: totalSize,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: totalSize,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  viewBox: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">`0 0 ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">totalSize\u003C/span>\u003Cspan style=\"color:#9ECBFF\">} ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">totalSize\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">document.body.innerHTML \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> svg;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"caso-de-uso-exportar-svg-como-archivo\">Caso de uso: Exportar SVG como archivo\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> downloadSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">svgString\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">filename\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> blob\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Blob\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([svgString], { type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'image/svg+xml'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> url\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> URL\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">createObjectURL\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(blob);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> a\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> document.\u003C/span>\u003Cspan style=\"color:#B392F0\">createElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'a'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  a.href \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> url;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  a.download \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> filename;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  a.\u003C/span>\u003Cspan style=\"color:#B392F0\">click\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  URL\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">revokeObjectURL\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(url);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">downloadSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(svg, \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'generative-mosaic.svg'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"resultado\">Resultado\u003C/h2>\n\u003Cp>Un mosaico de colores con cuadrados, diamantes y tri√°ngulos generados proceduralmente. El archivo SVG exportado se puede abrir en cualquier editor de vectores (Figma, Illustrator, Inkscape). üé®\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>‚û°Ô∏è \u003Ca href=\"./06-cameras-viewpoints.md\">Tutorial 6: C√°maras y Puntos de Vista\u003C/a> ‚Äî posicionando c√°maras.\u003C/p>",{"headings":1136,"localImagePaths":1160,"remoteImagePaths":1161,"frontmatter":1162,"imagePaths":1163},[1137,1140,1143,1146,1149,1152,1155,1158,1159],{"depth":26,"slug":1138,"text":1139},"tutorial-5-arte-generativo-svg","Tutorial 5: Arte Generativo SVG üü°",{"depth":16,"slug":1141,"text":1142},"concepto-renderer-svg","Concepto: Renderer SVG",{"depth":16,"slug":1144,"text":1145},"paso-1-crear-un-path-2d","Paso 1: Crear un path 2D",{"depth":16,"slug":1147,"text":1148},"paso-2-renderizar-a-svg","Paso 2: Renderizar a SVG",{"depth":16,"slug":1150,"text":1151},"paso-3-arte-generativo--patr√≥n-de-espiral","Paso 3: Arte generativo ‚Äî Patr√≥n de espiral",{"depth":16,"slug":1153,"text":1154},"paso-4-patr√≥n-de-mosaico-generativo","Paso 4: Patr√≥n de mosaico generativo",{"depth":16,"slug":1156,"text":1157},"caso-de-uso-exportar-svg-como-archivo","Caso de uso: Exportar SVG como archivo",{"depth":16,"slug":994,"text":995},{"depth":16,"slug":1000,"text":1001},[],[],{"title":1128,"description":1129,"order":385,"level":1053,"duration":1054},[],"06-cameras-viewpoints",{"id":1164,"data":1166,"body":1169,"filePath":1170,"digest":1171,"rendered":1172},{"title":1167,"description":1168,"level":1053,"order":270,"duration":1093},"Cameras & Viewpoints","Camera positioning and dynamic viewpoints","# Tutorial 6: C√°maras y Puntos de Vista üü°\r\n\r\n> **Nivel:** Intermedio  \r\n> **Tiempo estimado:** 15 minutos  \r\n> **Qu√© aprender√°s:** Posicionar c√°maras, cambiar puntos de vista din√°micamente, y entender c√≥mo la c√°mara como nodo del scene graph hereda transforms.\r\n\r\n---\r\n\r\n## Concepto: C√°maras como nodos\r\n\r\nEn Oroya Animate, la c√°mara es un **nodo m√°s** del scene graph. Esto significa:\r\n\r\n- Puede tener un padre y heredar su transform.\r\n- Puede moverse y animarse como cualquier otro nodo.\r\n- Se puede cambiar de c√°mara activa reconstruyendo la escena.\r\n\r\n---\r\n\r\n## Paso 1: Crear una escena con objetos de referencia\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, createSphere, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\nconst scene = new Scene();\r\n\r\n// Suelo (caja plana)\r\nconst floor = new Node('floor');\r\nfloor.addComponent(createBox(20, 0.1, 20));\r\nfloor.addComponent(new Material({ color: { r: 0.3, g: 0.3, b: 0.35 } }));\r\nfloor.transform.position = { x: 0, y: -1, z: 0 };\r\nscene.add(floor);\r\n\r\n// Tres pilares como referencia\r\nconst colors = [\r\n  { r: 0.9, g: 0.2, b: 0.2 },\r\n  { r: 0.2, g: 0.9, b: 0.3 },\r\n  { r: 0.2, g: 0.4, b: 0.9 },\r\n];\r\n\r\nfor (let i = 0; i \u003C 3; i++) {\r\n  const pillar = new Node(`pillar-${i}`);\r\n  const height = 1 + i;\r\n  pillar.addComponent(createBox(0.5, height, 0.5));\r\n  pillar.addComponent(new Material({ color: colors[i] }));\r\n  pillar.transform.position = { x: (i - 1) * 3, y: height / 2 - 1, z: 0 };\r\n  scene.add(pillar);\r\n}\r\n\r\n// Esfera central\r\nconst sphere = new Node('center-sphere');\r\nsphere.addComponent(createSphere(0.8, 32, 32));\r\nsphere.addComponent(new Material({ color: { r: 1.0, g: 0.8, b: 0.0 } }));\r\nsphere.transform.position = { x: 0, y: 0.5, z: 3 };\r\nscene.add(sphere);\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Definir m√∫ltiples c√°maras\r\n\r\n```typescript\r\n// C√°mara frontal\r\nconst frontCam = new Node('front-camera');\r\nfrontCam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 60,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 100,\r\n}));\r\nfrontCam.transform.position = { x: 0, y: 2, z: 10 };\r\nscene.add(frontCam);\r\n\r\n// C√°mara cenital (desde arriba)\r\nconst topCam = new Node('top-camera');\r\ntopCam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 60,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 100,\r\n}));\r\ntopCam.transform.position = { x: 0, y: 15, z: 0.1 };\r\nscene.add(topCam);\r\n\r\n// C√°mara lateral\r\nconst sideCam = new Node('side-camera');\r\nsideCam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 45,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 100,\r\n}));\r\nsideCam.transform.position = { x: 12, y: 3, z: 4 };\r\nscene.add(sideCam);\r\n```\r\n\r\n> **Nota:** `ThreeRenderer` usa la **primera** c√°mara que encuentra en el traverse del scene graph. Para cambiar la c√°mara activa, podemos reordenar las c√°maras o remontarla escena.\r\n\r\n---\r\n\r\n## Paso 3: Cambiar de c√°mara con el teclado\r\n\r\n```typescript\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n});\r\n\r\nconst cameras = [frontCam, topCam, sideCam];\r\nconst cameraNames = ['Frontal', 'Cenital', 'Lateral'];\r\nlet activeCameraIndex = 0;\r\n\r\nfunction switchCamera(index: number) {\r\n  // Mover la c√°mara activa al inicio del √°rbol\r\n  // Removemos todas las c√°maras y re-agregamos con la seleccionada primero\r\n  cameras.forEach(cam => scene.remove(cam));\r\n  \r\n  activeCameraIndex = index;\r\n  scene.add(cameras[activeCameraIndex]); // Primera c√°mara = activa\r\n  cameras.forEach((cam, i) => {\r\n    if (i !== activeCameraIndex) scene.add(cam);\r\n  });\r\n\r\n  renderer.mount(scene); // Re-montar para que detecte la nueva c√°mara\r\n  console.log(`üì∑ C√°mara activa: ${cameraNames[activeCameraIndex]}`);\r\n}\r\n\r\n// Escuchar teclado\r\ndocument.addEventListener('keydown', (e) => {\r\n  if (e.key === '1') switchCamera(0);\r\n  if (e.key === '2') switchCamera(1);\r\n  if (e.key === '3') switchCamera(2);\r\n});\r\n\r\n// Render inicial\r\nswitchCamera(0);\r\n\r\nfunction animate() {\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\nanimate();\r\n```\r\n\r\n---\r\n\r\n## Paso 4: C√°mara animada (dolly shot)\r\n\r\nUna c√°mara que se mueve suavemente en un arco:\r\n\r\n```typescript\r\nlet time = 0;\r\n\r\nfunction animate() {\r\n  time += 0.005;\r\n\r\n  // Mover la c√°mara activa en un arco\r\n  if (activeCameraIndex === 0) {\r\n    const cam = cameras[0];\r\n    cam.transform.position = {\r\n      x: Math.sin(time) * 10,\r\n      y: 2 + Math.sin(time * 2) * 1,\r\n      z: Math.cos(time) * 10,\r\n    };\r\n    cam.transform.updateLocalMatrix();\r\n  }\r\n\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\n\r\nanimate();\r\n```\r\n\r\n---\r\n\r\n## Concepto: C√°mara adjunta a un nodo\r\n\r\nLa c√°mara puede ser hija de un nodo en movimiento. Por ejemplo, una \"c√°mara de seguimiento\" adjunta a un personaje:\r\n\r\n```typescript\r\nconst character = new Node('character');\r\ncharacter.addComponent(createBox(0.5, 1, 0.5));\r\ncharacter.addComponent(new Material({ color: { r: 0.3, g: 0.8, b: 0.5 } }));\r\nscene.add(character);\r\n\r\n// C√°mara hija del personaje, desplazada hacia atr√°s y arriba\r\nconst followCam = new Node('follow-camera');\r\nfollowCam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 70,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 100,\r\n}));\r\nfollowCam.transform.position = { x: 0, y: 3, z: 8 }; // Offset relativo al personaje\r\ncharacter.add(followCam);\r\n\r\n// Cuando el personaje se mueve, la c√°mara lo sigue autom√°ticamente\r\ncharacter.transform.position = { x: 5, y: 0, z: 0 };\r\ncharacter.transform.updateLocalMatrix();\r\n// ‚Üí La c√°mara ahora est√° en (5, 3, 8) en coordenadas del mundo\r\n```\r\n\r\n---\r\n\r\n## Resultado\r\n\r\nUna escena con m√∫ltiples puntos de vista intercambiables con el teclado (`1`, `2`, `3`) y una c√°mara animada que orbita la escena. üé•\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n‚û°Ô∏è [Tutorial 7: Ciudad Procedural](./07-procedural-city.md) ‚Äî generaci√≥n algor√≠tmica.","src/content/tutorials/06-cameras-viewpoints.md","b563a61da1eb1669",{"html":1173,"metadata":1174},"\u003Ch1 id=\"tutorial-6-c√°maras-y-puntos-de-vista\">Tutorial 6: C√°maras y Puntos de Vista üü°\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Intermedio\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 15 minutos\u003Cbr>\n\u003Cstrong>Qu√© aprender√°s:\u003C/strong> Posicionar c√°maras, cambiar puntos de vista din√°micamente, y entender c√≥mo la c√°mara como nodo del scene graph hereda transforms.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto-c√°maras-como-nodos\">Concepto: C√°maras como nodos\u003C/h2>\n\u003Cp>En Oroya Animate, la c√°mara es un \u003Cstrong>nodo m√°s\u003C/strong> del scene graph. Esto significa:\u003C/p>\n\u003Cul>\n\u003Cli>Puede tener un padre y heredar su transform.\u003C/li>\n\u003Cli>Puede moverse y animarse como cualquier otro nodo.\u003C/li>\n\u003Cli>Se puede cambiar de c√°mara activa reconstruyendo la escena.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"paso-1-crear-una-escena-con-objetos-de-referencia\">Paso 1: Crear una escena con objetos de referencia\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene, Node, createBox, createSphere, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-three'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Suelo (caja plana)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> floor\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'floor'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">floor.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">20\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">20\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">floor.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.35\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">floor.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(floor);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Tres pilares como referencia\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> colors\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> i \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; i \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; i\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> pillar\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`pillar-${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">i\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> height\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> i;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  pillar.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, height, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  pillar.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: colors[i] }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  pillar.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: (i \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: height \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#F97583\"> -\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(pillar);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Esfera central\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> sphere\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'center-sphere'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sphere.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sphere.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sphere.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(sphere);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-definir-m√∫ltiples-c√°maras\">Paso 2: Definir m√∫ltiples c√°maras\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// C√°mara frontal\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> frontCam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'front-camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">frontCam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Perspective,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fov: \u003C/span>\u003Cspan style=\"color:#79B8FF\">60\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  aspect: window.innerWidth \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">frontCam.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">10\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(frontCam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// C√°mara cenital (desde arriba)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> topCam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'top-camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">topCam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Perspective,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fov: \u003C/span>\u003Cspan style=\"color:#79B8FF\">60\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  aspect: window.innerWidth \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">topCam.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">15\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(topCam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// C√°mara lateral\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> sideCam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'side-camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sideCam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Perspective,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fov: \u003C/span>\u003Cspan style=\"color:#79B8FF\">45\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  aspect: window.innerWidth \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sideCam.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">12\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">4\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(sideCam);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nota:\u003C/strong> \u003Ccode>ThreeRenderer\u003C/code> usa la \u003Cstrong>primera\u003C/strong> c√°mara que encuentra en el traverse del scene graph. Para cambiar la c√°mara activa, podemos reordenar las c√°maras o remontarla escena.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"paso-3-cambiar-de-c√°mara-con-el-teclado\">Paso 3: Cambiar de c√°mara con el teclado\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  canvas: document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'canvas'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: window.innerWidth,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cameras\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [frontCam, topCam, sideCam];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cameraNames\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Frontal'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Cenital'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Lateral'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> activeCameraIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> switchCamera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">index\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Mover la c√°mara activa al inicio del √°rbol\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Removemos todas las c√°maras y re-agregamos con la seleccionada primero\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cameras.\u003C/span>\u003Cspan style=\"color:#B392F0\">forEach\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">remove\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cam));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  activeCameraIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> index;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cameras[activeCameraIndex]); \u003C/span>\u003Cspan style=\"color:#6A737D\">// Primera c√°mara = activa\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cameras.\u003C/span>\u003Cspan style=\"color:#B392F0\">forEach\u003C/span>\u003Cspan style=\"color:#E1E4E8\">((\u003C/span>\u003Cspan style=\"color:#FFAB70\">cam\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">i\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (i \u003C/span>\u003Cspan style=\"color:#F97583\">!==\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> activeCameraIndex) scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene); \u003C/span>\u003Cspan style=\"color:#6A737D\">// Re-montar para que detecte la nueva c√°mara\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`üì∑ C√°mara activa: ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">cameraNames\u003C/span>\u003Cspan style=\"color:#9ECBFF\">[\u003C/span>\u003Cspan style=\"color:#E1E4E8\">activeCameraIndex\u003C/span>\u003Cspan style=\"color:#9ECBFF\">]\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Escuchar teclado\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">document.\u003C/span>\u003Cspan style=\"color:#B392F0\">addEventListener\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'keydown'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, (\u003C/span>\u003Cspan style=\"color:#FFAB70\">e\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (e.key \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '1'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#B392F0\">switchCamera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (e.key \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '2'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#B392F0\">switchCamera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (e.key \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '3'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#B392F0\">switchCamera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Render inicial\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">switchCamera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-4-c√°mara-animada-dolly-shot\">Paso 4: C√°mara animada (dolly shot)\u003C/h2>\n\u003Cp>Una c√°mara que se mueve suavemente en un arco:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> time \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  time \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.005\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Mover la c√°mara activa en un arco\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (activeCameraIndex \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> cameras[\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    cam.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      x: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 10\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      z: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">cos\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 10\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    cam.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"concepto-c√°mara-adjunta-a-un-nodo\">Concepto: C√°mara adjunta a un nodo\u003C/h2>\n\u003Cp>La c√°mara puede ser hija de un nodo en movimiento. Por ejemplo, una ‚Äúc√°mara de seguimiento‚Äù adjunta a un personaje:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> character\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'character'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">character.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">character.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(character);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// C√°mara hija del personaje, desplazada hacia atr√°s y arriba\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> followCam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'follow-camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">followCam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Perspective,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fov: \u003C/span>\u003Cspan style=\"color:#79B8FF\">70\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  aspect: window.innerWidth \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">followCam.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">8\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }; \u003C/span>\u003Cspan style=\"color:#6A737D\">// Offset relativo al personaje\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">character.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(followCam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Cuando el personaje se mueve, la c√°mara lo sigue autom√°ticamente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">character.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">character.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚Üí La c√°mara ahora est√° en (5, 3, 8) en coordenadas del mundo\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"resultado\">Resultado\u003C/h2>\n\u003Cp>Una escena con m√∫ltiples puntos de vista intercambiables con el teclado (\u003Ccode>1\u003C/code>, \u003Ccode>2\u003C/code>, \u003Ccode>3\u003C/code>) y una c√°mara animada que orbita la escena. üé•\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>‚û°Ô∏è \u003Ca href=\"./07-procedural-city.md\">Tutorial 7: Ciudad Procedural\u003C/a> ‚Äî generaci√≥n algor√≠tmica.\u003C/p>",{"headings":1175,"localImagePaths":1199,"remoteImagePaths":1200,"frontmatter":1201,"imagePaths":1202},[1176,1179,1182,1185,1188,1191,1194,1197,1198],{"depth":26,"slug":1177,"text":1178},"tutorial-6-c√°maras-y-puntos-de-vista","Tutorial 6: C√°maras y Puntos de Vista üü°",{"depth":16,"slug":1180,"text":1181},"concepto-c√°maras-como-nodos","Concepto: C√°maras como nodos",{"depth":16,"slug":1183,"text":1184},"paso-1-crear-una-escena-con-objetos-de-referencia","Paso 1: Crear una escena con objetos de referencia",{"depth":16,"slug":1186,"text":1187},"paso-2-definir-m√∫ltiples-c√°maras","Paso 2: Definir m√∫ltiples c√°maras",{"depth":16,"slug":1189,"text":1190},"paso-3-cambiar-de-c√°mara-con-el-teclado","Paso 3: Cambiar de c√°mara con el teclado",{"depth":16,"slug":1192,"text":1193},"paso-4-c√°mara-animada-dolly-shot","Paso 4: C√°mara animada (dolly shot)",{"depth":16,"slug":1195,"text":1196},"concepto-c√°mara-adjunta-a-un-nodo","Concepto: C√°mara adjunta a un nodo",{"depth":16,"slug":994,"text":995},{"depth":16,"slug":1000,"text":1001},[],[],{"title":1167,"description":1168,"order":270,"level":1053,"duration":1093},[],"07-procedural-city",{"id":1203,"data":1205,"body":1210,"filePath":1211,"digest":1212,"rendered":1213},{"title":1206,"description":1207,"level":1208,"order":811,"duration":1209},"Procedural City","Algorithmic generation of complex scenes","advanced","30 min","# Tutorial 7: Ciudad Procedural üî¥\r\n\r\n> **Nivel:** Avanzado  \r\n> **Tiempo estimado:** 30 minutos  \r\n> **Qu√© aprender√°s:** Generar escenas complejas algor√≠tmicamente, usar el scene graph como estructura de datos, y aplicar t√©cnicas de generaci√≥n procedural de ciudades.\r\n\r\n---\r\n\r\n## Concepto\r\n\r\nEn lugar de colocar objetos uno por uno, definimos **reglas** que generan la ciudad autom√°ticamente. Esto demuestra el poder del scene graph como estructura de datos programable.\r\n\r\n---\r\n\r\n## Paso 1: Definir los par√°metros de la ciudad\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\n\r\ninterface CityConfig {\r\n  gridSize: number;       // Grilla NxN de cuadras\r\n  blockSize: number;      // Tama√±o de cada cuadra\r\n  streetWidth: number;    // Ancho de calles\r\n  maxBuildingHeight: number;\r\n  minBuildingHeight: number;\r\n  buildingsPerBlock: number;\r\n}\r\n\r\nconst config: CityConfig = {\r\n  gridSize: 6,\r\n  blockSize: 8,\r\n  streetWidth: 2,\r\n  maxBuildingHeight: 12,\r\n  minBuildingHeight: 1,\r\n  buildingsPerBlock: 4,\r\n};\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Generar el suelo y las calles\r\n\r\n```typescript\r\nconst scene = new Scene();\r\n\r\n// Helper: color aleatorio en un rango\r\nfunction randomColor(base: { r: number; g: number; b: number }, variance: number) {\r\n  return {\r\n    r: Math.min(1, Math.max(0, base.r + (Math.random() - 0.5) * variance)),\r\n    g: Math.min(1, Math.max(0, base.g + (Math.random() - 0.5) * variance)),\r\n    b: Math.min(1, Math.max(0, base.b + (Math.random() - 0.5) * variance)),\r\n  };\r\n}\r\n\r\n// Suelo principal\r\nconst totalSize = config.gridSize * (config.blockSize + config.streetWidth);\r\nconst ground = new Node('ground');\r\nground.addComponent(createBox(totalSize, 0.1, totalSize));\r\nground.addComponent(new Material({ color: { r: 0.2, g: 0.2, b: 0.25 } }));\r\nground.transform.position = { x: 0, y: -0.05, z: 0 };\r\nscene.add(ground);\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Generar edificios por cuadra\r\n\r\n```typescript\r\n// Nodo contenedor para toda la ciudad\r\nconst city = new Node('city');\r\nscene.add(city);\r\n\r\n// Offset para centrar la ciudad en el origen\r\nconst offset = -totalSize / 2;\r\n\r\nfor (let row = 0; row \u003C config.gridSize; row++) {\r\n  for (let col = 0; col \u003C config.gridSize; col++) {\r\n    // Nodo contenedor por cuadra (agrupaci√≥n l√≥gica)\r\n    const block = new Node(`block-${row}-${col}`);\r\n    const blockX = offset + col * (config.blockSize + config.streetWidth) + config.blockSize / 2;\r\n    const blockZ = offset + row * (config.blockSize + config.streetWidth) + config.blockSize / 2;\r\n    block.transform.position = { x: blockX, y: 0, z: blockZ };\r\n    city.add(block);\r\n\r\n    // Generar edificios dentro de la cuadra\r\n    for (let b = 0; b \u003C config.buildingsPerBlock; b++) {\r\n      const height = config.minBuildingHeight + \r\n        Math.random() * (config.maxBuildingHeight - config.minBuildingHeight);\r\n      \r\n      // Posici√≥n aleatoria dentro de la cuadra\r\n      const margin = 1;\r\n      const maxOffset = config.blockSize / 2 - margin;\r\n      const bx = (Math.random() - 0.5) * maxOffset * 2;\r\n      const bz = (Math.random() - 0.5) * maxOffset * 2;\r\n\r\n      // Tama√±o aleatorio del edificio\r\n      const width = 0.8 + Math.random() * 2;\r\n      const depth = 0.8 + Math.random() * 2;\r\n\r\n      const building = new Node(`building-${row}-${col}-${b}`);\r\n      building.addComponent(createBox(width, height, depth));\r\n      \r\n      // Color: tonos grises/azulados para edificios urbanos\r\n      building.addComponent(new Material({\r\n        color: randomColor({ r: 0.4, g: 0.45, b: 0.55 }, 0.15),\r\n      }));\r\n      \r\n      building.transform.position = { x: bx, y: height / 2, z: bz };\r\n      block.add(building);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\n## Paso 4: Agregar detalles ‚Äî Parque central y torre destacada\r\n\r\n```typescript\r\n// Parque central (cuadra central diferente)\r\nconst centerIdx = Math.floor(config.gridSize / 2);\r\nconst parkBlock = city.findNodeByName(`block-${centerIdx}-${centerIdx}`);\r\nif (parkBlock) {\r\n  // Limpiar edificios del bloque central\r\n  [...parkBlock.children].forEach(child => parkBlock.remove(child));\r\n\r\n  // Agregar un \"parque\" (una caja verde plana)\r\n  const park = new Node('central-park');\r\n  park.addComponent(createBox(config.blockSize - 1, 0.2, config.blockSize - 1));\r\n  park.addComponent(new Material({ color: { r: 0.1, g: 0.6, b: 0.2 } }));\r\n  park.transform.position = { x: 0, y: 0.1, z: 0 };\r\n  parkBlock.add(park);\r\n}\r\n\r\n// Torre principal (edificio m√°s alto, color dorado)\r\nconst tower = new Node('main-tower');\r\nconst towerHeight = config.maxBuildingHeight * 2;\r\ntower.addComponent(createBox(1.5, towerHeight, 1.5));\r\ntower.addComponent(new Material({ color: { r: 0.9, g: 0.75, b: 0.3 } }));\r\ntower.transform.position = { x: 3, y: towerHeight / 2, z: -3 };\r\ncity.add(tower);\r\n```\r\n\r\n---\r\n\r\n## Paso 5: C√°mara con vista panor√°mica y animaci√≥n\r\n\r\n```typescript\r\nconst cam = new Node('city-camera');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 50,\r\n  aspect: window.innerWidth / window.innerHeight,\r\n  near: 0.1,\r\n  far: 200,\r\n}));\r\nscene.add(cam);\r\n\r\nconst renderer = new ThreeRenderer({\r\n  canvas: document.getElementById('canvas') as HTMLCanvasElement,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n});\r\nrenderer.mount(scene);\r\n\r\nlet time = 0;\r\n\r\nfunction animate() {\r\n  time += 0.003;\r\n\r\n  // √ìrbita de la c√°mara alrededor de la ciudad\r\n  const radius = totalSize * 0.8;\r\n  cam.transform.position = {\r\n    x: Math.sin(time) * radius,\r\n    y: 15 + Math.sin(time * 0.5) * 5,\r\n    z: Math.cos(time) * radius,\r\n  };\r\n  cam.transform.updateLocalMatrix();\r\n\r\n  renderer.render();\r\n  requestAnimationFrame(animate);\r\n}\r\n\r\nanimate();\r\n```\r\n\r\n---\r\n\r\n## Estad√≠sticas de la escena generada\r\n\r\nCon la configuraci√≥n por defecto (`gridSize: 6, buildingsPerBlock: 4`):\r\n\r\n| Elemento | Cantidad |\r\n|----------|----------|\r\n| Cuadras | 36 |\r\n| Edificios | ~144 |\r\n| Nodos totales | ~180+ |\r\n| Nodos totales (con ground, park, tower, camera) | ~185 |\r\n\r\nTodo gestionado por el scene graph con actualizaciones de matrices autom√°ticas.\r\n\r\n---\r\n\r\n## T√©cnicas aplicadas\r\n\r\n1. **Generaci√≥n procedural** ‚Äî Sin hardcodear posiciones, todo es algor√≠tmico.\r\n2. **Agrupaci√≥n jer√°rquica** ‚Äî Cada cuadra es un nodo padre, facilitando operaciones como \"eliminar toda la cuadra\".\r\n3. **Scene graph como datos** ‚Äî Usar `findNodeByName` para localizar y modificar secciones.\r\n4. **Variaci√≥n controlada** ‚Äî Aleatorizaci√≥n dentro de rangos definidos para resultados org√°nicos pero coherentes.\r\n\r\n---\r\n\r\n## Experimenta\r\n\r\n- Cambia `gridSize` a 10 para una ciudad m√°s grande.\r\n- Agrega \"antenas\" (cajas delgadas y altas) encima de algunos edificios como nodos hijos.\r\n- Implementa un sistema de \"zonas\" donde el centro tenga edificios m√°s altos y la periferia m√°s bajos.\r\n- Serializa la ciudad generada con `serialize()` y c√°rgala luego con `deserialize()`.\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n‚û°Ô∏è [Tutorial 8: Multi-Renderer](./08-multi-renderer.md) ‚Äî misma escena en Three.js y SVG.","src/content/tutorials/07-procedural-city.md","341f82a1f4b27d3e",{"html":1214,"metadata":1215},"\u003Ch1 id=\"tutorial-7-ciudad-procedural\">Tutorial 7: Ciudad Procedural üî¥\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Avanzado\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 30 minutos\u003Cbr>\n\u003Cstrong>Qu√© aprender√°s:\u003C/strong> Generar escenas complejas algor√≠tmicamente, usar el scene graph como estructura de datos, y aplicar t√©cnicas de generaci√≥n procedural de ciudades.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto\">Concepto\u003C/h2>\n\u003Cp>En lugar de colocar objetos uno por uno, definimos \u003Cstrong>reglas\u003C/strong> que generan la ciudad autom√°ticamente. Esto demuestra el poder del scene graph como estructura de datos programable.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"paso-1-definir-los-par√°metros-de-la-ciudad\">Paso 1: Definir los par√°metros de la ciudad\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene, Node, createBox, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-three'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">interface\u003C/span>\u003Cspan style=\"color:#B392F0\"> CityConfig\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  gridSize\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;       \u003C/span>\u003Cspan style=\"color:#6A737D\">// Grilla NxN de cuadras\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  blockSize\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;      \u003C/span>\u003Cspan style=\"color:#6A737D\">// Tama√±o de cada cuadra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  streetWidth\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;    \u003C/span>\u003Cspan style=\"color:#6A737D\">// Ancho de calles\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  maxBuildingHeight\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  minBuildingHeight\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  buildingsPerBlock\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> config\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> CityConfig\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  gridSize: \u003C/span>\u003Cspan style=\"color:#79B8FF\">6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  blockSize: \u003C/span>\u003Cspan style=\"color:#79B8FF\">8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  streetWidth: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  maxBuildingHeight: \u003C/span>\u003Cspan style=\"color:#79B8FF\">12\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  minBuildingHeight: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  buildingsPerBlock: \u003C/span>\u003Cspan style=\"color:#79B8FF\">4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-generar-el-suelo-y-las-calles\">Paso 2: Generar el suelo y las calles\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Helper: color aleatorio en un rango\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> randomColor\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">base\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">r\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">g\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">b\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, \u003C/span>\u003Cspan style=\"color:#FFAB70\">variance\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    r: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">min\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">max\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, base.r \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">random\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> variance)),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    g: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">min\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">max\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, base.g \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">random\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> variance)),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    b: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">min\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">max\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, base.b \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">random\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> variance)),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Suelo principal\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> totalSize\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> config.gridSize \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (config.blockSize \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> config.streetWidth);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> ground\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'ground'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">ground.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(totalSize, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, totalSize));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">ground.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.25\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">ground.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">0.05\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(ground);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-generar-edificios-por-cuadra\">Paso 3: Generar edificios por cuadra\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Nodo contenedor para toda la ciudad\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> city\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'city'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(city);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Offset para centrar la ciudad en el origen\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> offset\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> -\u003C/span>\u003Cspan style=\"color:#E1E4E8\">totalSize \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> row \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; row \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> config.gridSize; row\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> col \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; col \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> config.gridSize; col\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // Nodo contenedor por cuadra (agrupaci√≥n l√≥gica)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> block\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`block-${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">row\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}-${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">col\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> blockX\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> offset \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> col \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (config.blockSize \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> config.streetWidth) \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> config.blockSize \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> blockZ\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> offset \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> row \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (config.blockSize \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> config.streetWidth) \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> config.blockSize \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    block.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: blockX, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: blockZ };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    city.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(block);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // Generar edificios dentro de la cuadra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> b \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; b \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> config.buildingsPerBlock; b\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> height\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> config.minBuildingHeight \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">random\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (config.maxBuildingHeight \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> config.minBuildingHeight);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">      // Posici√≥n aleatoria dentro de la cuadra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> margin\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> maxOffset\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> config.blockSize \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#F97583\"> -\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> margin;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> bx\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">random\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> maxOffset \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> bz\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">random\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> maxOffset \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">      // Tama√±o aleatorio del edificio\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> width\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.8\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">random\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> depth\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.8\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">random\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> building\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`building-${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">row\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}-${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">col\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}-${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">b\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      building.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(width, height, depth));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">      // Color: tonos grises/azulados para edificios urbanos\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      building.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        color: \u003C/span>\u003Cspan style=\"color:#B392F0\">randomColor\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.45\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.55\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.15\u003C/span>\u003Cspan style=\"color:#E1E4E8\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      building.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: bx, y: height \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: bz };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      block.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(building);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-4-agregar-detalles--parque-central-y-torre-destacada\">Paso 4: Agregar detalles ‚Äî Parque central y torre destacada\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Parque central (cuadra central diferente)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> centerIdx\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">floor\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(config.gridSize \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> parkBlock\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> city.\u003C/span>\u003Cspan style=\"color:#B392F0\">findNodeByName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`block-${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">centerIdx\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}-${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">centerIdx\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (parkBlock) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Limpiar edificios del bloque central\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  [\u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#E1E4E8\">parkBlock.children].\u003C/span>\u003Cspan style=\"color:#B392F0\">forEach\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">child\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> parkBlock.\u003C/span>\u003Cspan style=\"color:#B392F0\">remove\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(child));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Agregar un \"parque\" (una caja verde plana)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> park\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'central-park'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  park.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(config.blockSize \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, config.blockSize \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  park.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  park.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  parkBlock.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(park);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Torre principal (edificio m√°s alto, color dorado)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> tower\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'main-tower'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> towerHeight\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> config.maxBuildingHeight \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">tower.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, towerHeight, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">tower.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.75\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">tower.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: towerHeight \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">city.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(tower);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-5-c√°mara-con-vista-panor√°mica-y-animaci√≥n\">Paso 5: C√°mara con vista panor√°mica y animaci√≥n\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'city-camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Perspective,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fov: \u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  aspect: window.innerWidth \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  canvas: document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'canvas'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: window.innerWidth,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: window.innerHeight,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> time \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  time \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.003\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // √ìrbita de la c√°mara alrededor de la ciudad\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> radius\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> totalSize \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cam.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    x: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> radius,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">15\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    z: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">cos\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> radius,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cam.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"estad√≠sticas-de-la-escena-generada\">Estad√≠sticas de la escena generada\u003C/h2>\n\u003Cp>Con la configuraci√≥n por defecto (\u003Ccode>gridSize: 6, buildingsPerBlock: 4\u003C/code>):\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Elemento\u003C/th>\u003Cth>Cantidad\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Cuadras\u003C/td>\u003Ctd>36\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Edificios\u003C/td>\u003Ctd>~144\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Nodos totales\u003C/td>\u003Ctd>~180+\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Nodos totales (con ground, park, tower, camera)\u003C/td>\u003Ctd>~185\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>Todo gestionado por el scene graph con actualizaciones de matrices autom√°ticas.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"t√©cnicas-aplicadas\">T√©cnicas aplicadas\u003C/h2>\n\u003Col>\n\u003Cli>\u003Cstrong>Generaci√≥n procedural\u003C/strong> ‚Äî Sin hardcodear posiciones, todo es algor√≠tmico.\u003C/li>\n\u003Cli>\u003Cstrong>Agrupaci√≥n jer√°rquica\u003C/strong> ‚Äî Cada cuadra es un nodo padre, facilitando operaciones como ‚Äúeliminar toda la cuadra‚Äù.\u003C/li>\n\u003Cli>\u003Cstrong>Scene graph como datos\u003C/strong> ‚Äî Usar \u003Ccode>findNodeByName\u003C/code> para localizar y modificar secciones.\u003C/li>\n\u003Cli>\u003Cstrong>Variaci√≥n controlada\u003C/strong> ‚Äî Aleatorizaci√≥n dentro de rangos definidos para resultados org√°nicos pero coherentes.\u003C/li>\n\u003C/ol>\n\u003Chr>\n\u003Ch2 id=\"experimenta\">Experimenta\u003C/h2>\n\u003Cul>\n\u003Cli>Cambia \u003Ccode>gridSize\u003C/code> a 10 para una ciudad m√°s grande.\u003C/li>\n\u003Cli>Agrega ‚Äúantenas‚Äù (cajas delgadas y altas) encima de algunos edificios como nodos hijos.\u003C/li>\n\u003Cli>Implementa un sistema de ‚Äúzonas‚Äù donde el centro tenga edificios m√°s altos y la periferia m√°s bajos.\u003C/li>\n\u003Cli>Serializa la ciudad generada con \u003Ccode>serialize()\u003C/code> y c√°rgala luego con \u003Ccode>deserialize()\u003C/code>.\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>‚û°Ô∏è \u003Ca href=\"./08-multi-renderer.md\">Tutorial 8: Multi-Renderer\u003C/a> ‚Äî misma escena en Three.js y SVG.\u003C/p>",{"headings":1216,"localImagePaths":1246,"remoteImagePaths":1247,"frontmatter":1248,"imagePaths":1249},[1217,1220,1223,1226,1229,1232,1235,1238,1241,1244,1245],{"depth":26,"slug":1218,"text":1219},"tutorial-7-ciudad-procedural","Tutorial 7: Ciudad Procedural üî¥",{"depth":16,"slug":1221,"text":1222},"concepto","Concepto",{"depth":16,"slug":1224,"text":1225},"paso-1-definir-los-par√°metros-de-la-ciudad","Paso 1: Definir los par√°metros de la ciudad",{"depth":16,"slug":1227,"text":1228},"paso-2-generar-el-suelo-y-las-calles","Paso 2: Generar el suelo y las calles",{"depth":16,"slug":1230,"text":1231},"paso-3-generar-edificios-por-cuadra","Paso 3: Generar edificios por cuadra",{"depth":16,"slug":1233,"text":1234},"paso-4-agregar-detalles--parque-central-y-torre-destacada","Paso 4: Agregar detalles ‚Äî Parque central y torre destacada",{"depth":16,"slug":1236,"text":1237},"paso-5-c√°mara-con-vista-panor√°mica-y-animaci√≥n","Paso 5: C√°mara con vista panor√°mica y animaci√≥n",{"depth":16,"slug":1239,"text":1240},"estad√≠sticas-de-la-escena-generada","Estad√≠sticas de la escena generada",{"depth":16,"slug":1242,"text":1243},"t√©cnicas-aplicadas","T√©cnicas aplicadas",{"depth":16,"slug":1081,"text":1082},{"depth":16,"slug":1000,"text":1001},[],[],{"title":1206,"description":1207,"order":811,"level":1208,"duration":1209},[],"09-svg-gradients-filters",{"id":1250,"data":1252,"body":1257,"filePath":1258,"digest":1259,"rendered":1260},{"title":1253,"description":1254,"level":1053,"order":1255,"duration":1256},"SVG Gradients & Filters","Gradients, blur, drop-shadow, clip-paths and masks",9,"25 min","# Tutorial 9: Gradientes, Filtros y Efectos SVG üü°\r\n\r\n> **Nivel:** Intermedio  \r\n> **Tiempo estimado:** 25 minutos  \r\n> **Qu√© aprender√°s:** Aplicar gradientes lineales/radiales, filtros (blur, drop-shadow), clip-paths y masks usando el renderer SVG.\r\n\r\n---\r\n\r\n## Concepto: Efectos visuales SVG\r\n\r\nEl renderer SVG de Oroya genera autom√°ticamente bloques `\u003Cdefs>` con gradientes, filtros, clip-paths y masks cuando los defines en el `MaterialDef` de un nodo. No necesitas escribir SVG a mano ‚Äî el renderer traduce la API declarativa a markup v√°lido.\r\n\r\n```mermaid\r\ngraph LR\r\n    MD[\"MaterialDef\"] --> R[\"renderToSVG\"]\r\n    R -->|\"fillGradient\"| D1[\"defs ‚Üí linearGradient / radialGradient\"]\r\n    R -->|\"filter\"| D2[\"defs ‚Üí filter ‚Üí feGaussianBlur / feDropShadow\"]\r\n    R -->|\"clipPath\"| D3[\"defs ‚Üí clipPath ‚Üí path\"]\r\n    R -->|\"mask\"| D4[\"defs ‚Üí mask ‚Üí path\"]\r\n```\r\n\r\n---\r\n\r\n## Paso 1: Setup base\r\n\r\n```typescript\r\nimport {\r\n  Scene, Node, Camera, CameraType, Material,\r\n  createBox, createSphere, createPath2D, createText,\r\n} from '@oroya/core';\r\nimport { renderToSVG } from '@oroya/renderer-svg';\r\n\r\nconst scene = new Scene();\r\n\r\n// C√°mara ortogr√°fica define el viewBox autom√°ticamente\r\nconst cam = new Node('cam');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Orthographic,\r\n  left: 0, right: 600,\r\n  top: 0, bottom: 400,\r\n  near: 0.1, far: 100,\r\n}));\r\nscene.add(cam);\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Gradiente lineal\r\n\r\nUn gradiente lineal define un degrad√© de color entre dos puntos. Las coordenadas `x1, y1, x2, y2` van de 0 a 1 (relativas al bounding box del elemento).\r\n\r\n```typescript\r\nconst gradientBox = new Node('gradient-box');\r\ngradientBox.addComponent(createBox(200, 120, 0));\r\ngradientBox.addComponent(new Material({\r\n  fillGradient: {\r\n    type: 'linear',\r\n    x1: 0, y1: 0, x2: 1, y2: 1, // diagonal\r\n    stops: [\r\n      { offset: 0, color: { r: 0.2, g: 0.5, b: 1.0 } },\r\n      { offset: 0.5, color: { r: 1, g: 1, b: 1 } },\r\n      { offset: 1, color: { r: 0.8, g: 0.2, b: 0.6 } },\r\n    ],\r\n  },\r\n  stroke: { r: 0.3, g: 0.3, b: 0.4 },\r\n  strokeWidth: 2,\r\n}));\r\ngradientBox.transform.position = { x: 150, y: 100, z: 0 };\r\ngradientBox.transform.updateLocalMatrix();\r\nscene.add(gradientBox);\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Cdefs>\r\n  \u003ClinearGradient id=\"oroya-grad-0\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">\r\n    \u003Cstop offset=\"0\" stop-color=\"rgb(51, 128, 255)\" />\r\n    \u003Cstop offset=\"0.5\" stop-color=\"rgb(255, 255, 255)\" />\r\n    \u003Cstop offset=\"1\" stop-color=\"rgb(204, 51, 153)\" />\r\n  \u003C/linearGradient>\r\n\u003C/defs>\r\n\u003Cg transform=\"matrix(1,0,0,1,150,100)\">\r\n  \u003Crect x=\"-100\" y=\"-60\" width=\"200\" height=\"120\"\r\n        fill=\"url(#oroya-grad-0)\" stroke=\"rgb(77, 77, 102)\" stroke-width=\"2\" />\r\n\u003C/g>\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Gradiente radial\r\n\r\nIdeal para crear efectos de brillo o esferas estilizadas:\r\n\r\n```typescript\r\nconst sun = new Node('sun');\r\nsun.addComponent(createSphere(60));\r\nsun.addComponent(new Material({\r\n  fillGradient: {\r\n    type: 'radial',\r\n    cx: 0.4, cy: 0.4, r: 0.6,  // Centro desplazado ‚Üí efecto 3D\r\n    stops: [\r\n      { offset: 0, color: { r: 1, g: 1, b: 0.8 } },       // Centro brillante\r\n      { offset: 0.6, color: { r: 1, g: 0.8, b: 0 } },     // Amarillo medio\r\n      { offset: 1, color: { r: 0.9, g: 0.3, b: 0 }, opacity: 0.8 }, // Borde oscuro\r\n    ],\r\n  },\r\n}));\r\nsun.transform.position = { x: 450, y: 100, z: 0 };\r\nsun.transform.updateLocalMatrix();\r\nscene.add(sun);\r\n```\r\n\r\n> **Tip:** Desplazar `cx/cy` del centro (0.5, 0.5) crea un efecto de iluminaci√≥n lateral muy convincente.\r\n\r\n---\r\n\r\n## Paso 4: Filtro Blur\r\n\r\nEl efecto `blur` aplica un desenfoque gaussiano al elemento completo:\r\n\r\n```typescript\r\nconst blurred = new Node('blurred-circle');\r\nblurred.addComponent(createSphere(50));\r\nblurred.addComponent(new Material({\r\n  fill: { r: 0.5, g: 0.8, b: 1.0 },\r\n  filter: {\r\n    effects: [{ type: 'blur', stdDeviation: 4 }],\r\n  },\r\n}));\r\nblurred.transform.position = { x: 150, y: 280, z: 0 };\r\nblurred.transform.updateLocalMatrix();\r\nscene.add(blurred);\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Cdefs>\r\n  \u003Cfilter id=\"oroya-filter-0\">\r\n    \u003CfeGaussianBlur stdDeviation=\"4\" />\r\n  \u003C/filter>\r\n\u003C/defs>\r\n\u003Ccircle cx=\"0\" cy=\"0\" r=\"50\" fill=\"rgb(128, 204, 255)\"\r\n        filter=\"url(#oroya-filter-0)\" />\r\n```\r\n\r\n---\r\n\r\n## Paso 5: Drop Shadow\r\n\r\nCombina desplazamiento y desenfoque para crear una sombra proyectada:\r\n\r\n```typescript\r\nconst card = new Node('shadow-card');\r\ncard.addComponent(createBox(160, 100, 0));\r\ncard.addComponent(new Material({\r\n  fill: { r: 1.0, g: 0.95, b: 0.9 },\r\n  stroke: { r: 0.8, g: 0.7, b: 0.6 },\r\n  strokeWidth: 1,\r\n  filter: {\r\n    effects: [{\r\n      type: 'dropShadow',\r\n      dx: 5, dy: 5,            // Desplazamiento de la sombra\r\n      stdDeviation: 3,          // Desenfoque de la sombra\r\n      floodColor: '#333',       // Color de la sombra\r\n      floodOpacity: 0.4,        // Transparencia de la sombra\r\n    }],\r\n  },\r\n}));\r\ncard.transform.position = { x: 320, y: 280, z: 0 };\r\ncard.transform.updateLocalMatrix();\r\nscene.add(card);\r\n```\r\n\r\n---\r\n\r\n## Paso 6: Clip Path\r\n\r\nRecorta un nodo a una forma vectorial arbitraria. Solo se muestra la intersecci√≥n entre la geometr√≠a original y el path de recorte:\r\n\r\n```typescript\r\n// Un c√≠rculo recortado con forma de estrella\r\nconst clipped = new Node('star-clipped');\r\nclipped.addComponent(createSphere(55));\r\nclipped.addComponent(new Material({\r\n  fillGradient: {\r\n    type: 'radial',\r\n    stops: [\r\n      { offset: 0, color: { r: 1, g: 1, b: 0.3 } },\r\n      { offset: 1, color: { r: 1, g: 0.4, b: 0 } },\r\n    ],\r\n  },\r\n  clipPath: {\r\n    path: createStarPath(0, 0, 5, 55, 22),\r\n  },\r\n}));\r\nclipped.transform.position = { x: 500, y: 280, z: 0 };\r\nclipped.transform.updateLocalMatrix();\r\nscene.add(clipped);\r\n\r\n// Helper: genera un path de estrella\r\nfunction createStarPath(cx, cy, points, outerR, innerR) {\r\n  const cmds = [];\r\n  for (let i = 0; i \u003C points * 2; i++) {\r\n    const angle = (i * Math.PI) / points - Math.PI / 2;\r\n    const r = i % 2 === 0 ? outerR : innerR;\r\n    cmds.push({\r\n      command: i === 0 ? 'M' : 'L',\r\n      args: [cx + Math.cos(angle) * r, cy + Math.sin(angle) * r],\r\n    });\r\n  }\r\n  cmds.push({ command: 'Z', args: [] });\r\n  return cmds;\r\n}\r\n```\r\n\r\n---\r\n\r\n## Paso 7: Mask\r\n\r\nSimilar al clip-path, pero usa **luminancia** en lugar de forma vectorial binaria. Las √°reas blancas son visibles, las negras son transparentes:\r\n\r\n```typescript\r\nconst masked = new Node('masked-rect');\r\nmasked.addComponent(createBox(140, 100, 0));\r\nmasked.addComponent(new Material({\r\n  fillGradient: {\r\n    type: 'linear', x1: 0, y1: 0, x2: 1, y2: 0,\r\n    stops: [\r\n      { offset: 0, color: { r: 0.9, g: 0.1, b: 0.5 } },\r\n      { offset: 1, color: { r: 0.2, g: 0.1, b: 0.9 } },\r\n    ],\r\n  },\r\n  mask: {\r\n    path: [\r\n      { command: 'M', args: [-70, -50] },\r\n      { command: 'L', args: [70, -50] },\r\n      { command: 'L', args: [70, 50] },\r\n      { command: 'L', args: [-70, 50] },\r\n      { command: 'Z', args: [] },\r\n    ],\r\n    fill: 'white',     // √Årea visible\r\n    opacity: 0.85,      // Semitransparente\r\n  },\r\n}));\r\n```\r\n\r\n---\r\n\r\n## Paso 8: Stroke Gradient\r\n\r\nLos gradientes tambi√©n se pueden aplicar al trazo de un path:\r\n\r\n```typescript\r\nconst line = new Node('rainbow-line');\r\nline.addComponent(createPath2D([\r\n  { command: 'M', args: [50, 370] },\r\n  { command: 'C', args: [200, 330, 400, 410, 550, 370] },\r\n]));\r\nline.addComponent(new Material({\r\n  strokeGradient: {\r\n    type: 'linear',\r\n    x1: 0, y1: 0.5, x2: 1, y2: 0.5,\r\n    stops: [\r\n      { offset: 0, color: { r: 1, g: 0, b: 0 } },\r\n      { offset: 0.33, color: { r: 0, g: 1, b: 0 } },\r\n      { offset: 0.66, color: { r: 0, g: 0, b: 1 } },\r\n      { offset: 1, color: { r: 1, g: 0, b: 1 } },\r\n    ],\r\n  },\r\n  strokeWidth: 4,\r\n}));\r\nscene.add(line);\r\n```\r\n\r\n---\r\n\r\n## Paso 9: Renderizar\r\n\r\n```typescript\r\nconst svg = renderToSVG(scene, { width: 600, height: 400 });\r\ndocument.body.innerHTML = svg;\r\n```\r\n\r\n---\r\n\r\n## Combinando m√∫ltiples efectos\r\n\r\nUn nodo puede tener gradiente + filtro + clip-path simult√°neamente:\r\n\r\n```typescript\r\nconst fancy = new Node('fancy');\r\nfancy.addComponent(createBox(120, 120, 0));\r\nfancy.addComponent(new Material({\r\n  fillGradient: {\r\n    type: 'radial',\r\n    stops: [\r\n      { offset: 0, color: { r: 1, g: 0.9, b: 0.3 } },\r\n      { offset: 1, color: { r: 1, g: 0.3, b: 0 } },\r\n    ],\r\n  },\r\n  filter: {\r\n    effects: [{ type: 'dropShadow', dx: 3, dy: 3, stdDeviation: 2, floodOpacity: 0.3 }],\r\n  },\r\n  clipPath: {\r\n    path: createStarPath(0, 0, 6, 60, 30),\r\n  },\r\n}));\r\n```\r\n\r\n---\r\n\r\n## Resumen de propiedades SVG del Material\r\n\r\n| Propiedad | Genera | Prioridad |\r\n|-----------|--------|-----------|\r\n| `fill` | `fill=\"rgb(...)\"` | Baja |\r\n| `fillGradient` | `fill=\"url(#id)\"` + `\u003Cdefs>` | **Sobre** `fill` |\r\n| `stroke` | `stroke=\"rgb(...)\"` | Baja |\r\n| `strokeGradient` | `stroke=\"url(#id)\"` + `\u003Cdefs>` | **Sobre** `stroke` |\r\n| `filter` | `filter=\"url(#id)\"` + `\u003Cfilter>` | Acumulable |\r\n| `clipPath` | `clip-path=\"url(#id)\"` + `\u003CclipPath>` | Acumulable |\r\n| `mask` | `mask=\"url(#id)\"` + `\u003Cmask>` | Acumulable |\r\n\r\n---\r\n\r\n## Demo interactiva\r\n\r\nPuedes explorar todos estos efectos en la demo **\"SVG Showcase\"** del demo-react.\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n‚û°Ô∏è [Tutorial 10: Animaciones SVG Nativas](./10-svg-animations.md) ‚Äî animaciones declarativas sin JavaScript.","src/content/tutorials/09-svg-gradients-filters.md","1da23eecb5d26b09",{"html":1261,"metadata":1262},"\u003Ch1 id=\"tutorial-9-gradientes-filtros-y-efectos-svg\">Tutorial 9: Gradientes, Filtros y Efectos SVG üü°\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Intermedio\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 25 minutos\u003Cbr>\n\u003Cstrong>Qu√© aprender√°s:\u003C/strong> Aplicar gradientes lineales/radiales, filtros (blur, drop-shadow), clip-paths y masks usando el renderer SVG.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto-efectos-visuales-svg\">Concepto: Efectos visuales SVG\u003C/h2>\n\u003Cp>El renderer SVG de Oroya genera autom√°ticamente bloques \u003Ccode>&#x3C;defs>\u003C/code> con gradientes, filtros, clip-paths y masks cuando los defines en el \u003Ccode>MaterialDef\u003C/code> de un nodo. No necesitas escribir SVG a mano ‚Äî el renderer traduce la API declarativa a markup v√°lido.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    MD[\"MaterialDef\"] --> R[\"renderToSVG\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    R -->|\"fillGradient\"| D1[\"defs ‚Üí linearGradient / radialGradient\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    R -->|\"filter\"| D2[\"defs ‚Üí filter ‚Üí feGaussianBlur / feDropShadow\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    R -->|\"clipPath\"| D3[\"defs ‚Üí clipPath ‚Üí path\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    R -->|\"mask\"| D4[\"defs ‚Üí mask ‚Üí path\"]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-1-setup-base\">Paso 1: Setup base\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  Scene, Node, Camera, CameraType, Material,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  createBox, createSphere, createPath2D, createText,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">} \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-svg'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// C√°mara ortogr√°fica define el viewBox autom√°ticamente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'cam'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Orthographic,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  left: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, right: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  top: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, bottom: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cam);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-gradiente-lineal\">Paso 2: Gradiente lineal\u003C/h2>\n\u003Cp>Un gradiente lineal define un degrad√© de color entre dos puntos. Las coordenadas \u003Ccode>x1, y1, x2, y2\u003C/code> van de 0 a 1 (relativas al bounding box del elemento).\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> gradientBox\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'gradient-box'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">gradientBox.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">120\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">gradientBox.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fillGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'linear'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    x1: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y1: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, x2: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y2: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// diagonal\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.4\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">gradientBox.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">150\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">gradientBox.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(gradientBox);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">defs\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">linearGradient\u003C/span>\u003Cspan style=\"color:#B392F0\"> id\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"oroya-grad-0\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> x1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> y1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> x2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"1\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> y2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"1\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">stop\u003C/span>\u003Cspan style=\"color:#B392F0\"> offset\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> stop-color\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"rgb(51, 128, 255)\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">stop\u003C/span>\u003Cspan style=\"color:#B392F0\"> offset\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0.5\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> stop-color\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"rgb(255, 255, 255)\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">stop\u003C/span>\u003Cspan style=\"color:#B392F0\"> offset\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"1\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> stop-color\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"rgb(204, 51, 153)\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">linearGradient\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">defs\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">g\u003C/span>\u003Cspan style=\"color:#B392F0\"> transform\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"matrix(1,0,0,1,150,100)\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">rect\u003C/span>\u003Cspan style=\"color:#B392F0\"> x\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"-100\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> y\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"-60\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> width\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"200\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> height\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"120\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        fill\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"url(#oroya-grad-0)\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> stroke\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"rgb(77, 77, 102)\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> stroke-width\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"2\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">g\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-gradiente-radial\">Paso 3: Gradiente radial\u003C/h2>\n\u003Cp>Ideal para crear efectos de brillo o esferas estilizadas:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> sun\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'sun'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sun.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">60\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sun.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fillGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'radial'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    cx: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, cy: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,  \u003C/span>\u003Cspan style=\"color:#6A737D\">// Centro desplazado ‚Üí efecto 3D\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },       \u003C/span>\u003Cspan style=\"color:#6A737D\">// Centro brillante\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },     \u003C/span>\u003Cspan style=\"color:#6A737D\">// Amarillo medio\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, opacity: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, \u003C/span>\u003Cspan style=\"color:#6A737D\">// Borde oscuro\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sun.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">450\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sun.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(sun);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Tip:\u003C/strong> Desplazar \u003Ccode>cx/cy\u003C/code> del centro (0.5, 0.5) crea un efecto de iluminaci√≥n lateral muy convincente.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"paso-4-filtro-blur\">Paso 4: Filtro Blur\u003C/h2>\n\u003Cp>El efecto \u003Ccode>blur\u003C/code> aplica un desenfoque gaussiano al elemento completo:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> blurred\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'blurred-circle'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">blurred.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">blurred.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  filter: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    effects: [{ type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'blur'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, stdDeviation: \u003C/span>\u003Cspan style=\"color:#79B8FF\">4\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">blurred.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">150\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">280\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">blurred.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(blurred);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">defs\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">filter\u003C/span>\u003Cspan style=\"color:#B392F0\"> id\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"oroya-filter-0\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">feGaussianBlur\u003C/span>\u003Cspan style=\"color:#B392F0\"> stdDeviation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"4\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">filter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">defs\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">circle\u003C/span>\u003Cspan style=\"color:#B392F0\"> cx\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> cy\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> r\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"50\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> fill\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"rgb(128, 204, 255)\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        filter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"url(#oroya-filter-0)\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-5-drop-shadow\">Paso 5: Drop Shadow\u003C/h2>\n\u003Cp>Combina desplazamiento y desenfoque para crear una sombra proyectada:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> card\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'shadow-card'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">card.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">160\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">card.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.95\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.7\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  filter: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    effects: [{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'dropShadow'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      dx: \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, dy: \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,            \u003C/span>\u003Cspan style=\"color:#6A737D\">// Desplazamiento de la sombra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      stdDeviation: \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,          \u003C/span>\u003Cspan style=\"color:#6A737D\">// Desenfoque de la sombra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      floodColor: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'#333'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,       \u003C/span>\u003Cspan style=\"color:#6A737D\">// Color de la sombra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      floodOpacity: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,        \u003C/span>\u003Cspan style=\"color:#6A737D\">// Transparencia de la sombra\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">card.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">320\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">280\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">card.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(card);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-6-clip-path\">Paso 6: Clip Path\u003C/h2>\n\u003Cp>Recorta un nodo a una forma vectorial arbitraria. Solo se muestra la intersecci√≥n entre la geometr√≠a original y el path de recorte:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Un c√≠rculo recortado con forma de estrella\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> clipped\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'star-clipped'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">clipped.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">55\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">clipped.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fillGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'radial'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  clipPath: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    path: \u003C/span>\u003Cspan style=\"color:#B392F0\">createStarPath\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">55\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">22\u003C/span>\u003Cspan style=\"color:#E1E4E8\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">clipped.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">500\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">280\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">clipped.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(clipped);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Helper: genera un path de estrella\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> createStarPath\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">cx\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">cy\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">points\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">outerR\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">innerR\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cmds\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> i \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; i \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> points \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; i\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> angle\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (i \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#79B8FF\">PI\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> points \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#79B8FF\">PI\u003C/span>\u003Cspan style=\"color:#F97583\"> /\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> r\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> i \u003C/span>\u003Cspan style=\"color:#F97583\">%\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#F97583\"> ===\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#F97583\"> ?\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> outerR \u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> innerR;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    cmds.\u003C/span>\u003Cspan style=\"color:#B392F0\">push\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      command: i \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#F97583\"> ?\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'M'\u003C/span>\u003Cspan style=\"color:#F97583\"> :\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      args: [cx \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">cos\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(angle) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> r, cy \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(angle) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> r],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cmds.\u003C/span>\u003Cspan style=\"color:#B392F0\">push\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Z'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [] });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> cmds;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-7-mask\">Paso 7: Mask\u003C/h2>\n\u003Cp>Similar al clip-path, pero usa \u003Cstrong>luminancia\u003C/strong> en lugar de forma vectorial binaria. Las √°reas blancas son visibles, las negras son transparentes:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> masked\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'masked-rect'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">masked.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">140\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">masked.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fillGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'linear'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, x1: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y1: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, x2: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y2: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  mask: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    path: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'M'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">70\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">70\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">70\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">70\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Z'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    fill: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'white'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,     \u003C/span>\u003Cspan style=\"color:#6A737D\">// √Årea visible\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    opacity: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.85\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,      \u003C/span>\u003Cspan style=\"color:#6A737D\">// Semitransparente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-8-stroke-gradient\">Paso 8: Stroke Gradient\u003C/h2>\n\u003Cp>Los gradientes tambi√©n se pueden aplicar al trazo de un path:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> line\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'rainbow-line'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">line.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createPath2D\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'M'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">370\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'C'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">330\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">410\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">550\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">370\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">line.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  strokeGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'linear'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    x1: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y1: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, x2: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y2: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.33\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.66\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#79B8FF\">4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(line);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-9-renderizar\">Paso 9: Renderizar\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> svg\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, { width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">document.body.innerHTML \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> svg;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"combinando-m√∫ltiples-efectos\">Combinando m√∫ltiples efectos\u003C/h2>\n\u003Cp>Un nodo puede tener gradiente + filtro + clip-path simult√°neamente:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> fancy\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'fancy'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">fancy.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">120\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">120\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">fancy.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fillGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'radial'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  filter: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    effects: [{ type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'dropShadow'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, dx: \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, dy: \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, stdDeviation: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, floodOpacity: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  clipPath: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    path: \u003C/span>\u003Cspan style=\"color:#B392F0\">createStarPath\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">60\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">30\u003C/span>\u003Cspan style=\"color:#E1E4E8\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"resumen-de-propiedades-svg-del-material\">Resumen de propiedades SVG del Material\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Propiedad\u003C/th>\u003Cth>Genera\u003C/th>\u003Cth>Prioridad\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>fill=\"rgb(...)\"\u003C/code>\u003C/td>\u003Ctd>Baja\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fillGradient\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>fill=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003Ctd>\u003Cstrong>Sobre\u003C/strong> \u003Ccode>fill\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>stroke\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>stroke=\"rgb(...)\"\u003C/code>\u003C/td>\u003Ctd>Baja\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>strokeGradient\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>stroke=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;defs>\u003C/code>\u003C/td>\u003Ctd>\u003Cstrong>Sobre\u003C/strong> \u003Ccode>stroke\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>filter\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>filter=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;filter>\u003C/code>\u003C/td>\u003Ctd>Acumulable\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>clipPath\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>clip-path=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;clipPath>\u003C/code>\u003C/td>\u003Ctd>Acumulable\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>mask\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>mask=\"url(#id)\"\u003C/code> + \u003Ccode>&#x3C;mask>\u003C/code>\u003C/td>\u003Ctd>Acumulable\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"demo-interactiva\">Demo interactiva\u003C/h2>\n\u003Cp>Puedes explorar todos estos efectos en la demo \u003Cstrong>‚ÄúSVG Showcase‚Äù\u003C/strong> del demo-react.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>‚û°Ô∏è \u003Ca href=\"./10-svg-animations.md\">Tutorial 10: Animaciones SVG Nativas\u003C/a> ‚Äî animaciones declarativas sin JavaScript.\u003C/p>",{"headings":1263,"localImagePaths":1307,"remoteImagePaths":1308,"frontmatter":1309,"imagePaths":1310},[1264,1267,1270,1273,1276,1279,1282,1285,1288,1291,1294,1297,1300,1303,1306],{"depth":26,"slug":1265,"text":1266},"tutorial-9-gradientes-filtros-y-efectos-svg","Tutorial 9: Gradientes, Filtros y Efectos SVG üü°",{"depth":16,"slug":1268,"text":1269},"concepto-efectos-visuales-svg","Concepto: Efectos visuales SVG",{"depth":16,"slug":1271,"text":1272},"paso-1-setup-base","Paso 1: Setup base",{"depth":16,"slug":1274,"text":1275},"paso-2-gradiente-lineal","Paso 2: Gradiente lineal",{"depth":16,"slug":1277,"text":1278},"paso-3-gradiente-radial","Paso 3: Gradiente radial",{"depth":16,"slug":1280,"text":1281},"paso-4-filtro-blur","Paso 4: Filtro Blur",{"depth":16,"slug":1283,"text":1284},"paso-5-drop-shadow","Paso 5: Drop Shadow",{"depth":16,"slug":1286,"text":1287},"paso-6-clip-path","Paso 6: Clip Path",{"depth":16,"slug":1289,"text":1290},"paso-7-mask","Paso 7: Mask",{"depth":16,"slug":1292,"text":1293},"paso-8-stroke-gradient","Paso 8: Stroke Gradient",{"depth":16,"slug":1295,"text":1296},"paso-9-renderizar","Paso 9: Renderizar",{"depth":16,"slug":1298,"text":1299},"combinando-m√∫ltiples-efectos","Combinando m√∫ltiples efectos",{"depth":16,"slug":1301,"text":1302},"resumen-de-propiedades-svg-del-material","Resumen de propiedades SVG del Material",{"depth":16,"slug":1304,"text":1305},"demo-interactiva","Demo interactiva",{"depth":16,"slug":1000,"text":1001},[],[],{"title":1253,"description":1254,"order":1255,"level":1053,"duration":1256},[],"08-multi-renderer",{"id":1311,"data":1313,"body":1316,"filePath":1317,"digest":1318,"rendered":1319},{"title":1314,"description":1315,"level":1208,"order":869,"duration":1256},"Multi-Renderer","Same scene rendered with multiple backends","# Tutorial 8: Multi-Renderer üî¥\r\n\r\n> **Nivel:** Avanzado  \r\n> **Tiempo estimado:** 25 minutos  \r\n> **Qu√© aprender√°s:** Renderizar la **misma escena** con m√∫ltiples backends (Three.js y SVG) simult√°neamente, demostrando la arquitectura engine-agnostic de Oroya Animate.\r\n\r\n---\r\n\r\n## Concepto: Una escena, m√∫ltiples representaciones\r\n\r\nEsta es la propuesta de valor central de Oroya Animate:\r\n\r\n```\r\n         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\r\n         ‚îÇ   @oroya/core    ‚îÇ\r\n         ‚îÇ    Scene Graph   ‚îÇ\r\n         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\r\n                  ‚îÇ\r\n        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\r\n        ‚îÇ                   ‚îÇ\r\n   Three.js (3D)       SVG (2D)\r\n   WebGL canvas      SVG markup\r\n```\r\n\r\nLa escena se define **una sola vez**. Cada renderer la interpreta seg√∫n sus capacidades.\r\n\r\n---\r\n\r\n## Paso 1: Setup del HTML\r\n\r\nNecesitamos dos √°reas: un canvas para Three.js y un contenedor para SVG:\r\n\r\n```html\r\n\u003C!DOCTYPE html>\r\n\u003Chtml lang=\"en\">\r\n\u003Chead>\r\n  \u003Cmeta charset=\"UTF-8\" />\r\n  \u003Ctitle>Multi-Renderer ‚Äî Oroya Animate\u003C/title>\r\n  \u003Cstyle>\r\n    body {\r\n      margin: 0;\r\n      background: #0f0f1a;\r\n      color: #fff;\r\n      font-family: system-ui, sans-serif;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      gap: 20px;\r\n      padding: 20px;\r\n    }\r\n    .renderers {\r\n      display: flex;\r\n      gap: 20px;\r\n      flex-wrap: wrap;\r\n      justify-content: center;\r\n    }\r\n    .renderer-panel {\r\n      border: 1px solid #333;\r\n      border-radius: 8px;\r\n      overflow: hidden;\r\n    }\r\n    .renderer-panel h3 {\r\n      margin: 0;\r\n      padding: 8px 16px;\r\n      background: #1a1a2e;\r\n      font-size: 14px;\r\n      text-align: center;\r\n    }\r\n    canvas { display: block; }\r\n    .svg-container { background: #fff; }\r\n  \u003C/style>\r\n\u003C/head>\r\n\u003Cbody>\r\n  \u003Ch1>üîÄ Multi-Renderer Demo\u003C/h1>\r\n  \u003Cdiv class=\"renderers\">\r\n    \u003Cdiv class=\"renderer-panel\">\r\n      \u003Ch3>Three.js (WebGL 3D)\u003C/h3>\r\n      \u003Ccanvas id=\"three-canvas\" width=\"400\" height=\"400\">\u003C/canvas>\r\n    \u003C/div>\r\n    \u003Cdiv class=\"renderer-panel\">\r\n      \u003Ch3>SVG (Vector 2D)\u003C/h3>\r\n      \u003Cdiv id=\"svg-container\" class=\"svg-container\" style=\"width:400px;height:400px\">\u003C/div>\r\n    \u003C/div>\r\n  \u003C/div>\r\n  \u003Cscript type=\"module\" src=\"./main.ts\">\u003C/script>\r\n\u003C/body>\r\n\u003C/html>\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Crear la escena compartida\r\n\r\n```typescript\r\nimport { Scene, Node, createBox, createSphere, createPath2D, Material, Camera, CameraType } from '@oroya/core';\r\nimport { ThreeRenderer } from '@oroya/renderer-three';\r\nimport { renderToSVG } from '@oroya/renderer-svg';\r\n\r\n// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\r\n// ESCENA COMPARTIDA ‚Äî definida una sola vez\r\n// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\r\nconst scene = new Scene();\r\n\r\n// Objetos 3D (para Three.js)\r\nconst cube = new Node('cube');\r\ncube.addComponent(createBox(1.5, 1.5, 1.5));\r\ncube.addComponent(new Material({ color: { r: 0.3, g: 0.6, b: 1.0 } }));\r\ncube.transform.position = { x: -2, y: 0, z: 0 };\r\nscene.add(cube);\r\n\r\nconst sphere = new Node('sphere');\r\nsphere.addComponent(createSphere(1, 32, 32));\r\nsphere.addComponent(new Material({ color: { r: 1.0, g: 0.4, b: 0.2 } }));\r\nsphere.transform.position = { x: 2, y: 0, z: 0 };\r\nscene.add(sphere);\r\n\r\n// Objetos 2D (para SVG)\r\nconst star = new Node('star');\r\nstar.addComponent(createPath2D(createStarPath(200, 200, 5, 80, 35)));\r\nstar.addComponent(new Material({\r\n  fill: { r: 1.0, g: 0.85, b: 0.0 },\r\n  stroke: { r: 0.8, g: 0.6, b: 0.0 },\r\n  strokeWidth: 2,\r\n}));\r\nscene.add(star);\r\n\r\n// C√°mara (solo la usa Three.js)\r\nconst cam = new Node('camera');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Perspective,\r\n  fov: 60,\r\n  aspect: 1,      // Canvas cuadrado 400x400\r\n  near: 0.1,\r\n  far: 100,\r\n}));\r\ncam.transform.position = { x: 0, y: 2, z: 6 };\r\nscene.add(cam);\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Helper para crear estrellas SVG\r\n\r\n```typescript\r\nfunction createStarPath(\r\n  cx: number, cy: number, \r\n  points: number, outerR: number, innerR: number,\r\n) {\r\n  const commands: { command: string; args: number[] }[] = [];\r\n\r\n  for (let i = 0; i \u003C points * 2; i++) {\r\n    const angle = (i * Math.PI) / points - Math.PI / 2;\r\n    const r = i % 2 === 0 ? outerR : innerR;\r\n    const x = cx + Math.cos(angle) * r;\r\n    const y = cy + Math.sin(angle) * r;\r\n\r\n    commands.push({\r\n      command: i === 0 ? 'M' : 'L',\r\n      args: [Math.round(x * 10) / 10, Math.round(y * 10) / 10],\r\n    });\r\n  }\r\n\r\n  commands.push({ command: 'Z', args: [] });\r\n  return commands;\r\n}\r\n```\r\n\r\n---\r\n\r\n## Paso 4: Renderizar con ambos backends\r\n\r\n```typescript\r\n// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\r\n// RENDERER THREE.JS ‚Äî renderizado 3D \r\n// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\r\nconst threeRenderer = new ThreeRenderer({\r\n  canvas: document.getElementById('three-canvas') as HTMLCanvasElement,\r\n  width: 400,\r\n  height: 400,\r\n});\r\nthreeRenderer.mount(scene);\r\n\r\n// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\r\n// RENDERER SVG ‚Äî renderizado 2D\r\n// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\r\nfunction updateSVG() {\r\n  const svgString = renderToSVG(scene, {\r\n    width: 400,\r\n    height: 400,\r\n    viewBox: '0 0 400 400',\r\n  });\r\n  document.getElementById('svg-container')!.innerHTML = svgString;\r\n}\r\n\r\n// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\r\n// ANIMACI√ìN ‚Äî ambos renderers leen la misma escena\r\n// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\r\nlet time = 0;\r\nlet lastSvgUpdate = 0;\r\n\r\nfunction animate() {\r\n  time += 0.01;\r\n\r\n  // Animar los objetos 3D\r\n  cube.transform.rotation = {\r\n    x: Math.sin(time * 0.7 / 2) * 0.5,\r\n    y: Math.sin(time / 2),\r\n    z: 0,\r\n    w: Math.cos(time / 2),\r\n  };\r\n  cube.transform.updateLocalMatrix();\r\n\r\n  sphere.transform.position = {\r\n    x: 2,\r\n    y: Math.sin(time * 2) * 0.5,\r\n    z: 0,\r\n  };\r\n  sphere.transform.updateLocalMatrix();\r\n\r\n  // Three.js: renderizar cada frame\r\n  threeRenderer.render();\r\n\r\n  // SVG: actualizar cada 100ms (no necesita 60fps)\r\n  if (time - lastSvgUpdate > 0.1) {\r\n    updateSVG();\r\n    lastSvgUpdate = time;\r\n  }\r\n\r\n  requestAnimationFrame(animate);\r\n}\r\n\r\nupdateSVG();  // Render inicial SVG\r\nanimate();\r\n```\r\n\r\n---\r\n\r\n## ¬øQu√© renderiza cada backend?\r\n\r\n| Elemento | Three.js | SVG |\r\n|----------|----------|-----|\r\n| `cube` (Box) | ‚úÖ Cubo 3D con sombras | ‚ùå Sin soporte para Box |\r\n| `sphere` (Sphere) | ‚úÖ Esfera 3D | ‚ùå Sin soporte para Sphere |\r\n| `star` (Path2D) | ‚ùå Sin soporte para Path2D | ‚úÖ Estrella vectorial |\r\n| `camera` | ‚úÖ Define el punto de vista | ‚ùå No aplica |\r\n\r\nCada renderer ignora los componentes que no sabe manejar. Esto es **intencional** ‚Äî permite que la misma escena tenga contenido para diferentes backends.\r\n\r\n---\r\n\r\n## Arquitectura del patr√≥n\r\n\r\n```mermaid\r\ngraph LR\r\n    A[Scene Graph] --> B{Component Type?}\r\n    B -->|Box, Sphere| C[Three.js Renderer]\r\n    B -->|Path2D| D[SVG Renderer]\r\n    B -->|Camera| C\r\n    C --> E[WebGL Canvas]\r\n    D --> F[SVG String]\r\n```\r\n\r\n### Beneficios de este patr√≥n\r\n\r\n1. **C√≥digo DRY** ‚Äî La escena se define una vez.\r\n2. **Testeable** ‚Äî Se puede verificar la escena sin renderer.\r\n3. **Extensible** ‚Äî Agregar un nuevo renderer (Canvas2D, WebGPU) no requiere cambiar el core.\r\n4. **Server-side** ‚Äî El SVG renderer funciona en Node.js sin browser.\r\n\r\n---\r\n\r\n## Caso de uso innovador: Preview 2D + Export 3D\r\n\r\n```typescript\r\n// En el editor (r√°pido, ligero)\r\nconst preview = renderToSVG(scene, { width: 800, height: 600 });\r\ndocument.getElementById('preview')!.innerHTML = preview;\r\n\r\n// Al exportar (full quality)\r\nconst renderer = new ThreeRenderer({ canvas, width: 1920, height: 1080 });\r\nrenderer.mount(scene);\r\nrenderer.render();\r\n// ‚Üí Capturar canvas como imagen para export\r\n```\r\n\r\n---\r\n\r\n## Resultado\r\n\r\nUna ventana dividida mostrando la misma escena renderizada simult√°neamente en WebGL 3D y SVG 2D, demostrando que el scene graph es verdaderamente agn√≥stico del backend. üîÄ\r\n\r\n---\r\n\r\n## ¬øQu√© sigue?\r\n\r\nHas completado todos los tutoriales. Ahora puedes:\r\n\r\n- üèóÔ∏è Construir tus propias escenas combinando las t√©cnicas aprendidas.\r\n- üîå Crear un nuevo renderer (Canvas2D, WebGPU) siguiendo el patr√≥n de `@oroya/renderer-three`.\r\n- üì¶ Contribuir al proyecto ‚Äî revisa la [gu√≠a de contribuci√≥n](../contributing.md).\r\n\r\n‚û°Ô∏è [Volver al √≠ndice de tutoriales](./README.md)","src/content/tutorials/08-multi-renderer.md","bf8937d141e05c36",{"html":1320,"metadata":1321},"\u003Ch1 id=\"tutorial-8-multi-renderer\">Tutorial 8: Multi-Renderer üî¥\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Avanzado\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 25 minutos\u003Cbr>\n\u003Cstrong>Qu√© aprender√°s:\u003C/strong> Renderizar la \u003Cstrong>misma escena\u003C/strong> con m√∫ltiples backends (Three.js y SVG) simult√°neamente, demostrando la arquitectura engine-agnostic de Oroya Animate.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto-una-escena-m√∫ltiples-representaciones\">Concepto: Una escena, m√∫ltiples representaciones\u003C/h2>\n\u003Cp>Esta es la propuesta de valor central de Oroya Animate:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         ‚îÇ   @oroya/core    ‚îÇ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         ‚îÇ    Scene Graph   ‚îÇ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                  ‚îÇ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        ‚îÇ                   ‚îÇ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>   Three.js (3D)       SVG (2D)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>   WebGL canvas      SVG markup\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>La escena se define \u003Cstrong>una sola vez\u003C/strong>. Cada renderer la interpreta seg√∫n sus capacidades.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"paso-1-setup-del-html\">Paso 1: Setup del HTML\u003C/h2>\n\u003Cp>Necesitamos dos √°reas: un canvas para Three.js y un contenedor para SVG:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;!\u003C/span>\u003Cspan style=\"color:#85E89D\">DOCTYPE\u003C/span>\u003Cspan style=\"color:#B392F0\"> html\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">html\u003C/span>\u003Cspan style=\"color:#B392F0\"> lang\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"en\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">head\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">meta\u003C/span>\u003Cspan style=\"color:#B392F0\"> charset\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"UTF-8\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">title\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>Multi-Renderer ‚Äî Oroya Animate&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">title\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">style\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#85E89D\">    body\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      margin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      background\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">#0f0f1a\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      color\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">#fff\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      font-family\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">system-ui\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">sans-serif\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      display\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">flex\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      flex-direction\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">column\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      align-items\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">center\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      gap\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">20\u003C/span>\u003Cspan style=\"color:#F97583\">px\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      padding\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">20\u003C/span>\u003Cspan style=\"color:#F97583\">px\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    .renderers\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      display\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">flex\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      gap\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">20\u003C/span>\u003Cspan style=\"color:#F97583\">px\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      flex-wrap\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">wrap\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      justify-content\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">center\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    .renderer-panel\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      border\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#F97583\">px\u003C/span>\u003Cspan style=\"color:#79B8FF\"> solid\u003C/span>\u003Cspan style=\"color:#79B8FF\"> #333\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      border-radius\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">8\u003C/span>\u003Cspan style=\"color:#F97583\">px\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      overflow\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">hidden\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    .renderer-panel\u003C/span>\u003Cspan style=\"color:#85E89D\"> h3\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      margin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      padding\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">8\u003C/span>\u003Cspan style=\"color:#F97583\">px\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 16\u003C/span>\u003Cspan style=\"color:#F97583\">px\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      background\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">#1a1a2e\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      font-size\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">14\u003C/span>\u003Cspan style=\"color:#F97583\">px\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">      text-align\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">center\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#85E89D\">    canvas\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#79B8FF\">display\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">block\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    .svg-container\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#79B8FF\">background\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">#fff\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">style\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">head\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">body\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>üîÄ Multi-Renderer Demo&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"renderers\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"renderer-panel\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>Three.js (WebGL 3D)&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">canvas\u003C/span>\u003Cspan style=\"color:#B392F0\"> id\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"three-canvas\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> width\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"400\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> height\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"400\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">canvas\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"renderer-panel\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>SVG (Vector 2D)&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> id\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"svg-container\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"svg-container\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> style\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"width:400px;height:400px\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">script\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"module\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> src\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"./main.ts\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">script\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">body\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">html\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-crear-la-escena-compartida\">Paso 2: Crear la escena compartida\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Scene, Node, createBox, createSphere, createPath2D, Material, Camera, CameraType } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { ThreeRenderer } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-three'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-svg'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ESCENA COMPARTIDA ‚Äî definida una sola vez\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Objetos 3D (para Three.js)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cube\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'cube'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cube.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cube.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cube.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cube);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> sphere\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'sphere'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sphere.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">32\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sphere.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sphere.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(sphere);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Objetos 2D (para SVG)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> star\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'star'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">star.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createPath2D\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createStarPath\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">80\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">35\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">star.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.85\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(star);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// C√°mara (solo la usa Three.js)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'camera'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Perspective,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fov: \u003C/span>\u003Cspan style=\"color:#79B8FF\">60\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  aspect: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,      \u003C/span>\u003Cspan style=\"color:#6A737D\">// Canvas cuadrado 400x400\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">6\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cam);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-helper-para-crear-estrellas-svg\">Paso 3: Helper para crear estrellas SVG\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> createStarPath\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  cx\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">cy\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  points\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">outerR\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">innerR\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> commands\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">command\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">args\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] }[] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> i \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; i \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> points \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; i\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> angle\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (i \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#79B8FF\">PI\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> points \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#79B8FF\">PI\u003C/span>\u003Cspan style=\"color:#F97583\"> /\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> r\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> i \u003C/span>\u003Cspan style=\"color:#F97583\">%\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#F97583\"> ===\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#F97583\"> ?\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> outerR \u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> innerR;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> x\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> cx \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">cos\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(angle) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> r;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> y\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> cy \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(angle) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> r;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    commands.\u003C/span>\u003Cspan style=\"color:#B392F0\">push\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      command: i \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#F97583\"> ?\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'M'\u003C/span>\u003Cspan style=\"color:#F97583\"> :\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'L'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      args: [Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">round\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(x \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 10\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 10\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">round\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(y \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 10\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 10\u003C/span>\u003Cspan style=\"color:#E1E4E8\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  commands.\u003C/span>\u003Cspan style=\"color:#B392F0\">push\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ command: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Z'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, args: [] });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> commands;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-4-renderizar-con-ambos-backends\">Paso 4: Renderizar con ambos backends\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// RENDERER THREE.JS ‚Äî renderizado 3D \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> threeRenderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  canvas: document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'three-canvas'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> HTMLCanvasElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">threeRenderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// RENDERER SVG ‚Äî renderizado 2D\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> updateSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> svgString\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    viewBox: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'0 0 400 400'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'svg-container'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.innerHTML \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> svgString;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ANIMACI√ìN ‚Äî ambos renderers leen la misma escena\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> time \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> lastSvgUpdate \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  time \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.01\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Animar los objetos 3D\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cube.transform.rotation \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    x: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.7\u003C/span>\u003Cspan style=\"color:#F97583\"> /\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    y: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    w: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">cos\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  cube.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  sphere.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    y: Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">sin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(time \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  sphere.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Three.js: renderizar cada frame\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  threeRenderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // SVG: actualizar cada 100ms (no necesita 60fps)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (time \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> lastSvgUpdate \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    updateSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    lastSvgUpdate \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> time;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  requestAnimationFrame\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(animate);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">updateSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();  \u003C/span>\u003Cspan style=\"color:#6A737D\">// Render inicial SVG\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">animate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"qu√©-renderiza-cada-backend\">¬øQu√© renderiza cada backend?\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Elemento\u003C/th>\u003Cth>Three.js\u003C/th>\u003Cth>SVG\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>cube\u003C/code> (Box)\u003C/td>\u003Ctd>‚úÖ Cubo 3D con sombras\u003C/td>\u003Ctd>‚ùå Sin soporte para Box\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>sphere\u003C/code> (Sphere)\u003C/td>\u003Ctd>‚úÖ Esfera 3D\u003C/td>\u003Ctd>‚ùå Sin soporte para Sphere\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>star\u003C/code> (Path2D)\u003C/td>\u003Ctd>‚ùå Sin soporte para Path2D\u003C/td>\u003Ctd>‚úÖ Estrella vectorial\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>camera\u003C/code>\u003C/td>\u003Ctd>‚úÖ Define el punto de vista\u003C/td>\u003Ctd>‚ùå No aplica\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>Cada renderer ignora los componentes que no sabe manejar. Esto es \u003Cstrong>intencional\u003C/strong> ‚Äî permite que la misma escena tenga contenido para diferentes backends.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"arquitectura-del-patr√≥n\">Arquitectura del patr√≥n\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    A[Scene Graph] --> B{Component Type?}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    B -->|Box, Sphere| C[Three.js Renderer]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    B -->|Path2D| D[SVG Renderer]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    B -->|Camera| C\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    C --> E[WebGL Canvas]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    D --> F[SVG String]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"beneficios-de-este-patr√≥n\">Beneficios de este patr√≥n\u003C/h3>\n\u003Col>\n\u003Cli>\u003Cstrong>C√≥digo DRY\u003C/strong> ‚Äî La escena se define una vez.\u003C/li>\n\u003Cli>\u003Cstrong>Testeable\u003C/strong> ‚Äî Se puede verificar la escena sin renderer.\u003C/li>\n\u003Cli>\u003Cstrong>Extensible\u003C/strong> ‚Äî Agregar un nuevo renderer (Canvas2D, WebGPU) no requiere cambiar el core.\u003C/li>\n\u003Cli>\u003Cstrong>Server-side\u003C/strong> ‚Äî El SVG renderer funciona en Node.js sin browser.\u003C/li>\n\u003C/ol>\n\u003Chr>\n\u003Ch2 id=\"caso-de-uso-innovador-preview-2d--export-3d\">Caso de uso innovador: Preview 2D + Export 3D\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// En el editor (r√°pido, ligero)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> preview\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, { width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">800\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'preview'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.innerHTML \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> preview;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Al exportar (full quality)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> renderer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThreeRenderer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ canvas, width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1920\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1080\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">mount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">renderer.\u003C/span>\u003Cspan style=\"color:#B392F0\">render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ‚Üí Capturar canvas como imagen para export\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"resultado\">Resultado\u003C/h2>\n\u003Cp>Una ventana dividida mostrando la misma escena renderizada simult√°neamente en WebGL 3D y SVG 2D, demostrando que el scene graph es verdaderamente agn√≥stico del backend. üîÄ\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"qu√©-sigue\">¬øQu√© sigue?\u003C/h2>\n\u003Cp>Has completado todos los tutoriales. Ahora puedes:\u003C/p>\n\u003Cul>\n\u003Cli>üèóÔ∏è Construir tus propias escenas combinando las t√©cnicas aprendidas.\u003C/li>\n\u003Cli>üîå Crear un nuevo renderer (Canvas2D, WebGPU) siguiendo el patr√≥n de \u003Ccode>@oroya/renderer-three\u003C/code>.\u003C/li>\n\u003Cli>üì¶ Contribuir al proyecto ‚Äî revisa la \u003Ca href=\"../contributing.md\">gu√≠a de contribuci√≥n\u003C/a>.\u003C/li>\n\u003C/ul>\n\u003Cp>‚û°Ô∏è \u003Ca href=\"./README.md\">Volver al √≠ndice de tutoriales\u003C/a>\u003C/p>",{"headings":1322,"localImagePaths":1355,"remoteImagePaths":1356,"frontmatter":1357,"imagePaths":1358},[1323,1326,1329,1330,1333,1336,1339,1342,1345,1348,1351,1352],{"depth":26,"slug":1324,"text":1325},"tutorial-8-multi-renderer","Tutorial 8: Multi-Renderer üî¥",{"depth":16,"slug":1327,"text":1328},"concepto-una-escena-m√∫ltiples-representaciones","Concepto: Una escena, m√∫ltiples representaciones",{"depth":16,"slug":979,"text":980},{"depth":16,"slug":1331,"text":1332},"paso-2-crear-la-escena-compartida","Paso 2: Crear la escena compartida",{"depth":16,"slug":1334,"text":1335},"paso-3-helper-para-crear-estrellas-svg","Paso 3: Helper para crear estrellas SVG",{"depth":16,"slug":1337,"text":1338},"paso-4-renderizar-con-ambos-backends","Paso 4: Renderizar con ambos backends",{"depth":16,"slug":1340,"text":1341},"qu√©-renderiza-cada-backend","¬øQu√© renderiza cada backend?",{"depth":16,"slug":1343,"text":1344},"arquitectura-del-patr√≥n","Arquitectura del patr√≥n",{"depth":36,"slug":1346,"text":1347},"beneficios-de-este-patr√≥n","Beneficios de este patr√≥n",{"depth":16,"slug":1349,"text":1350},"caso-de-uso-innovador-preview-2d--export-3d","Caso de uso innovador: Preview 2D + Export 3D",{"depth":16,"slug":994,"text":995},{"depth":16,"slug":1353,"text":1354},"qu√©-sigue","¬øQu√© sigue?",[],[],{"title":1314,"description":1315,"order":869,"level":1208,"duration":1256},[],"10-svg-animations",{"id":1359,"data":1361,"body":1365,"filePath":1366,"digest":1367,"rendered":1368},{"title":1362,"description":1363,"level":1053,"order":1364,"duration":1054},"SVG Animations","Declarative animations with animate and animateTransform",10,"# Tutorial 10: Animaciones SVG Nativas üü°\r\n\r\n> **Nivel:** Intermedio  \r\n> **Tiempo estimado:** 20 minutos  \r\n> **Qu√© aprender√°s:** Crear animaciones declarativas con `\u003Canimate>` y `\u003CanimateTransform>` usando el componente `Animation` de Oroya.\r\n\r\n---\r\n\r\n## Concepto: Animaciones sin JavaScript\r\n\r\nLas animaciones SVG nativas se declaran dentro del markup SVG y el navegador las ejecuta directamente, sin `requestAnimationFrame` ni JavaScript. Son ideales para:\r\n\r\n- **Exportaci√≥n:** El archivo `.svg` es auto-animado al abrirlo en un browser.\r\n- **Performance:** El motor de renderizado del browser optimiza las animaciones.\r\n- **Server-side:** Funciona con `renderToSVG()` ‚Äî el string SVG incluye las animaciones.\r\n\r\n```mermaid\r\ngraph LR\r\n    A[\"Animation component\"] --> B[\"renderToSVG\"]\r\n    B -->|\"animate\"| C[\"\u003Canimate attributeName=... />\"]\r\n    B -->|\"animateTransform\"| D[\"\u003CanimateTransform type=... />\"]\r\n    C --> E[\"Navegador ejecuta\"]\r\n    D --> E\r\n```\r\n\r\n---\r\n\r\n## Paso 1: Setup\r\n\r\n```typescript\r\nimport {\r\n  Scene, Node, Camera, CameraType,\r\n  Material, Animation,\r\n  createBox, createSphere, createPath2D,\r\n} from '@oroya/core';\r\nimport { renderToSVG } from '@oroya/renderer-svg';\r\n\r\nconst scene = new Scene();\r\n\r\nconst cam = new Node('cam');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Orthographic,\r\n  left: 0, right: 600,\r\n  top: 0, bottom: 400,\r\n  near: 0.1, far: 100,\r\n}));\r\nscene.add(cam);\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Animar opacidad (pulse)\r\n\r\nEl tipo `'animate'` genera un elemento `\u003Canimate>` que anima un atributo escalar:\r\n\r\n```typescript\r\nconst pulse = new Node('pulse');\r\npulse.addComponent(createSphere(40));\r\npulse.addComponent(new Material({ fill: { r: 1, g: 0.2, b: 0.2 } }));\r\npulse.addComponent(new Animation([\r\n  {\r\n    type: 'animate',\r\n    attributeName: 'opacity',\r\n    values: '1;0.2;1',      // Keyframes separados por \";\"\r\n    dur: '2s',               // Duraci√≥n del ciclo\r\n    repeatCount: 'indefinite', // Repetir infinitamente\r\n  },\r\n]));\r\npulse.transform.position = { x: 100, y: 100, z: 0 };\r\npulse.transform.updateLocalMatrix();\r\nscene.add(pulse);\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Ccircle cx=\"0\" cy=\"0\" r=\"40\" fill=\"rgb(255, 51, 51)\">\r\n  \u003Canimate attributeName=\"opacity\" values=\"1;0.2;1\"\r\n           dur=\"2s\" repeatCount=\"indefinite\" />\r\n\u003C/circle>\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Rotar un cuadrado\r\n\r\nEl tipo `'animateTransform'` genera `\u003CanimateTransform>` para transformaciones geom√©tricas:\r\n\r\n```typescript\r\nconst spinner = new Node('spinner');\r\nspinner.addComponent(createBox(60, 60, 0));\r\nspinner.addComponent(new Material({\r\n  fill: { r: 0.3, g: 0.6, b: 1.0 },\r\n  stroke: { r: 0.1, g: 0.3, b: 0.8 },\r\n  strokeWidth: 2,\r\n}));\r\nspinner.addComponent(new Animation([\r\n  {\r\n    type: 'animateTransform',\r\n    transformType: 'rotate',       // Tipo: rotate, scale, translate, skewX, skewY\r\n    from: '0 0 0',                 // from=\"√°ngulo cx cy\"\r\n    to: '360 0 0',                 // to=\"√°ngulo cx cy\"\r\n    dur: '3s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n]));\r\nspinner.transform.position = { x: 300, y: 100, z: 0 };\r\nspinner.transform.updateLocalMatrix();\r\nscene.add(spinner);\r\n```\r\n\r\n### Sintaxis de `from`/`to` para cada `transformType`\r\n\r\n| transformType | Formato | Ejemplo |\r\n|--------------|---------|---------|\r\n| `rotate` | `\"angle cx cy\"` | `\"360 0 0\"` (360¬∞ alrededor del centro) |\r\n| `translate` | `\"tx ty\"` | `\"0 -50\"` (mover 50px arriba) |\r\n| `scale` | `\"sx sy\"` | `\"1.5 1.5\"` (escalar 150%) |\r\n| `skewX` | `\"angle\"` | `\"30\"` (inclinar 30¬∞) |\r\n| `skewY` | `\"angle\"` | `\"15\"` (inclinar 15¬∞) |\r\n\r\n---\r\n\r\n## Paso 4: Escalar con values\r\n\r\nUsando `values` en lugar de `from/to` para definir m√∫ltiples keyframes:\r\n\r\n```typescript\r\nconst scalable = new Node('scalable');\r\nscalable.addComponent(createSphere(30));\r\nscalable.addComponent(new Material({ fill: { r: 0.2, g: 0.9, b: 0.5 } }));\r\nscalable.addComponent(new Animation([\r\n  {\r\n    type: 'animateTransform',\r\n    transformType: 'scale',\r\n    values: '1;1.5;1',           // Tres keyframes: normal ‚Üí grande ‚Üí normal\r\n    dur: '1.5s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n]));\r\nscalable.transform.position = { x: 500, y: 100, z: 0 };\r\nscalable.transform.updateLocalMatrix();\r\nscene.add(scalable);\r\n```\r\n\r\n---\r\n\r\n## Paso 5: Ciclo de colores\r\n\r\n`\u003Canimate>` puede animar cualquier atributo SVG, incluyendo `fill`:\r\n\r\n```typescript\r\nconst colorCycle = new Node('color-cycle');\r\ncolorCycle.addComponent(createBox(100, 70, 0));\r\ncolorCycle.addComponent(new Material({ fill: { r: 1, g: 0, b: 0 } }));\r\ncolorCycle.addComponent(new Animation([\r\n  {\r\n    type: 'animate',\r\n    attributeName: 'fill',\r\n    values: 'rgb(255,0,0);rgb(0,255,0);rgb(0,0,255);rgb(255,0,0)',\r\n    dur: '3s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n]));\r\ncolorCycle.transform.position = { x: 100, y: 280, z: 0 };\r\ncolorCycle.transform.updateLocalMatrix();\r\nscene.add(colorCycle);\r\n```\r\n\r\n---\r\n\r\n## Paso 6: Bounce con easing (keySplines)\r\n\r\nPara animaciones con curvas de easing, usa `calcMode=\"spline\"` con `keySplines`:\r\n\r\n```typescript\r\nconst bouncer = new Node('bouncer');\r\nbouncer.addComponent(createSphere(20));\r\nbouncer.addComponent(new Material({ fill: { r: 1, g: 0.8, b: 0.1 } }));\r\nbouncer.addComponent(new Animation([\r\n  {\r\n    type: 'animateTransform',\r\n    transformType: 'translate',\r\n    values: '0 -40;0 40;0 -40',\r\n    dur: '1.5s',\r\n    repeatCount: 'indefinite',\r\n    calcMode: 'spline',\r\n    keyTimes: '0;0.5;1',\r\n    keySplines: '0.42 0 0.58 1;0.42 0 0.58 1', // ease-in-out entre cada par\r\n  },\r\n]));\r\nbouncer.transform.position = { x: 300, y: 280, z: 0 };\r\nbouncer.transform.updateLocalMatrix();\r\nscene.add(bouncer);\r\n```\r\n\r\n### Gu√≠a r√°pida de `keySplines`\r\n\r\nCada segmento entre keyframes necesita una curva B√©zier c√∫bica definida por 4 valores: `x1 y1 x2 y2`.\r\n\r\n| Easing | keySplines |\r\n|--------|-----------|\r\n| Lineal | `0 0 1 1` |\r\n| Ease-in | `0.42 0 1 1` |\r\n| Ease-out | `0 0 0.58 1` |\r\n| Ease-in-out | `0.42 0 0.58 1` |\r\n| Bounce | `0.3 1.5 0.7 1` |\r\n\r\n---\r\n\r\n## Paso 7: Combinar m√∫ltiples animaciones\r\n\r\nUn nodo puede tener varias animaciones simult√°neas:\r\n\r\n```typescript\r\nconst star = new Node('star');\r\nstar.addComponent(createPath2D(createStarPath(0, 0, 6, 35, 15)));\r\nstar.addComponent(new Material({\r\n  fillGradient: {\r\n    type: 'linear', x1: 0, y1: 0, x2: 1, y2: 1,\r\n    stops: [\r\n      { offset: 0, color: { r: 1, g: 0.5, b: 0 } },\r\n      { offset: 1, color: { r: 1, g: 0, b: 0.5 } },\r\n    ],\r\n  },\r\n}));\r\nstar.addComponent(new Animation([\r\n  // Rotaci√≥n continua\r\n  {\r\n    type: 'animateTransform',\r\n    transformType: 'rotate',\r\n    from: '0 0 0',\r\n    to: '360 0 0',\r\n    dur: '4s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n  // Pulso de opacidad\r\n  {\r\n    type: 'animate',\r\n    attributeName: 'opacity',\r\n    values: '1;0.4;1',\r\n    dur: '2s',\r\n    repeatCount: 'indefinite',\r\n  },\r\n]));\r\nstar.transform.position = { x: 500, y: 280, z: 0 };\r\nstar.transform.updateLocalMatrix();\r\nscene.add(star);\r\n```\r\n\r\n---\r\n\r\n## Paso 8: Animaci√≥n con freeze (una sola vez)\r\n\r\nUsa `fill=\"freeze\"` para que el valor final persista despu√©s de terminar:\r\n\r\n```typescript\r\nconst oneShot = new Node('one-shot');\r\noneShot.addComponent(createBox(80, 50, 0));\r\noneShot.addComponent(new Material({ fill: { r: 0.5, g: 0.5, b: 0.5 } }));\r\noneShot.addComponent(new Animation([\r\n  {\r\n    type: 'animate',\r\n    attributeName: 'fill',\r\n    from: 'rgb(128,128,128)',\r\n    to: 'rgb(0,255,128)',\r\n    dur: '2s',\r\n    repeatCount: '1',\r\n    fill: 'freeze',   // Mantiene el color final\r\n  },\r\n]));\r\n```\r\n\r\n> **`fill=\"remove\"` vs `fill=\"freeze\"`:**  \r\n> - `remove` (default) ‚Äî al terminar, vuelve al valor original.  \r\n> - `freeze` ‚Äî mantiene el valor final de la animaci√≥n.\r\n\r\n---\r\n\r\n## Paso 9: Renderizar\r\n\r\n```typescript\r\nconst svg = renderToSVG(scene, { width: 600, height: 400 });\r\n\r\n// En browser: se auto-anima al insertarlo en el DOM\r\ndocument.body.innerHTML = svg;\r\n\r\n// En Node.js: exportar como archivo .svg auto-animado\r\nimport { writeFileSync } from 'fs';\r\nwriteFileSync('animated.svg', svg);\r\n```\r\n\r\n---\r\n\r\n## Referencia r√°pida de SvgAnimateDef\r\n\r\n| Campo | Tipo | Descripci√≥n |\r\n|-------|------|-------------|\r\n| `type` | `'animate'` | Discriminante |\r\n| `attributeName` | `string` | Atributo SVG a animar (`'opacity'`, `'fill'`, `'r'`, etc.) |\r\n| `from` / `to` | `string` | Valor inicial / final |\r\n| `values` | `string` | Keyframes separados por `;` (alternativa a from/to) |\r\n| `dur` | `string` | Duraci√≥n (`'2s'`, `'500ms'`) |\r\n| `repeatCount` | `string` | `'indefinite'` o un n√∫mero (`'3'`) |\r\n| `fill` | `string` | `'freeze'` o `'remove'` |\r\n| `calcMode` | `string` | `'linear'`, `'spline'`, `'discrete'`, `'paced'` |\r\n| `keyTimes` | `string` | Tiempos clave (`'0;0.5;1'`) |\r\n| `keySplines` | `string` | Curvas B√©zier entre keyframes |\r\n\r\n## Referencia r√°pida de SvgAnimateTransformDef\r\n\r\n| Campo | Tipo | Descripci√≥n |\r\n|-------|------|-------------|\r\n| `type` | `'animateTransform'` | Discriminante |\r\n| `transformType` | `string` | `'rotate'`, `'translate'`, `'scale'`, `'skewX'`, `'skewY'` |\r\n| `from` / `to` / `values` | `string` | Valores de la transformaci√≥n |\r\n| `dur` | `string` | Duraci√≥n |\r\n| `repeatCount` | `string` | Repeticiones |\r\n| `additive` | `string` | `'sum'` para acumular con el transform base |\r\n\r\n---\r\n\r\n## Demo interactiva\r\n\r\nExplora todas estas animaciones en la demo **\"SVG Animations\"** del demo-react.\r\n\r\n---\r\n\r\n## Siguiente tutorial\r\n\r\n‚û°Ô∏è [Tutorial 11: SVG Interactivo](./11-svg-interactive.md) ‚Äî event delegation con `renderToSVGElement`.","src/content/tutorials/10-svg-animations.md","701a6ddc2890bc10",{"html":1369,"metadata":1370},"\u003Ch1 id=\"tutorial-10-animaciones-svg-nativas\">Tutorial 10: Animaciones SVG Nativas üü°\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Intermedio\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 20 minutos\u003Cbr>\n\u003Cstrong>Qu√© aprender√°s:\u003C/strong> Crear animaciones declarativas con \u003Ccode>&#x3C;animate>\u003C/code> y \u003Ccode>&#x3C;animateTransform>\u003C/code> usando el componente \u003Ccode>Animation\u003C/code> de Oroya.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto-animaciones-sin-javascript\">Concepto: Animaciones sin JavaScript\u003C/h2>\n\u003Cp>Las animaciones SVG nativas se declaran dentro del markup SVG y el navegador las ejecuta directamente, sin \u003Ccode>requestAnimationFrame\u003C/code> ni JavaScript. Son ideales para:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Exportaci√≥n:\u003C/strong> El archivo \u003Ccode>.svg\u003C/code> es auto-animado al abrirlo en un browser.\u003C/li>\n\u003Cli>\u003Cstrong>Performance:\u003C/strong> El motor de renderizado del browser optimiza las animaciones.\u003C/li>\n\u003Cli>\u003Cstrong>Server-side:\u003C/strong> Funciona con \u003Ccode>renderToSVG()\u003C/code> ‚Äî el string SVG incluye las animaciones.\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph LR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    A[\"Animation component\"] --> B[\"renderToSVG\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    B -->|\"animate\"| C[\"&#x3C;animate attributeName=... />\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    B -->|\"animateTransform\"| D[\"&#x3C;animateTransform type=... />\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    C --> E[\"Navegador ejecuta\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    D --> E\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-1-setup\">Paso 1: Setup\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  Scene, Node, Camera, CameraType,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  Material, Animation,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  createBox, createSphere, createPath2D,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">} \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { renderToSVG } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-svg'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'cam'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Orthographic,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  left: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, right: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  top: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, bottom: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cam);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-animar-opacidad-pulse\">Paso 2: Animar opacidad (pulse)\u003C/h2>\n\u003Cp>El tipo \u003Ccode>'animate'\u003C/code> genera un elemento \u003Ccode>&#x3C;animate>\u003C/code> que anima un atributo escalar:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> pulse\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'pulse'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">pulse.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">40\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">pulse.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">pulse.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Animation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'animate'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    attributeName: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'opacity'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    values: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'1;0.2;1'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,      \u003C/span>\u003Cspan style=\"color:#6A737D\">// Keyframes separados por \";\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    dur: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'2s'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,               \u003C/span>\u003Cspan style=\"color:#6A737D\">// Duraci√≥n del ciclo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'indefinite'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// Repetir infinitamente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">pulse.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">pulse.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(pulse);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">circle\u003C/span>\u003Cspan style=\"color:#B392F0\"> cx\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> cy\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"0\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> r\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"40\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> fill\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"rgb(255, 51, 51)\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">animate\u003C/span>\u003Cspan style=\"color:#B392F0\"> attributeName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"opacity\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> values\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"1;0.2;1\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">           dur\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"2s\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> repeatCount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"indefinite\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">circle\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-rotar-un-cuadrado\">Paso 3: Rotar un cuadrado\u003C/h2>\n\u003Cp>El tipo \u003Ccode>'animateTransform'\u003C/code> genera \u003Ccode>&#x3C;animateTransform>\u003C/code> para transformaciones geom√©tricas:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> spinner\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'spinner'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">spinner.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">60\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">60\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">spinner.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">spinner.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Animation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'animateTransform'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    transformType: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'rotate'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,       \u003C/span>\u003Cspan style=\"color:#6A737D\">// Tipo: rotate, scale, translate, skewX, skewY\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    from: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'0 0 0'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,                 \u003C/span>\u003Cspan style=\"color:#6A737D\">// from=\"√°ngulo cx cy\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    to: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'360 0 0'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,                 \u003C/span>\u003Cspan style=\"color:#6A737D\">// to=\"√°ngulo cx cy\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    dur: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'3s'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'indefinite'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">spinner.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">300\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">spinner.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(spinner);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"sintaxis-de-fromto-para-cada-transformtype\">Sintaxis de \u003Ccode>from\u003C/code>/\u003Ccode>to\u003C/code> para cada \u003Ccode>transformType\u003C/code>\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>transformType\u003C/th>\u003Cth>Formato\u003C/th>\u003Cth>Ejemplo\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>rotate\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"angle cx cy\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"360 0 0\"\u003C/code> (360¬∞ alrededor del centro)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>translate\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"tx ty\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"0 -50\"\u003C/code> (mover 50px arriba)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>scale\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"sx sy\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"1.5 1.5\"\u003C/code> (escalar 150%)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>skewX\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"angle\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"30\"\u003C/code> (inclinar 30¬∞)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>skewY\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"angle\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>\"15\"\u003C/code> (inclinar 15¬∞)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"paso-4-escalar-con-values\">Paso 4: Escalar con values\u003C/h2>\n\u003Cp>Usando \u003Ccode>values\u003C/code> en lugar de \u003Ccode>from/to\u003C/code> para definir m√∫ltiples keyframes:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scalable\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'scalable'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scalable.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">30\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scalable.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scalable.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Animation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'animateTransform'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    transformType: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'scale'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    values: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'1;1.5;1'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,           \u003C/span>\u003Cspan style=\"color:#6A737D\">// Tres keyframes: normal ‚Üí grande ‚Üí normal\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    dur: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'1.5s'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'indefinite'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scalable.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">500\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scalable.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scalable);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-5-ciclo-de-colores\">Paso 5: Ciclo de colores\u003C/h2>\n\u003Cp>\u003Ccode>&#x3C;animate>\u003C/code> puede animar cualquier atributo SVG, incluyendo \u003Ccode>fill\u003C/code>:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> colorCycle\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'color-cycle'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">colorCycle.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">70\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">colorCycle.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">colorCycle.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Animation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'animate'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    attributeName: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'fill'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    values: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'rgb(255,0,0);rgb(0,255,0);rgb(0,0,255);rgb(255,0,0)'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    dur: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'3s'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'indefinite'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">colorCycle.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">280\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">colorCycle.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(colorCycle);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-6-bounce-con-easing-keysplines\">Paso 6: Bounce con easing (keySplines)\u003C/h2>\n\u003Cp>Para animaciones con curvas de easing, usa \u003Ccode>calcMode=\"spline\"\u003C/code> con \u003Ccode>keySplines\u003C/code>:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> bouncer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'bouncer'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">bouncer.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">20\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">bouncer.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">bouncer.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Animation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'animateTransform'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    transformType: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'translate'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    values: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'0 -40;0 40;0 -40'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    dur: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'1.5s'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'indefinite'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    calcMode: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'spline'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    keyTimes: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'0;0.5;1'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    keySplines: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'0.42 0 0.58 1;0.42 0 0.58 1'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// ease-in-out entre cada par\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">bouncer.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">300\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">280\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">bouncer.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(bouncer);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"gu√≠a-r√°pida-de-keysplines\">Gu√≠a r√°pida de \u003Ccode>keySplines\u003C/code>\u003C/h3>\n\u003Cp>Cada segmento entre keyframes necesita una curva B√©zier c√∫bica definida por 4 valores: \u003Ccode>x1 y1 x2 y2\u003C/code>.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Easing\u003C/th>\u003Cth>keySplines\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Lineal\u003C/td>\u003Ctd>\u003Ccode>0 0 1 1\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Ease-in\u003C/td>\u003Ctd>\u003Ccode>0.42 0 1 1\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Ease-out\u003C/td>\u003Ctd>\u003Ccode>0 0 0.58 1\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Ease-in-out\u003C/td>\u003Ctd>\u003Ccode>0.42 0 0.58 1\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Bounce\u003C/td>\u003Ctd>\u003Ccode>0.3 1.5 0.7 1\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"paso-7-combinar-m√∫ltiples-animaciones\">Paso 7: Combinar m√∫ltiples animaciones\u003C/h2>\n\u003Cp>Un nodo puede tener varias animaciones simult√°neas:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> star\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'star'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">star.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createPath2D\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createStarPath\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">35\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">15\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">star.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fillGradient: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'linear'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, x1: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y1: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, x2: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y2: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    stops: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      { offset: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, color: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">star.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Animation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Rotaci√≥n continua\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'animateTransform'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    transformType: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'rotate'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    from: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'0 0 0'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    to: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'360 0 0'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    dur: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'4s'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'indefinite'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // Pulso de opacidad\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'animate'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    attributeName: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'opacity'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    values: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'1;0.4;1'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    dur: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'2s'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'indefinite'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">]));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">star.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">500\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">280\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">star.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(star);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-8-animaci√≥n-con-freeze-una-sola-vez\">Paso 8: Animaci√≥n con freeze (una sola vez)\u003C/h2>\n\u003Cp>Usa \u003Ccode>fill=\"freeze\"\u003C/code> para que el valor final persista despu√©s de terminar:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> oneShot\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'one-shot'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">oneShot.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">80\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">oneShot.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">oneShot.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Animation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">([\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    type: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'animate'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    attributeName: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'fill'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    from: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'rgb(128,128,128)'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    to: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'rgb(0,255,128)'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    dur: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'2s'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    repeatCount: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'1'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    fill: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'freeze'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,   \u003C/span>\u003Cspan style=\"color:#6A737D\">// Mantiene el color final\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">]));\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>\u003Ccode>fill=\"remove\"\u003C/code> vs \u003Ccode>fill=\"freeze\"\u003C/code>:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode>remove\u003C/code> (default) ‚Äî al terminar, vuelve al valor original.\u003C/li>\n\u003Cli>\u003Ccode>freeze\u003C/code> ‚Äî mantiene el valor final de la animaci√≥n.\u003C/li>\n\u003C/ul>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"paso-9-renderizar\">Paso 9: Renderizar\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> svg\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVG\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, { width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// En browser: se auto-anima al insertarlo en el DOM\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">document.body.innerHTML \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> svg;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// En Node.js: exportar como archivo .svg auto-animado\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { writeFileSync } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'fs'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">writeFileSync\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'animated.svg'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, svg);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"referencia-r√°pida-de-svganimatedef\">Referencia r√°pida de SvgAnimateDef\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'animate'\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>attributeName\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Atributo SVG a animar (\u003Ccode>'opacity'\u003C/code>, \u003Ccode>'fill'\u003C/code>, \u003Ccode>'r'\u003C/code>, etc.)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>from\u003C/code> / \u003Ccode>to\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Valor inicial / final\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>values\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Keyframes separados por \u003Ccode>;\u003C/code> (alternativa a from/to)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dur\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Duraci√≥n (\u003Ccode>'2s'\u003C/code>, \u003Ccode>'500ms'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>repeatCount\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'indefinite'\u003C/code> o un n√∫mero (\u003Ccode>'3'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>fill\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'freeze'\u003C/code> o \u003Ccode>'remove'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>calcMode\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'linear'\u003C/code>, \u003Ccode>'spline'\u003C/code>, \u003Ccode>'discrete'\u003C/code>, \u003Ccode>'paced'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>keyTimes\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Tiempos clave (\u003Ccode>'0;0.5;1'\u003C/code>)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>keySplines\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Curvas B√©zier entre keyframes\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch2 id=\"referencia-r√°pida-de-svganimatetransformdef\">Referencia r√°pida de SvgAnimateTransformDef\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Campo\u003C/th>\u003Cth>Tipo\u003C/th>\u003Cth>Descripci√≥n\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>type\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'animateTransform'\u003C/code>\u003C/td>\u003Ctd>Discriminante\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>transformType\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'rotate'\u003C/code>, \u003Ccode>'translate'\u003C/code>, \u003Ccode>'scale'\u003C/code>, \u003Ccode>'skewX'\u003C/code>, \u003Ccode>'skewY'\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>from\u003C/code> / \u003Ccode>to\u003C/code> / \u003Ccode>values\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Valores de la transformaci√≥n\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>dur\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Duraci√≥n\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>repeatCount\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>Repeticiones\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>additive\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>'sum'\u003C/code> para acumular con el transform base\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"demo-interactiva\">Demo interactiva\u003C/h2>\n\u003Cp>Explora todas estas animaciones en la demo \u003Cstrong>‚ÄúSVG Animations‚Äù\u003C/strong> del demo-react.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"siguiente-tutorial\">Siguiente tutorial\u003C/h2>\n\u003Cp>‚û°Ô∏è \u003Ca href=\"./11-svg-interactive.md\">Tutorial 11: SVG Interactivo\u003C/a> ‚Äî event delegation con \u003Ccode>renderToSVGElement\u003C/code>.\u003C/p>",{"headings":1371,"localImagePaths":1417,"remoteImagePaths":1418,"frontmatter":1419,"imagePaths":1420},[1372,1375,1378,1381,1384,1387,1390,1393,1396,1399,1402,1405,1408,1409,1412,1415,1416],{"depth":26,"slug":1373,"text":1374},"tutorial-10-animaciones-svg-nativas","Tutorial 10: Animaciones SVG Nativas üü°",{"depth":16,"slug":1376,"text":1377},"concepto-animaciones-sin-javascript","Concepto: Animaciones sin JavaScript",{"depth":16,"slug":1379,"text":1380},"paso-1-setup","Paso 1: Setup",{"depth":16,"slug":1382,"text":1383},"paso-2-animar-opacidad-pulse","Paso 2: Animar opacidad (pulse)",{"depth":16,"slug":1385,"text":1386},"paso-3-rotar-un-cuadrado","Paso 3: Rotar un cuadrado",{"depth":36,"slug":1388,"text":1389},"sintaxis-de-fromto-para-cada-transformtype","Sintaxis de from/to para cada transformType",{"depth":16,"slug":1391,"text":1392},"paso-4-escalar-con-values","Paso 4: Escalar con values",{"depth":16,"slug":1394,"text":1395},"paso-5-ciclo-de-colores","Paso 5: Ciclo de colores",{"depth":16,"slug":1397,"text":1398},"paso-6-bounce-con-easing-keysplines","Paso 6: Bounce con easing (keySplines)",{"depth":36,"slug":1400,"text":1401},"gu√≠a-r√°pida-de-keysplines","Gu√≠a r√°pida de keySplines",{"depth":16,"slug":1403,"text":1404},"paso-7-combinar-m√∫ltiples-animaciones","Paso 7: Combinar m√∫ltiples animaciones",{"depth":16,"slug":1406,"text":1407},"paso-8-animaci√≥n-con-freeze-una-sola-vez","Paso 8: Animaci√≥n con freeze (una sola vez)",{"depth":16,"slug":1295,"text":1296},{"depth":16,"slug":1410,"text":1411},"referencia-r√°pida-de-svganimatedef","Referencia r√°pida de SvgAnimateDef",{"depth":16,"slug":1413,"text":1414},"referencia-r√°pida-de-svganimatetransformdef","Referencia r√°pida de SvgAnimateTransformDef",{"depth":16,"slug":1304,"text":1305},{"depth":16,"slug":1000,"text":1001},[],[],{"title":1362,"description":1363,"order":1364,"level":1053,"duration":1054},[],"11-svg-interactive",{"id":1421,"data":1423,"body":1427,"filePath":1428,"digest":1429,"rendered":1430},{"title":1424,"description":1425,"level":1208,"order":1426,"duration":1256},"SVG Interactive","Interactive SVG with event delegation",11,"# Tutorial 11: SVG Interactivo üî¥\r\n\r\n> **Nivel:** Avanzado  \r\n> **Tiempo estimado:** 25 minutos  \r\n> **Qu√© aprender√°s:** Crear interfaces SVG interactivas con `renderToSVGElement`, el componente `Interactive` y event delegation sobre nodos del scene graph.\r\n\r\n---\r\n\r\n## Concepto: `renderToSVG` vs `renderToSVGElement`\r\n\r\n| Funci√≥n | Retorno | Interactividad | DOM requerido |\r\n|---------|---------|---------------|---------------|\r\n| `renderToSVG` | `string` | No | No (server-safe) |\r\n| `renderToSVGElement` | `SVGSVGElement` + `dispose()` | Si | Si |\r\n\r\n`renderToSVGElement` crea un elemento SVG real en el DOM y adjunta event listeners a los nodos que tienen el componente `Interactive`. Los eventos se traducen al sistema de `InteractionEvent` de Oroya, con soporte para bubbling y `stopPropagation()`.\r\n\r\n```mermaid\r\nsequenceDiagram\r\n    participant User as Usuario\r\n    participant SVG as SVGElement\r\n    participant Oroya as Scene Graph\r\n    participant Handler as Event Handler\r\n\r\n    User->>SVG: click / hover / wheel\r\n    SVG->>Oroya: dispatch InteractionEvent\r\n    Oroya->>Handler: node.on('click', handler)\r\n    Note over Oroya: Event bubbling (hijo ‚Üí padre)\r\n```\r\n\r\n---\r\n\r\n## Paso 1: Setup con renderToSVGElement\r\n\r\n```typescript\r\nimport {\r\n  Scene, Node, Camera, CameraType,\r\n  Material, Interactive,\r\n  createBox, createSphere, createPath2D,\r\n} from '@oroya/core';\r\nimport { renderToSVGElement } from '@oroya/renderer-svg';\r\n```\r\n\r\n---\r\n\r\n## Paso 2: Crear nodos interactivos\r\n\r\nEl componente `Interactive` marca un nodo como receptivo a eventos. Configura el cursor CSS y habilita la detecci√≥n:\r\n\r\n```typescript\r\nconst scene = new Scene();\r\n\r\n// C√°mara ortogr√°fica\r\nconst cam = new Node('cam');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Orthographic,\r\n  left: 0, right: 600,\r\n  top: 0, bottom: 400,\r\n  near: 0.1, far: 100,\r\n}));\r\nscene.add(cam);\r\n\r\n// Bot√≥n interactivo\r\nconst button = new Node('my-button');\r\nbutton.addComponent(createBox(160, 50, 0));\r\nbutton.addComponent(new Material({\r\n  fill: { r: 0.2, g: 0.6, b: 1.0 },\r\n  stroke: { r: 0.1, g: 0.3, b: 0.8 },\r\n  strokeWidth: 2,\r\n}));\r\nbutton.addComponent(new Interactive({ cursor: 'pointer' }));\r\nbutton.transform.position = { x: 300, y: 100, z: 0 };\r\nbutton.transform.updateLocalMatrix();\r\nscene.add(button);\r\n```\r\n\r\n---\r\n\r\n## Paso 3: Registrar event handlers\r\n\r\nLos handlers se registran en el nodo usando `node.on()`, igual que con Three.js:\r\n\r\n```typescript\r\nlet clickCount = 0;\r\n\r\nbutton.on('click', (e) => {\r\n  clickCount++;\r\n  console.log(`Clicked ${clickCount} times!`);\r\n  console.log('Screen position:', e.screenPosition);\r\n});\r\n\r\nbutton.on('pointerenter', () => {\r\n  console.log('Mouse entered the button');\r\n});\r\n\r\nbutton.on('pointerleave', () => {\r\n  console.log('Mouse left the button');\r\n});\r\n```\r\n\r\n---\r\n\r\n## Paso 4: Montar el SVG interactivo\r\n\r\n```typescript\r\nconst { svg, dispose } = renderToSVGElement(scene, {\r\n  width: 600,\r\n  height: 400,\r\n  container: document.getElementById('app')!, // Se adjunta autom√°ticamente\r\n});\r\n\r\n// El SVG ya est√° en el DOM y responde a eventos\r\n```\r\n\r\n---\r\n\r\n## Paso 5: Eventos soportados\r\n\r\n| Evento DOM | InteractionEventType | Caso de uso |\r\n|-----------|---------------------|-------------|\r\n| `click` | `Click` | Botones, selecci√≥n |\r\n| `pointerdown` | `PointerDown` | Inicio de drag, efecto press |\r\n| `pointerup` | `PointerUp` | Fin de drag |\r\n| `pointermove` | `PointerMove` | Tracking del puntero |\r\n| `pointerenter` | `PointerEnter` | Hover in |\r\n| `pointerleave` | `PointerLeave` | Hover out |\r\n| `wheel` | `Wheel` | Zoom, scroll |\r\n\r\n---\r\n\r\n## Paso 6: Event bubbling\r\n\r\nLos eventos se propagan de hijo a padre, igual que en el DOM:\r\n\r\n```typescript\r\nconst group = new Node('group');\r\ngroup.addComponent(new Interactive({ cursor: 'default' }));\r\nscene.add(group);\r\n\r\nconst child = new Node('child');\r\nchild.addComponent(createSphere(30));\r\nchild.addComponent(new Material({ fill: { r: 1, g: 0.5, b: 0 } }));\r\nchild.addComponent(new Interactive({ cursor: 'pointer' }));\r\nchild.transform.position = { x: 300, y: 250, z: 0 };\r\nchild.transform.updateLocalMatrix();\r\ngroup.add(child); // child es hijo de group\r\n\r\n// El click en child primero llama al handler de child, luego el de group\r\nchild.on('click', (e) => {\r\n  console.log('Child clicked!', e.target.name);  // \"child\"\r\n  // e.stopPropagation(); // Descomenta para detener el bubbling\r\n});\r\n\r\ngroup.on('click', (e) => {\r\n  console.log('Group received click!', e.target.name);      // \"child\"\r\n  console.log('Current target:', e.currentTarget.name); // \"group\"\r\n});\r\n```\r\n\r\n---\r\n\r\n## Paso 7: Grilla interactiva ‚Äî ejemplo completo\r\n\r\nUn ejemplo pr√°ctico con m√∫ltiples elementos interactivos:\r\n\r\n```typescript\r\nconst scene = new Scene();\r\n\r\nconst cam = new Node('cam');\r\ncam.addComponent(new Camera({\r\n  type: CameraType.Orthographic,\r\n  left: 0, right: 600, top: 0, bottom: 400,\r\n  near: 0.1, far: 100,\r\n}));\r\nscene.add(cam);\r\n\r\nconst colors = [\r\n  { r: 0.95, g: 0.3, b: 0.3 },\r\n  { r: 0.3, g: 0.65, b: 1.0 },\r\n  { r: 0.2, g: 0.85, b: 0.5 },\r\n  { r: 1.0, g: 0.75, b: 0.15 },\r\n  { r: 0.7, g: 0.3, b: 0.9 },\r\n  { r: 1.0, g: 0.5, b: 0.2 },\r\n];\r\n\r\nconst cols = 3;\r\nconst rows = 2;\r\nconst cellW = 600 / cols;\r\nconst cellH = 400 / rows;\r\n\r\nfor (let r = 0; r \u003C rows; r++) {\r\n  for (let c = 0; c \u003C cols; c++) {\r\n    const idx = r * cols + c;\r\n    const cx = cellW * (c + 0.5);\r\n    const cy = cellH * (r + 0.5);\r\n    const color = colors[idx % colors.length];\r\n\r\n    const tile = new Node(`tile-${r}-${c}`);\r\n    tile.addComponent(createBox(cellW * 0.7, cellH * 0.6, 0));\r\n    tile.addComponent(new Material({\r\n      fill: color,\r\n      stroke: { r: color.r * 0.5, g: color.g * 0.5, b: color.b * 0.5 },\r\n      strokeWidth: 2,\r\n    }));\r\n    tile.addComponent(new Interactive({ cursor: 'pointer' }));\r\n    tile.cssClass = 'tile';\r\n    tile.cssId = `tile-${idx}`;\r\n    tile.transform.position = { x: cx, y: cy, z: 0 };\r\n    tile.transform.updateLocalMatrix();\r\n\r\n    // Click handler\r\n    tile.on('click', () => {\r\n      console.log(`Tile ${tile.name} clicked!`);\r\n    });\r\n\r\n    // Hover handler\r\n    tile.on('pointerenter', () => {\r\n      console.log(`Hovering ${tile.name}`);\r\n    });\r\n\r\n    scene.add(tile);\r\n  }\r\n}\r\n\r\n// Montar SVG interactivo\r\nconst { svg, dispose } = renderToSVGElement(scene, {\r\n  width: 600,\r\n  height: 400,\r\n  container: document.body,\r\n});\r\n```\r\n\r\n---\r\n\r\n## Paso 8: CSS classes y IDs\r\n\r\nLos nodos pueden tener `cssClass` y `cssId` que se emiten como atributos HTML en el SVG generado. Esto permite estilizar con CSS externo:\r\n\r\n```typescript\r\ntile.cssClass = 'interactive-tile highlight';\r\ntile.cssId = 'main-tile';\r\n```\r\n\r\nGenera:\r\n```xml\r\n\u003Crect id=\"main-tile\" class=\"interactive-tile highlight\" ... />\r\n```\r\n\r\nEsto permite usar CSS para agregar efectos de hover sin JavaScript adicional:\r\n\r\n```css\r\n.interactive-tile:hover {\r\n  filter: brightness(1.2);\r\n  transition: filter 0.2s;\r\n}\r\n```\r\n\r\n---\r\n\r\n## Paso 9: Cleanup\r\n\r\nSiempre llama a `dispose()` cuando ya no necesites el SVG interactivo:\r\n\r\n```typescript\r\n// Al desmontar el componente o cambiar de vista:\r\ndispose();\r\n// - Remueve todos los event listeners (via AbortController)\r\n// - Remueve el SVG element del DOM\r\n// - Limpia el mapa interno de elementos\r\n```\r\n\r\n---\r\n\r\n## Re-rendering\r\n\r\nSi necesitas actualizar el SVG despu√©s de mutar la escena, debes llamar nuevamente a `renderToSVGElement`:\r\n\r\n```typescript\r\n// 1. Dispose del anterior\r\ndispose();\r\n\r\n// 2. Mutar la escena\r\nsomeNode.transform.position.x += 50;\r\nsomeNode.transform.updateLocalMatrix();\r\n\r\n// 3. Re-render\r\nconst result = renderToSVGElement(scene, {\r\n  width: 600, height: 400,\r\n  container: document.body,\r\n});\r\n// Actualizar la referencia de dispose\r\n```\r\n\r\n> **Nota:** A diferencia de Three.js (que re-renderiza en un loop), el SVG renderer es funcional ‚Äî cada llamada genera un SVG nuevo. Para animaciones, usa el componente `Animation` (SVG nativo) o re-renderiza peri√≥dicamente.\r\n\r\n---\r\n\r\n## Arquitectura del event system\r\n\r\n```mermaid\r\ngraph TD\r\n    A[\"Pointer event en SVGElement\"] --> B[\"attachInteractiveListeners\"]\r\n    B --> C[\"createInteractionEvent\"]\r\n    C --> D[\"node.dispatchInteraction\"]\r\n    D --> E[\"node.emit('click', event)\"]\r\n    E --> F{\"¬øpropagationStopped?\"}\r\n    F -->|\"No\"| G[\"parent.emit('click', event)\"]\r\n    F -->|\"S√≠\"| H[\"Stop\"]\r\n    G --> F\r\n```\r\n\r\n---\r\n\r\n## Demo interactiva\r\n\r\nExplora la interactividad SVG en la demo **\"SVG Interactive\"** del demo-react.\r\n\r\n---\r\n\r\n## ¬øQu√© sigue?\r\n\r\nHas completado todos los tutoriales de SVG. Ahora puedes:\r\n\r\n- Combinar gradientes + animaciones + interactividad en una sola escena.\r\n- Exportar SVG animados como archivos `.svg` auto-contenidos.\r\n- Crear dashboards interactivos SVG con event delegation.\r\n- Usar `renderToSVG` en Node.js para server-side rendering.\r\n\r\n‚û°Ô∏è [Volver al √≠ndice de tutoriales](./README.md)","src/content/tutorials/11-svg-interactive.md","f95400ffec4775d6",{"html":1431,"metadata":1432},"\u003Ch1 id=\"tutorial-11-svg-interactivo\">Tutorial 11: SVG Interactivo üî¥\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nivel:\u003C/strong> Avanzado\u003Cbr>\n\u003Cstrong>Tiempo estimado:\u003C/strong> 25 minutos\u003Cbr>\n\u003Cstrong>Qu√© aprender√°s:\u003C/strong> Crear interfaces SVG interactivas con \u003Ccode>renderToSVGElement\u003C/code>, el componente \u003Ccode>Interactive\u003C/code> y event delegation sobre nodos del scene graph.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"concepto-rendertosvg-vs-rendertosvgelement\">Concepto: \u003Ccode>renderToSVG\u003C/code> vs \u003Ccode>renderToSVGElement\u003C/code>\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Funci√≥n\u003C/th>\u003Cth>Retorno\u003C/th>\u003Cth>Interactividad\u003C/th>\u003Cth>DOM requerido\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>renderToSVG\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>string\u003C/code>\u003C/td>\u003Ctd>No\u003C/td>\u003Ctd>No (server-safe)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>renderToSVGElement\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>SVGSVGElement\u003C/code> + \u003Ccode>dispose()\u003C/code>\u003C/td>\u003Ctd>Si\u003C/td>\u003Ctd>Si\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>\u003Ccode>renderToSVGElement\u003C/code> crea un elemento SVG real en el DOM y adjunta event listeners a los nodos que tienen el componente \u003Ccode>Interactive\u003C/code>. Los eventos se traducen al sistema de \u003Ccode>InteractionEvent\u003C/code> de Oroya, con soporte para bubbling y \u003Ccode>stopPropagation()\u003C/code>.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sequenceDiagram\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant User as Usuario\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant SVG as SVGElement\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant Oroya as Scene Graph\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    participant Handler as Event Handler\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    User->>SVG: click / hover / wheel\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    SVG->>Oroya: dispatch InteractionEvent\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Oroya->>Handler: node.on('click', handler)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    Note over Oroya: Event bubbling (hijo ‚Üí padre)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-1-setup-con-rendertosvgelement\">Paso 1: Setup con renderToSVGElement\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  Scene, Node, Camera, CameraType,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  Material, Interactive,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  createBox, createSphere, createPath2D,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">} \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/core'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { renderToSVGElement } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@oroya/renderer-svg'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-2-crear-nodos-interactivos\">Paso 2: Crear nodos interactivos\u003C/h2>\n\u003Cp>El componente \u003Ccode>Interactive\u003C/code> marca un nodo como receptivo a eventos. Configura el cursor CSS y habilita la detecci√≥n:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// C√°mara ortogr√°fica\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'cam'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Orthographic,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  left: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, right: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  top: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, bottom: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Bot√≥n interactivo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> button\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'my-button'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">button.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">160\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">button.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  stroke: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.8\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  strokeWidth: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">button.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Interactive\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ cursor: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'pointer'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">button.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">300\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">button.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(button);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-3-registrar-event-handlers\">Paso 3: Registrar event handlers\u003C/h2>\n\u003Cp>Los handlers se registran en el nodo usando \u003Ccode>node.on()\u003C/code>, igual que con Three.js:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> clickCount \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">button.\u003C/span>\u003Cspan style=\"color:#B392F0\">on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'click'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, (\u003C/span>\u003Cspan style=\"color:#FFAB70\">e\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  clickCount\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`Clicked ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">clickCount\u003C/span>\u003Cspan style=\"color:#9ECBFF\">} times!`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Screen position:'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, e.screenPosition);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">button.\u003C/span>\u003Cspan style=\"color:#B392F0\">on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'pointerenter'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, () \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Mouse entered the button'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">button.\u003C/span>\u003Cspan style=\"color:#B392F0\">on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'pointerleave'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, () \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Mouse left the button'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-4-montar-el-svg-interactivo\">Paso 4: Montar el SVG interactivo\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#79B8FF\">svg\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">dispose\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVGElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  container: document.\u003C/span>\u003Cspan style=\"color:#B392F0\">getElementById\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'app'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// Se adjunta autom√°ticamente\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// El SVG ya est√° en el DOM y responde a eventos\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-5-eventos-soportados\">Paso 5: Eventos soportados\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Evento DOM\u003C/th>\u003Cth>InteractionEventType\u003C/th>\u003Cth>Caso de uso\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>click\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Click\u003C/code>\u003C/td>\u003Ctd>Botones, selecci√≥n\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerdown\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerDown\u003C/code>\u003C/td>\u003Ctd>Inicio de drag, efecto press\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerup\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerUp\u003C/code>\u003C/td>\u003Ctd>Fin de drag\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointermove\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerMove\u003C/code>\u003C/td>\u003Ctd>Tracking del puntero\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerenter\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerEnter\u003C/code>\u003C/td>\u003Ctd>Hover in\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>pointerleave\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>PointerLeave\u003C/code>\u003C/td>\u003Ctd>Hover out\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>wheel\u003C/code>\u003C/td>\u003Ctd>\u003Ccode>Wheel\u003C/code>\u003C/td>\u003Ctd>Zoom, scroll\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"paso-6-event-bubbling\">Paso 6: Event bubbling\u003C/h2>\n\u003Cp>Los eventos se propagan de hijo a padre, igual que en el DOM:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> group\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'group'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">group.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Interactive\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ cursor: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'default'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(group);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> child\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'child'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">child.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createSphere\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">30\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">child.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ fill: { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">child.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Interactive\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ cursor: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'pointer'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">child.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: \u003C/span>\u003Cspan style=\"color:#79B8FF\">300\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y: \u003C/span>\u003Cspan style=\"color:#79B8FF\">250\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">child.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">group.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(child); \u003C/span>\u003Cspan style=\"color:#6A737D\">// child es hijo de group\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// El click en child primero llama al handler de child, luego el de group\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">child.\u003C/span>\u003Cspan style=\"color:#B392F0\">on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'click'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, (\u003C/span>\u003Cspan style=\"color:#FFAB70\">e\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Child clicked!'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, e.target.name);  \u003C/span>\u003Cspan style=\"color:#6A737D\">// \"child\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // e.stopPropagation(); // Descomenta para detener el bubbling\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">group.\u003C/span>\u003Cspan style=\"color:#B392F0\">on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'click'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, (\u003C/span>\u003Cspan style=\"color:#FFAB70\">e\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Group received click!'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, e.target.name);      \u003C/span>\u003Cspan style=\"color:#6A737D\">// \"child\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Current target:'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, e.currentTarget.name); \u003C/span>\u003Cspan style=\"color:#6A737D\">// \"group\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-7-grilla-interactiva--ejemplo-completo\">Paso 7: Grilla interactiva ‚Äî ejemplo completo\u003C/h2>\n\u003Cp>Un ejemplo pr√°ctico con m√∫ltiples elementos interactivos:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> scene\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Scene\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cam\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'cam'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">cam.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Camera\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  type: CameraType.Orthographic,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  left: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, right: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, top: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, bottom: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  near: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, far: \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cam);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> colors\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.95\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.65\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.85\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.75\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.15\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.7\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.9\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  { r: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1.0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cols\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> rows\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cellW\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 600\u003C/span>\u003Cspan style=\"color:#F97583\"> /\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> cols;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cellH\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 400\u003C/span>\u003Cspan style=\"color:#F97583\"> /\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> rows;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> r \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; r \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> rows; r\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> c \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; c \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> cols; c\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> idx\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> r \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> cols \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> c;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cx\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> cellW \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (c \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> cy\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> cellH \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (r \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> color\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> colors[idx \u003C/span>\u003Cspan style=\"color:#F97583\">%\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> colors.\u003C/span>\u003Cspan style=\"color:#79B8FF\">length\u003C/span>\u003Cspan style=\"color:#E1E4E8\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> tile\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Node\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`tile-${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">r\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}-${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">c\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    tile.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">createBox\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cellW \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.7\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, cellH \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    tile.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Material\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      fill: color,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      stroke: { r: color.r \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, g: color.g \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b: color.b \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.5\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      strokeWidth: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    tile.\u003C/span>\u003Cspan style=\"color:#B392F0\">addComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Interactive\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ cursor: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'pointer'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    tile.cssClass \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'tile'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    tile.cssId \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> `tile-${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">idx\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    tile.transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { x: cx, y: cy, z: \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    tile.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // Click handler\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    tile.\u003C/span>\u003Cspan style=\"color:#B392F0\">on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'click'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, () \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`Tile ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">tile\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">name\u003C/span>\u003Cspan style=\"color:#9ECBFF\">} clicked!`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // Hover handler\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    tile.\u003C/span>\u003Cspan style=\"color:#B392F0\">on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'pointerenter'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, () \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`Hovering ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">tile\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">name\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    scene.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(tile);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Montar SVG interactivo\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#79B8FF\">svg\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">dispose\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> } \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVGElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  container: document.body,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-8-css-classes-y-ids\">Paso 8: CSS classes y IDs\u003C/h2>\n\u003Cp>Los nodos pueden tener \u003Ccode>cssClass\u003C/code> y \u003Ccode>cssId\u003C/code> que se emiten como atributos HTML en el SVG generado. Esto permite estilizar con CSS externo:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">tile.cssClass \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'interactive-tile highlight'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">tile.cssId \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'main-tile'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Genera:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"xml\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">rect\u003C/span>\u003Cspan style=\"color:#B392F0\"> id\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"main-tile\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"interactive-tile highlight\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> ... />\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Esto permite usar CSS para agregar efectos de hover sin JavaScript adicional:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"css\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">.interactive-tile:hover\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  filter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">brightness\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1.2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  transition\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: filter \u003C/span>\u003Cspan style=\"color:#79B8FF\">0.2\u003C/span>\u003Cspan style=\"color:#F97583\">s\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"paso-9-cleanup\">Paso 9: Cleanup\u003C/h2>\n\u003Cp>Siempre llama a \u003Ccode>dispose()\u003C/code> cuando ya no necesites el SVG interactivo:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Al desmontar el componente o cambiar de vista:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">dispose\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// - Remueve todos los event listeners (via AbortController)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// - Remueve el SVG element del DOM\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// - Limpia el mapa interno de elementos\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"re-rendering\">Re-rendering\u003C/h2>\n\u003Cp>Si necesitas actualizar el SVG despu√©s de mutar la escena, debes llamar nuevamente a \u003Ccode>renderToSVGElement\u003C/code>:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// 1. Dispose del anterior\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">dispose\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// 2. Mutar la escena\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">someNode.transform.position.x \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 50\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">someNode.transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">updateLocalMatrix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// 3. Re-render\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> result\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToSVGElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(scene, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  width: \u003C/span>\u003Cspan style=\"color:#79B8FF\">600\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, height: \u003C/span>\u003Cspan style=\"color:#79B8FF\">400\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  container: document.body,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Actualizar la referencia de dispose\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Nota:\u003C/strong> A diferencia de Three.js (que re-renderiza en un loop), el SVG renderer es funcional ‚Äî cada llamada genera un SVG nuevo. Para animaciones, usa el componente \u003Ccode>Animation\u003C/code> (SVG nativo) o re-renderiza peri√≥dicamente.\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Ch2 id=\"arquitectura-del-event-system\">Arquitectura del event system\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"mermaid\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">graph TD\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    A[\"Pointer event en SVGElement\"] --> B[\"attachInteractiveListeners\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    B --> C[\"createInteractionEvent\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    C --> D[\"node.dispatchInteraction\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    D --> E[\"node.emit('click', event)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    E --> F{\"¬øpropagationStopped?\"}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    F -->|\"No\"| G[\"parent.emit('click', event)\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    F -->|\"S√≠\"| H[\"Stop\"]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    G --> F\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"demo-interactiva\">Demo interactiva\u003C/h2>\n\u003Cp>Explora la interactividad SVG en la demo \u003Cstrong>‚ÄúSVG Interactive‚Äù\u003C/strong> del demo-react.\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"qu√©-sigue\">¬øQu√© sigue?\u003C/h2>\n\u003Cp>Has completado todos los tutoriales de SVG. Ahora puedes:\u003C/p>\n\u003Cul>\n\u003Cli>Combinar gradientes + animaciones + interactividad en una sola escena.\u003C/li>\n\u003Cli>Exportar SVG animados como archivos \u003Ccode>.svg\u003C/code> auto-contenidos.\u003C/li>\n\u003Cli>Crear dashboards interactivos SVG con event delegation.\u003C/li>\n\u003Cli>Usar \u003Ccode>renderToSVG\u003C/code> en Node.js para server-side rendering.\u003C/li>\n\u003C/ul>\n\u003Cp>‚û°Ô∏è \u003Ca href=\"./README.md\">Volver al √≠ndice de tutoriales\u003C/a>\u003C/p>",{"headings":1433,"localImagePaths":1475,"remoteImagePaths":1476,"frontmatter":1477,"imagePaths":1478},[1434,1437,1440,1443,1446,1449,1452,1455,1458,1461,1464,1467,1470,1473,1474],{"depth":26,"slug":1435,"text":1436},"tutorial-11-svg-interactivo","Tutorial 11: SVG Interactivo üî¥",{"depth":16,"slug":1438,"text":1439},"concepto-rendertosvg-vs-rendertosvgelement","Concepto: renderToSVG vs renderToSVGElement",{"depth":16,"slug":1441,"text":1442},"paso-1-setup-con-rendertosvgelement","Paso 1: Setup con renderToSVGElement",{"depth":16,"slug":1444,"text":1445},"paso-2-crear-nodos-interactivos","Paso 2: Crear nodos interactivos",{"depth":16,"slug":1447,"text":1448},"paso-3-registrar-event-handlers","Paso 3: Registrar event handlers",{"depth":16,"slug":1450,"text":1451},"paso-4-montar-el-svg-interactivo","Paso 4: Montar el SVG interactivo",{"depth":16,"slug":1453,"text":1454},"paso-5-eventos-soportados","Paso 5: Eventos soportados",{"depth":16,"slug":1456,"text":1457},"paso-6-event-bubbling","Paso 6: Event bubbling",{"depth":16,"slug":1459,"text":1460},"paso-7-grilla-interactiva--ejemplo-completo","Paso 7: Grilla interactiva ‚Äî ejemplo completo",{"depth":16,"slug":1462,"text":1463},"paso-8-css-classes-y-ids","Paso 8: CSS classes y IDs",{"depth":16,"slug":1465,"text":1466},"paso-9-cleanup","Paso 9: Cleanup",{"depth":16,"slug":1468,"text":1469},"re-rendering","Re-rendering",{"depth":16,"slug":1471,"text":1472},"arquitectura-del-event-system","Arquitectura del event system",{"depth":16,"slug":1304,"text":1305},{"depth":16,"slug":1353,"text":1354},[],[],{"title":1424,"description":1425,"order":1426,"level":1208,"duration":1256},[]]